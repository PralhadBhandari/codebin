"use strict";(self.webpackChunkCodebin=self.webpackChunkCodebin||[]).push([[179],{710:()=>{function ke(n){return"function"==typeof n}function wu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Td=wu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Tu(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Pn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ke(r))try{r()}catch(o){e=o instanceof Td?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{bD(o)}catch(s){e=e??[],s instanceof Td?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Td(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bD(e);else{if(e instanceof Pn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Tu(t,e)}remove(e){const{_finalizers:t}=this;t&&Tu(t,e),e instanceof Pn&&e._removeParent(this)}}Pn.EMPTY=(()=>{const n=new Pn;return n.closed=!0,n})();const DD=Pn.EMPTY;function AD(n){return n instanceof Pn||n&&"closed"in n&&ke(n.remove)&&ke(n.add)&&ke(n.unsubscribe)}function bD(n){ke(n)?n():n.unsubscribe()}const mo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cd={setTimeout(n,e,...t){const{delegate:r}=Cd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Cd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function SD(n){Cd.setTimeout(()=>{const{onUnhandledError:e}=mo;if(!e)throw n;e(n)})}function Fg(){}const uU=Lg("C",void 0,void 0);function Lg(n,e,t){return{kind:n,value:e,error:t}}let _o=null;function Dd(n){if(mo.useDeprecatedSynchronousErrorHandling){const e=!_o;if(e&&(_o={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=_o;if(_o=null,t)throw r}}else n()}class Ug extends Pn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,AD(e)&&e.add(this)):this.destination=gU}static create(e,t,r){return new Cu(e,t,r)}next(e){this.isStopped?jg(function lU(n){return Lg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?jg(function cU(n){return Lg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jg(uU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const hU=Function.prototype.bind;function Bg(n,e){return hU.call(n,e)}class fU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ad(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ad(r)}else Ad(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ad(t)}}}class Cu extends Ug{constructor(e,t,r){let i;if(super(),ke(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&mo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bg(e.next,o),error:e.error&&Bg(e.error,o),complete:e.complete&&Bg(e.complete,o)}):i=e}this.destination=new fU(i)}}function Ad(n){mo.useDeprecatedSynchronousErrorHandling?function dU(n){mo.useDeprecatedSynchronousErrorHandling&&_o&&(_o.errorThrown=!0,_o.error=n)}(n):SD(n)}function jg(n,e){const{onStoppedNotification:t}=mo;t&&Cd.setTimeout(()=>t(n,e))}const gU={closed:!0,next:Fg,error:function pU(n){throw n},complete:Fg},$g="function"==typeof Symbol&&Symbol.observable||"@@observable";function Di(n){return n}function RD(n){return 0===n.length?Di:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let vt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function yU(n){return n&&n instanceof Ug||function _U(n){return n&&ke(n.next)&&ke(n.error)&&ke(n.complete)}(n)&&AD(n)}(t)?t:new Cu(t,r,i);return Dd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=PD(r))((i,o)=>{const s=new Cu({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[$g](){return this}pipe(...t){return RD(t)(this)}toPromise(t){return new(t=PD(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function PD(n){var e;return null!==(e=n??mo.Promise)&&void 0!==e?e:Promise}const vU=wu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let sr=(()=>{class n extends vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new MD(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new vU}next(t){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?DD:(this.currentObservers=null,o.push(t),new Pn(()=>{this.currentObservers=null,Tu(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new vt;return t.source=this,t}}return n.create=(e,t)=>new MD(e,t),n})();class MD extends sr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:DD}}function xD(n){return ke(n?.lift)}function Ct(n){return e=>{if(xD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(n,e,t,r,i){return new IU(n,e,t,r,i)}class IU extends Ug{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Le(n,e){return Ct((t,r)=>{let i=0;t.subscribe(It(r,o=>{r.next(n.call(e,o,i++))}))})}function qg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ai(n){return this instanceof Ai?(this.v=n,this):new Ai(n)}function VD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Wg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const FD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function LD(n){return ke(n?.then)}function UD(n){return ke(n[$g])}function BD(n){return Symbol.asyncIterator&&ke(n?.[Symbol.asyncIterator])}function jD(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $D=function jU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function HD(n){return ke(n?.[$D])}function GD(n){return function kD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},a("next"),a("throw"),a("return",function s(m){return function(y){return Promise.resolve(y).then(m,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(m,y){r[m]&&(i[m]=function(I){return new Promise(function(E,M){o.push([m,I,E,M])>1||u(m,I)})},y&&(i[m]=y(i[m])))}function u(m,y){try{!function c(m){m.value instanceof Ai?Promise.resolve(m.value.v).then(d,h):p(o[0][2],m)}(r[m](y))}catch(I){p(o[0][3],I)}}function d(m){u("next",m)}function h(m){u("throw",m)}function p(m,y){m(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ai(t.read());if(i)return yield Ai(void 0);yield yield Ai(r)}}finally{t.releaseLock()}})}function qD(n){return ke(n?.getReader)}function Mn(n){if(n instanceof vt)return n;if(null!=n){if(UD(n))return function $U(n){return new vt(e=>{const t=n[$g]();if(ke(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(FD(n))return function HU(n){return new vt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(LD(n))return function GU(n){return new vt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,SD)})}(n);if(BD(n))return zD(n);if(HD(n))return function qU(n){return new vt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(qD(n))return function zU(n){return zD(GD(n))}(n)}throw jD(n)}function zD(n){return new vt(e=>{(function WU(n,e){var t,r,i,o;return function ND(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=VD(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Hr(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ft(n,e,t=1/0){return ke(e)?Ft((r,i)=>Le((o,s)=>e(r,o,i,s))(Mn(n(r,i))),t):("number"==typeof e&&(t=e),Ct((r,i)=>function KU(n,e,t,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const p=()=>{h&&!u.length&&!c&&e.complete()},m=I=>c<r?y(I):u.push(I),y=I=>{o&&e.next(I),c++;let E=!1;Mn(t(I,d++)).subscribe(It(e,M=>{i?.(M),o?m(M):e.next(M)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){const M=u.shift();s?Hr(e,s,()=>y(M)):y(M)}p()}catch(M){e.error(M)}}))};return n.subscribe(It(e,m,()=>{h=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function ms(n=1/0){return Ft(Di,n)}const vr=new vt(n=>n.complete());function Kg(n){return n[n.length-1]}function WD(n){return ke(Kg(n))?n.pop():void 0}function Du(n){return function YU(n){return n&&ke(n.schedule)}(Kg(n))?n.pop():void 0}function KD(n,e=0){return Ct((t,r)=>{t.subscribe(It(r,i=>Hr(r,n,()=>r.next(i),e),()=>Hr(r,n,()=>r.complete(),e),i=>Hr(r,n,()=>r.error(i),e)))})}function QD(n,e=0){return Ct((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function YD(n,e){if(!n)throw new Error("Iterable cannot be null");return new vt(t=>{Hr(t,e,()=>{const r=n[Symbol.asyncIterator]();Hr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Mt(n,e){return e?function rB(n,e){if(null!=n){if(UD(n))return function ZU(n,e){return Mn(n).pipe(QD(e),KD(e))}(n,e);if(FD(n))return function eB(n,e){return new vt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(LD(n))return function XU(n,e){return Mn(n).pipe(QD(e),KD(e))}(n,e);if(BD(n))return YD(n,e);if(HD(n))return function tB(n,e){return new vt(t=>{let r;return Hr(t,e,()=>{r=n[$D](),Hr(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>ke(r?.return)&&r.return()})}(n,e);if(qD(n))return function nB(n,e){return YD(GD(n),e)}(n,e)}throw jD(n)}(n,e):Mn(n)}class Gn extends sr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ce(...n){return Mt(n,Du(n))}function JD(n={}){const{connector:e=(()=>new sr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),s=u=void 0,d=h=!1},y=()=>{const I=s;m(),I?.unsubscribe()};return Ct((I,E)=>{c++,!h&&!d&&p();const M=u=u??e();E.add(()=>{c--,0===c&&!h&&!d&&(a=Qg(y,i))}),M.subscribe(E),!s&&c>0&&(s=new Cu({next:A=>M.next(A),error:A=>{h=!0,p(),a=Qg(m,t,A),M.error(A)},complete:()=>{d=!0,p(),a=Qg(m,r),M.complete()}}),Mn(I).subscribe(s))})(o)}}function Qg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Cu({next:()=>{r.unsubscribe(),n()}});return Mn(e(...t)).subscribe(r)}function Ir(n,e){return Ct((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(It(r,u=>{i?.unsubscribe();let c=0;const d=o++;Mn(n(u,d)).subscribe(i=It(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sB(n,e){return n===e}function Me(n){for(let e in n)if(n[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function bd(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Dt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Dt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Yg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const aB=Me({__forward_ref__:Me});function je(n){return n.__forward_ref__=je,n.toString=function(){return Dt(this())},n}function ae(n){return Jg(n)?n():n}function Jg(n){return"function"==typeof n&&n.hasOwnProperty(aB)&&n.__forward_ref__===je}function Zg(n){return n&&!!n.\u0275providers}const ZD="https://g.co/ng/security#xss";class B extends Error{constructor(e,t){super(function Sd(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function de(n){return"string"==typeof n?n:null==n?"":String(n)}function Xg(n,e){throw new B(-201,!1)}function qn(n,e){null==n&&function oe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rd(n){return XD(n,Md)||XD(n,eA)}function XD(n,e){return n.hasOwnProperty(e)?n[e]:null}function Pd(n){return n&&(n.hasOwnProperty(em)||n.hasOwnProperty(gB))?n[em]:null}const Md=Me({\u0275prov:Me}),em=Me({\u0275inj:Me}),eA=Me({ngInjectableDef:Me}),gB=Me({ngInjectorDef:Me});var ye=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ye||{});let tm;function yn(n){const e=tm;return tm=n,e}function nA(n,e,t){const r=Rd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ye.Optional?null:void 0!==e?e:void Xg(Dt(n))}const $e=globalThis;class Y{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Au={},sm="__NG_DI_FLAG__",xd="ngTempTokenPath",yB=/\n/gm,iA="__source";let _s;function bi(n){const e=_s;return _s=n,e}function EB(n,e=ye.Default){if(void 0===_s)throw new B(-203,!1);return null===_s?nA(n,void 0,e):_s.get(n,e&ye.Optional?null:void 0,e)}function re(n,e=ye.Default){return(function tA(){return tm}()||EB)(ae(n),e)}function K(n,e=ye.Default){return re(n,Nd(e))}function Nd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function am(n){const e=[];for(let t=0;t<n.length;t++){const r=ae(n[t]);if(Array.isArray(r)){if(0===r.length)throw new B(900,!1);let i,o=ye.Default;for(let s=0;s<r.length;s++){const a=r[s],u=wB(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(re(i,o))}else e.push(re(r))}return e}function bu(n,e){return n[sm]=e,n.prototype[sm]=e,n}function wB(n){return n[sm]}function Gr(n){return{toString:n}.toString()}var Od=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Od||{}),ar=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ar||{});const Er={},Ae=[],kd=Me({\u0275cmp:Me}),um=Me({\u0275dir:Me}),cm=Me({\u0275pipe:Me}),sA=Me({\u0275mod:Me}),qr=Me({\u0275fac:Me}),Su=Me({__NG_ELEMENT_ID__:Me}),aA=Me({__NG_ENV_ID__:Me});function uA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function lm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];lA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function cA(n){return 3===n||4===n||6===n}function lA(n){return 64===n.charCodeAt(0)}function Ru(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||dA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function dA(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const hA="ng-template";function DB(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==uA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function fA(n){return 4===n.type&&n.value!==hA}function AB(n,e,t){return e===(4!==n.type||t?n.value:hA)}function bB(n,e,t){let r=4;const i=n.attrs||[],o=function PB(n){for(let e=0;e<n.length;e++)if(cA(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!AB(n,u,t)||""===u&&1===e.length){if(ur(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!DB(n.attrs,c,t)){if(ur(r))return!1;s=!0}continue}const h=SB(8&r?"class":u,i,fA(n),t);if(-1===h){if(ur(r))return!1;s=!0;continue}if(""!==c){let p;p=h>o?"":i[h+1].toLowerCase();const m=8&r?p:null;if(m&&-1!==uA(m,c,0)||2&r&&c!==p){if(ur(r))return!1;s=!0}}}}else{if(!s&&!ur(r)&&!ur(u))return!1;if(s&&ur(u))continue;s=!1,r=u|1&r}}return ur(r)||s}function ur(n){return 0==(1&n)}function SB(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function MB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function pA(n,e,t=!1){for(let r=0;r<e.length;r++)if(bB(n,e[r],t))return!0;return!1}function gA(n,e){return n?":not("+e.trim()+")":e}function NB(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ur(s)&&(e+=gA(o,i),i=""),r=s,o=o||!ur(r);t++}return""!==i&&(e+=gA(o,i)),e}function Wn(n){return Gr(()=>{const e=_A(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Od.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ar.Emulated,styles:n.styles||Ae,_:null,schemas:n.schemas||null,tView:null,id:""};yA(t);const r=n.dependencies;return t.directiveDefs=Vd(r,!1),t.pipeDefs=Vd(r,!0),t.id=function jB(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function FB(n){return Te(n)||Lt(n)}function LB(n){return null!==n}function cr(n){return Gr(()=>({type:n.type,bootstrap:n.bootstrap||Ae,declarations:n.declarations||Ae,imports:n.imports||Ae,exports:n.exports||Ae,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mA(n,e){if(null==n)return Er;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function ue(n){return Gr(()=>{const e=_A(n);return yA(e),e})}function vn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Te(n){return n[kd]||null}function Lt(n){return n[um]||null}function an(n){return n[cm]||null}function Nn(n,e){const t=n[sA]||null;if(!t&&!0===e)throw new Error(`Type ${Dt(n)} does not have '\u0275mod' property.`);return t}function _A(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Er,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ae,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mA(n.inputs,e),outputs:mA(n.outputs)}}function yA(n){n.features?.forEach(e=>e(n))}function Vd(n,e){if(!n)return null;const t=e?an:FB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(LB)}const at=0,z=1,pe=2,Ze=3,lr=4,Pu=5,Wt=6,vs=7,ht=8,Si=9,Is=10,he=11,Mu=12,vA=13,Es=14,ft=15,xu=16,ws=17,wr=18,Nu=19,IA=20,Ri=21,zr=22,Ou=23,ku=24,ve=25,dm=1,EA=2,Tr=7,Ts=9,Ut=11;function In(n){return Array.isArray(n)&&"object"==typeof n[dm]}function un(n){return Array.isArray(n)&&!0===n[dm]}function hm(n){return 0!=(4&n.flags)}function vo(n){return n.componentOffset>-1}function Ld(n){return 1==(1&n.flags)}function dr(n){return!!n.template}function fm(n){return 0!=(512&n[pe])}function Io(n,e){return n.hasOwnProperty(qr)?n[qr]:null}let Bt=null,Ud=!1;function Kn(n){const e=Bt;return Bt=n,e}const CA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function AA(n){if(!Fu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!RA(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function SA(n){n.dirty=!0,function bA(n){if(void 0===n.liveConsumerNode)return;const e=Ud;Ud=!0;try{for(const t of n.liveConsumerNode)t.dirty||SA(t)}finally{Ud=e}}(n),n.consumerMarkedDirty?.(n)}function gm(n){return n&&(n.nextProducerIndex=0),Kn(n)}function mm(n,e){if(Kn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Fu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Bd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function RA(n){Cs(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(AA(t),r!==t.version))return!0}return!1}function PA(n){if(Cs(n),Fu(n))for(let e=0;e<n.producerNode.length;e++)Bd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Bd(n,e){if(function xA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Cs(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Bd(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Cs(i),i.producerIndexOfThis[r]=e}}function Fu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Cs(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let NA=null;const FA=()=>{},ej=(()=>({...CA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:FA}))();class tj{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qn(){return LA}function LA(n){return n.type.prototype.ngOnChanges&&(n.setInput=rj),nj}function nj(){const n=BA(this),e=n?.current;if(e){const t=n.previous;if(t===Er)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function rj(n,e,t,r){const i=this.declaredInputs[t],o=BA(n)||function ij(n,e){return n[UA]=e}(n,{previous:Er,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new tj(u&&u.currentValue,e,a===Er),n[r]=e}Qn.ngInherit=!0;const UA="__ngSimpleChanges__";function BA(n){return n[UA]||null}const Cr=function(n,e,t){};function He(n){for(;Array.isArray(n);)n=n[at];return n}function jd(n,e){return He(e[n])}function En(n,e){return He(e[n.index])}function HA(n,e){return n.data[e]}function Ds(n,e){return n[e]}function On(n,e){const t=e[n];return In(t)?t:t[at]}function Mi(n,e){return null==e?null:n[e]}function GA(n){n[ws]=0}function lj(n){1024&n[pe]||(n[pe]|=1024,zA(n,1))}function qA(n){1024&n[pe]&&(n[pe]&=-1025,zA(n,-1))}function zA(n,e){let t=n[Ze];if(null===t)return;t[Pu]+=e;let r=t;for(t=t[Ze];null!==t&&(1===e&&1===r[Pu]||-1===e&&0===r[Pu]);)t[Pu]+=e,r=t,t=t[Ze]}const se={lFrame:rb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function QA(){return se.bindingsEnabled}function V(){return se.lFrame.lView}function Ce(){return se.lFrame.tView}function Lu(n){return se.lFrame.contextLView=n,n[ht]}function Uu(n){return se.lFrame.contextLView=null,n}function jt(){let n=YA();for(;null!==n&&64===n.type;)n=n.parent;return n}function YA(){return se.lFrame.currentTNode}function Dr(n,e){const t=se.lFrame;t.currentTNode=n,t.isParent=e}function Em(){return se.lFrame.isParent}function cn(){const n=se.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function bs(){return se.lFrame.bindingIndex++}function wj(n,e){const t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,Tm(e)}function Tm(n){se.lFrame.currentDirectiveIndex=n}function eb(){return se.lFrame.currentQueryIndex}function Dm(n){se.lFrame.currentQueryIndex=n}function Cj(n){const e=n[z];return 2===e.type?e.declTNode:1===e.type?n[Wt]:null}function tb(n,e,t){if(t&ye.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ye.Host||(i=Cj(o),null===i||(o=o[Es],10&i.type))););if(null===i)return!1;e=i,n=o}const r=se.lFrame=nb();return r.currentTNode=e,r.lView=n,!0}function Am(n){const e=nb(),t=n[z];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nb(){const n=se.lFrame,e=null===n?null:n.child;return null===e?rb(n):e}function rb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ib(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ob=ib;function bm(){const n=ib();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ln(){return se.lFrame.selectedIndex}function Eo(n){se.lFrame.selectedIndex=n}function it(){const n=se.lFrame;return HA(n.tView,n.selectedIndex)}let ab=!0;function $d(){return ab}function xi(n){ab=n}function Hd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function Gd(n,e,t){ub(n,e,3,t)}function qd(n,e,t,r){(3&n[pe])===t&&ub(n,e,t,r)}function Sm(n,e){let t=n[pe];(3&t)===e&&(t&=8191,t+=1,n[pe]=t)}function ub(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[ws]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[ws]+=65536),(a<o||-1==o)&&(xj(n,t,e,u),n[ws]=(4294901760&n[ws])+u+2),u++}function cb(n,e){Cr(4,n,e);const t=Kn(null);try{e.call(n)}finally{Kn(t),Cr(5,n,e)}}function xj(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[pe]>>13<n[ws]>>16&&(3&n[pe])===e&&(n[pe]+=8192,cb(a,o)):cb(a,o)}const Ss=-1;class ju{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Pm(n){return n!==Ss}function $u(n){return 32767&n}function Hu(n,e){let t=function Vj(n){return n>>16}(n),r=e;for(;t>0;)r=r[Es],t--;return r}let Mm=!0;function zd(n){const e=Mm;return Mm=n,e}const lb=255,db=5;let Fj=0;const Ar={};function Wd(n,e){const t=hb(n,e);if(-1!==t)return t;const r=e[z];r.firstCreatePass&&(n.injectorIndex=e.length,xm(r.data,n),xm(e,null),xm(r.blueprint,null));const i=Kd(n,e),o=n.injectorIndex;if(Pm(i)){const s=$u(i),a=Hu(i,e),u=a[z].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function xm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Kd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=vb(i),null===r)return Ss;if(t++,i=i[Es],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ss}function Nm(n,e,t){!function Lj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Su)&&(r=t[Su]),null==r&&(r=t[Su]=Fj++);const i=r&lb;e.data[n+(i>>db)]|=1<<i}(n,e,t)}function fb(n,e,t){if(t&ye.Optional||void 0!==n)return n;Xg()}function pb(n,e,t,r){if(t&ye.Optional&&void 0===r&&(r=null),!(t&(ye.Self|ye.Host))){const i=n[Si],o=yn(void 0);try{return i?i.get(e,r,t&ye.Optional):nA(e,r,t&ye.Optional)}finally{yn(o)}}return fb(r,0,t)}function gb(n,e,t,r=ye.Default,i){if(null!==n){if(2048&e[pe]&&!(r&ye.Self)){const s=function Gj(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[pe]&&!(512&s[pe]);){const a=mb(o,s,t,r|ye.Self,Ar);if(a!==Ar)return a;let u=o.parent;if(!u){const c=s[IA];if(c){const d=c.get(t,Ar,r);if(d!==Ar)return d}u=vb(s),s=s[Es]}o=u}return i}(n,e,t,r,Ar);if(s!==Ar)return s}const o=mb(n,e,t,r,Ar);if(o!==Ar)return o}return pb(e,t,r,i)}function mb(n,e,t,r,i){const o=function jj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Su)?n[Su]:void 0;return"number"==typeof e?e>=0?e&lb:Hj:e}(t);if("function"==typeof o){if(!tb(e,n,r))return r&ye.Host?fb(i,0,r):pb(e,t,r,i);try{let s;if(s=o(r),null!=s||r&ye.Optional)return s;Xg()}finally{ob()}}else if("number"==typeof o){let s=null,a=hb(n,e),u=Ss,c=r&ye.Host?e[ft][Wt]:null;for((-1===a||r&ye.SkipSelf)&&(u=-1===a?Kd(n,e):e[a+8],u!==Ss&&yb(r,!1)?(s=e[z],a=$u(u),e=Hu(u,e)):a=-1);-1!==a;){const d=e[z];if(_b(o,a,d.data)){const h=Bj(a,e,t,s,r,c);if(h!==Ar)return h}u=e[a+8],u!==Ss&&yb(r,e[z].data[a+8]===c)&&_b(o,a,e)?(s=d,a=$u(u),e=Hu(u,e)):a=-1}}return i}function Bj(n,e,t,r,i,o){const s=e[z],a=s.data[n+8],d=Qd(a,s,t,null==r?vo(a)&&Mm:r!=s&&0!=(3&a.type),i&ye.Host&&o===a);return null!==d?wo(e,s,d,a):Ar}function Qd(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,d=o>>20,p=i?a+d:n.directiveEnd;for(let m=r?a:a+d;m<p;m++){const y=s[m];if(m<u&&t===y||m>=u&&y.type===t)return m}if(i){const m=s[u];if(m&&dr(m)&&m.type===t)return u}return null}function wo(n,e,t,r){let i=n[t];const o=e.data;if(function Nj(n){return n instanceof ju}(i)){const s=i;s.resolving&&function uB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new B(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Pe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():de(n)}(o[t]));const a=zd(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?yn(s.injectImpl):null;tb(n,r,ye.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Mj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=LA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&yn(c),zd(a),s.resolving=!1,ob()}}return i}function _b(n,e,t){return!!(t[e+(n>>db)]&1<<n)}function yb(n,e){return!(n&ye.Self||n&ye.Host&&e)}class dn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return gb(this._tNode,this._lView,e,Nd(r),t)}}function Hj(){return new dn(jt(),V())}function $t(n){return Gr(()=>{const e=n.prototype.constructor,t=e[qr]||Om(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[qr]||Om(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Om(n){return Jg(n)?()=>{const e=Om(ae(n));return e&&e()}:Io(n)}function vb(n){const e=n[z],t=e.type;return 2===t?e.declTNode:1===t?n[Wt]:null}const Ps="__parameters__";function xs(n,e,t){return Gr(()=>{const r=function km(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(Ps)?u[Ps]:Object.defineProperty(u,Ps,{value:[]})[Ps];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Os(n,e){n.forEach(t=>Array.isArray(t)?Os(t,e):e(t))}function Eb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kn(n,e,t){let r=ks(n,e);return r>=0?n[1|r]=t:(r=~r,function Jj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Vm(n,e){const t=ks(n,e);if(t>=0)return n[1|t]}function ks(n,e){return function wb(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Xd=bu(xs("Optional"),8),eh=bu(xs("SkipSelf"),4);function oh(n){return 128==(128&n.flags)}var Ni=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ni||{});const jm=new Map;let E$=0;const Hm="__ngContext__";function Kt(n,e){In(e)?(n[Hm]=e[Nu],function T$(n){jm.set(n[Nu],n)}(e)):n[Hm]=e}let Gm;function qm(n,e){return Gm(n,e)}function Qu(n){const e=n[Ze];return un(e)?e[Ze]:e}function $b(n){return Gb(n[Mu])}function Hb(n){return Gb(n[lr])}function Gb(n){for(;null!==n&&!un(n);)n=n[lr];return n}function Ls(n,e,t,r,i){if(null!=r){let o,s=!1;un(r)?o=r:In(r)&&(s=!0,r=r[at]);const a=He(r);0===n&&null!==t?null==i?Kb(e,t,a):To(e,t,a,i||null,!0):1===n&&null!==t?To(e,t,a,i||null,!0):2===n?function hh(n,e,t){const r=lh(n,e);r&&function $$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function q$(n,e,t,r,i){const o=t[Tr];o!==He(t)&&Ls(e,n,r,o,i);for(let a=Ut;a<t.length;a++){const u=t[a];Ju(u[z],u,n,e,r,o)}}(e,n,o,t,i)}}function uh(n,e,t){return n.createElement(e,t)}function zb(n,e){const t=n[Ts],r=t.indexOf(e);qA(e),t.splice(r,1)}function ch(n,e){if(n.length<=Ut)return;const t=Ut+e,r=n[t];if(r){const i=r[xu];null!==i&&i!==n&&zb(i,r),e>0&&(n[t-1][lr]=r[lr]);const o=Jd(n,Ut+e);!function O$(n,e){Ju(n,e,e[he],2,null,null),e[at]=null,e[Wt]=null}(r[z],r);const s=o[wr];null!==s&&s.detachView(o[z]),r[Ze]=null,r[lr]=null,r[pe]&=-129}return r}function Wm(n,e){if(!(256&e[pe])){const t=e[he];e[Ou]&&PA(e[Ou]),e[ku]&&PA(e[ku]),t.destroyNode&&Ju(n,e,t,3,null,null),function F$(n){let e=n[Mu];if(!e)return Km(n[z],n);for(;e;){let t=null;if(In(e))t=e[Mu];else{const r=e[Ut];r&&(t=r)}if(!t){for(;e&&!e[lr]&&e!==n;)In(e)&&Km(e[z],e),e=e[Ze];null===e&&(e=n),In(e)&&Km(e[z],e),t=e&&e[lr]}e=t}}(e)}}function Km(n,e){if(!(256&e[pe])){e[pe]&=-129,e[pe]|=256,function j$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ju)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Cr(4,a,u);try{u.call(a)}finally{Cr(5,a,u)}}else{Cr(4,i,o);try{o.call(i)}finally{Cr(5,i,o)}}}}}(n,e),function B$(n,e){const t=n.cleanup,r=e[vs];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[vs]=null);const i=e[Ri];if(null!==i){e[Ri]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[z].type&&e[he].destroy();const t=e[xu];if(null!==t&&un(e[Ze])){t!==e[Ze]&&zb(t,e);const r=e[wr];null!==r&&r.detachView(n)}!function C$(n){jm.delete(n[Nu])}(e)}}function Qm(n,e,t){return function Wb(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[at];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===ar.None||o===ar.Emulated)return null}return En(r,t)}}(n,e.parent,t)}function To(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Kb(n,e,t){n.appendChild(e,t)}function Qb(n,e,t,r,i){null!==r?To(n,e,t,r,i):Kb(n,e,t)}function lh(n,e){return n.parentNode(e)}let Ym,e_,ph,Zb=function Jb(n,e,t){return 40&n.type?En(n,t):null};function dh(n,e,t,r){const i=Qm(n,r,e),o=e[he],a=function Yb(n,e,t){return Zb(n,e,t)}(r.parent||e[Wt],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)Qb(o,i,t[u],a,!1);else Qb(o,i,t,a,!1);void 0!==Ym&&Ym(o,r,e,t,i)}function Yu(n,e){if(null!==e){const t=e.type;if(3&t)return En(e,n);if(4&t)return Jm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Yu(n,r);{const i=n[e.index];return un(i)?Jm(-1,i):He(i)}}if(32&t)return qm(e,n)()||He(n[e.index]);{const r=eS(n,e);return null!==r?Array.isArray(r)?r[0]:Yu(Qu(n[ft]),r):Yu(n,e.next)}}return null}function eS(n,e){return null!==e?n[ft][Wt].projection[e.projection]:null}function Jm(n,e){const t=Ut+n+1;if(t<e.length){const r=e[t],i=r[z].firstChild;if(null!==i)return Yu(r,i)}return e[Tr]}function Zm(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Kt(He(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Zm(n,e,t.child,r,i,o,!1),Ls(e,n,i,a,o);else if(32&u){const c=qm(t,r);let d;for(;d=c();)Ls(e,n,i,d,o);Ls(e,n,i,a,o)}else 16&u?nS(n,e,r,t,i,o):Ls(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Ju(n,e,t,r,i,o){Zm(t,r,n.firstChild,e,i,o,!1)}function nS(n,e,t,r,i,o){const s=t[ft],u=s[Wt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ls(e,n,i,u[c],o);else{let c=u;const d=s[Ze];oh(r)&&(c.flags|=128),Zm(n,e,c,d,i,o,!0)}}function rS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iS(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&lm(n,e,r),null!==i&&rS(n,e,i),null!==o&&function W$(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function aS(n){return function t_(){if(void 0===ph&&(ph=null,$e.trustedTypes))try{ph=$e.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ph}()?.createScriptURL(n)||n}class uS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZD})`}}function Oi(n){return n instanceof uS?n.changingThisBreaksApplicationSecurity:n}function Zu(n,e){const t=function rH(n){return n instanceof uS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ZD})`)}return t===e}const aH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var js=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(js||{});function gS(n){const e=ec();return e?e.sanitize(js.URL,n)||"":Zu(n,"URL")?Oi(n):function n_(n){return(n=String(n)).match(aH)?n:"unsafe:"+n}(de(n))}function mS(n){const e=ec();if(e)return aS(e.sanitize(js.RESOURCE_URL,n)||"");if(Zu(n,"ResourceURL"))return aS(Oi(n));throw new B(904,!1)}function ec(){const n=V();return n&&n[Is].sanitizer}const tc=new Y("ENVIRONMENT_INITIALIZER"),yS=new Y("INJECTOR",-1),vS=new Y("INJECTOR_DEF_TYPES");class s_{get(e,t=Au){if(t===Au){const r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return t}}function IH(...n){return{\u0275providers:ES(0,n),\u0275fromNgModule:!0}}function ES(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Os(e,s=>{const a=s;mh(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&wS(i,o),t}function wS(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];a_(i,o=>{e(o,r)})}}function mh(n,e,t,r){if(!(n=ae(n)))return!1;let i=null,o=Pd(n);const s=!o&&Te(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=Pd(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)mh(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Os(o.imports,d=>{mh(d,e,t,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&wS(c,e)}if(!a){const c=Io(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ae},i),e({provide:vS,useValue:i,multi:!0},i),e({provide:tc,useValue:()=>re(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=n;a_(u,d=>{e(d,c)})}}}return i!==n&&void 0!==n.providers}function a_(n,e){for(let t of n)Zg(t)&&(t=t.\u0275providers),Array.isArray(t)?a_(t,e):e(t)}const EH=Me({provide:String,useValue:Me});function u_(n){return null!==n&&"object"==typeof n&&EH in n}function Co(n){return"function"==typeof n}const c_=new Y("Set Injector scope."),_h={},TH={};let l_;function yh(){return void 0===l_&&(l_=new s_),l_}class Jn{}class $s extends Jn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,h_(e,s=>this.processProvider(s)),this.records.set(yS,Hs(void 0,this)),i.has("environment")&&this.records.set(Jn,Hs(void 0,this));const o=this.records.get(c_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vS.multi,Ae,ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=bi(this),r=yn(void 0);try{return e()}finally{bi(t),yn(r)}}get(e,t=Au,r=ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(aA))return e[aA](this);r=Nd(r);const o=bi(this),s=yn(void 0);try{if(!(r&ye.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function SH(n){return"function"==typeof n||"object"==typeof n&&n instanceof Y}(e)&&Rd(e);u=c&&this.injectableDefInScope(c)?Hs(d_(e),_h):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ye.Self?yh():this.parent).get(e,t=r&ye.Optional&&t===Au?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[xd]=a[xd]||[]).unshift(Dt(e)),o)throw a;return function TB(n,e,t,r){const i=n[xd];throw e[iA]&&i.unshift(e[iA]),n.message=function CB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(yB,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[xd]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{yn(s),bi(o)}}resolveInjectorInitializers(){const e=bi(this),t=yn(void 0);try{const i=this.get(tc.multi,Ae,ye.Self);for(const o of i)o()}finally{bi(e),yn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){let t=Co(e=ae(e))?e:ae(e&&e.provide);const r=function DH(n){return u_(n)?Hs(void 0,n.useValue):Hs(DS(n),_h)}(e);if(Co(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Hs(void 0,_h,!0),i.factory=()=>am(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===_h&&(t.value=TH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function bH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ae(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function d_(n){const e=Rd(n),t=null!==e?e.factory:Io(n);if(null!==t)return t;if(n instanceof Y)throw new B(204,!1);if(n instanceof Function)return function CH(n){const e=n.length;if(e>0)throw function zu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new B(204,!1);const t=function pB(n){return n&&(n[Md]||n[eA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new B(204,!1)}function DS(n,e,t){let r;if(Co(n)){const i=ae(n);return Io(i)||d_(i)}if(u_(n))r=()=>ae(n.useValue);else if(function CS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...am(n.deps||[]));else if(function TS(n){return!(!n||!n.useExisting)}(n))r=()=>re(ae(n.useExisting));else{const i=ae(n&&(n.useClass||n.provide));if(!function AH(n){return!!n.deps}(n))return Io(i)||d_(i);r=()=>new i(...am(n.deps))}return r}function Hs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function h_(n,e){for(const t of n)Array.isArray(t)?h_(t,e):t&&Zg(t)?h_(t.\u0275providers,e):e(t)}const vh=new Y("AppId",{providedIn:"root",factory:()=>RH}),RH="ng",AS=new Y("Platform Initializer"),Gs=new Y("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bS=new Y("CSP nonce",{providedIn:"root",factory:()=>function Bs(){if(void 0!==e_)return e_;if(typeof document<"u")return document;throw new B(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let SS=(n,e,t)=>null;function I_(n,e,t=!1){return SS(n,e,t)}class UH{}class MS{}class jH{resolveComponentFactory(e){throw function BH(n){const e=Error(`No component factory found for ${Dt(n)}.`);return e.ngComponent=n,e}(e)}}let Dh=(()=>{class n{static#e=this.NULL=new jH}return n})();function $H(){return Ws(jt(),V())}function Ws(n,e){return new Vn(En(n,e))}let Vn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=$H}return n})();function HH(n){return n instanceof Vn?n.nativeElement:n}class NS{}let Yr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function GH(){const n=V(),t=On(jt().index,n);return(In(t)?t:n)[he]}()}return n})(),qH=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}return n})();class ic{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zH=new ic("16.2.12"),T_={};function FS(n,e=null,t=null,r){const i=LS(n,e,t,r);return i.resolveInjectorInitializers(),i}function LS(n,e=null,t=null,r,i=new Set){const o=[t||Ae,IH(n)];return r=r||("object"==typeof n?void 0:Dt(n)),new $s(o,e||yh(),r||null,i)}let Fn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Au;static#t=this.NULL=new s_;static create(t,r){if(Array.isArray(t))return FS({name:""},r,t,"");{const i=t.name??"";return FS({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>re(yS)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function D_(n){return n.ngOriginalError}class Jr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&D_(e);for(;t&&D_(t);)t=D_(t);return t||null}}function b_(n){return e=>{setTimeout(n,void 0,e)}}const ut=class XH extends sr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=b_(o),i&&(i=b_(i)),s&&(s=b_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pn&&e.add(a),a}};function BS(...n){}class Ge{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ut(!1),this.onMicrotaskEmpty=new ut(!1),this.onStable=new ut(!1),this.onError=new ut(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function eG(){const n="function"==typeof $e.requestAnimationFrame;let e=$e[n?"requestAnimationFrame":"setTimeout"],t=$e[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function rG(n){const e=()=>{!function nG(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call($e,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,R_(n),n.isCheckStableRunning=!0,S_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),R_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function oG(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return jS(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),$S(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return jS(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),$S(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,R_(n),S_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,tG,BS,BS);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const tG={};function S_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function R_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function jS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $S(n){n._nesting--,S_(n)}class iG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ut,this.onMicrotaskEmpty=new ut,this.onStable=new ut,this.onError=new ut}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const HS=new Y("",{providedIn:"root",factory:GS});function GS(){const n=K(Ge);let e=!0;return function iB(...n){const e=Du(n),t=function JU(n,e){return"number"==typeof Kg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Mn(r[0]):ms(t)(Mt(r,e)):vr}(new vt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new vt(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(JD()))}function Zr(n){return n instanceof Function?n():n}let P_=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}return n})();function oc(n){for(;n;){n[pe]|=64;const e=Qu(n);if(fm(n)&&!e)return n;n=e}return null}const QS=new Y("",{providedIn:"root",factory:()=>!1});let bh=null;function XS(n,e){return n[e]??n0()}function e0(n,e){const t=n0();t.producerNode?.length&&(n[e]=bh,t.lView=n,bh=t0())}const gG={...CA,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{oc(n.lView)},lView:null};function t0(){return Object.create(gG)}function n0(){return bh??=t0(),bh}const fe={};function Xe(n){r0(Ce(),V(),ln()+n,!1)}function r0(n,e,t,r){if(!r)if(3==(3&e[pe])){const o=n.preOrderCheckHooks;null!==o&&Gd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&qd(e,o,0,t)}Eo(t)}function F(n,e=ye.Default){const t=V();return null===t?re(n,e):gb(jt(),t,ae(n),e)}function Sh(n,e,t,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[at]=i,h[pe]=140|r,(null!==c||n&&2048&n[pe])&&(h[pe]|=2048),GA(h),h[Ze]=h[Es]=n,h[ht]=t,h[Is]=s||n&&n[Is],h[he]=a||n&&n[he],h[Si]=u||n&&n[Si]||null,h[Wt]=o,h[Nu]=function w$(){return E$++}(),h[zr]=d,h[IA]=c,h[ft]=2==e.type?n[ft]:h,h}function Ys(n,e,t,r,i){let o=n.data[e];if(null===o)o=function M_(n,e,t,r,i){const o=YA(),s=Em(),u=n.data[e]=function TG(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function As(){return null!==se.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,e,t,r,i),function Ej(){return se.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Bu(){const n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Dr(o,!0),o}function sc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function s0(n,e,t,r,i){const o=XS(e,Ou),s=ln(),a=2&r;try{Eo(-1),a&&e.length>ve&&r0(n,e,ve,!1),Cr(a?2:0,i);const c=a?o:null,d=gm(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{mm(c,d)}}finally{a&&null===e[Ou]&&e0(e,Ou),Eo(s),Cr(a?3:1,i)}}function x_(n,e,t){if(hm(e)){const r=Kn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Kn(r)}}}function N_(n,e,t){QA()&&(function PG(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;vo(t)&&function FG(n,e,t){const r=En(e,n),i=a0(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Rh(n,Sh(n,i,null,s,r,e,null,n[Is].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Wd(t,e),Kt(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=wo(e,n,a,t);Kt(c,e),null!==s&&LG(0,a-i,c,u,0,s),dr(u)&&(On(t.index,e)[ht]=wo(e,n,a,t))}}(n,e,t,En(t,e)),64==(64&t.flags)&&h0(n,e,t))}function O_(n,e,t=En){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function a0(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=k_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function k_(n,e,t,r,i,o,s,a,u,c,d){const h=ve+r,p=h+i,m=function _G(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:fe);return t}(h,p),y="function"==typeof c?c():c;return m[z]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1,ssrId:d}}let u0=n=>null;function c0(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?l0(t,e,i,o):r.hasOwnProperty(i)&&l0(t,e,r[i],o)}return t}function l0(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function V_(n,e,t,r){if(QA()){const i=null===r?null:{"":-1},o=function xG(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(pA(e,s.selectors,!1))if(r||(r=[]),dr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),F_(n,e,a.length)}else r.unshift(s),F_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&d0(n,e,t,s,i,a),i&&function NG(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new B(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Ru(t.mergedAttrs,t.attrs)}function d0(n,e,t,r,i,o){for(let c=0;c<r.length;c++)Nm(Wd(t,e),n,r[c].type);!function kG(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,u=sc(n,e,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];t.mergedAttrs=Ru(t.mergedAttrs,d.hostAttrs),VG(n,t,e,u,d),OG(u,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function CG(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,c=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=t?t.get(h):null,y=p?p.outputs:null;u=c0(h.inputs,d,u,p?p.inputs:null),c=c0(h.outputs,d,c,y);const I=null===u||null===s||fA(e)?null:UG(u,d,s);a.push(I)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,o)}function h0(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function Tj(){return se.lFrame.currentDirectiveIndex}();try{Eo(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];Tm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&MG(u,c)}}finally{Eo(-1),Tm(s)}}function MG(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function F_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function OG(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;dr(e)&&(t[""]=n)}}function VG(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Io(i.type)),s=new ju(o,dr(i),F);n.blueprint[r]=s,t[r]=s,function SG(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function RG(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,sc(n,t,i.hostVars,fe),i)}function br(n,e,t,r,i,o){const s=En(n,e);!function L_(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?de(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[he],s,o,n.value,t,r,i)}function LG(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)f0(r,t,s[a++],s[a++],s[a++])}function f0(n,e,t,r,i){const o=Kn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Kn(o)}}function UG(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function p0(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function g0(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Dm(t[r]),s.contentQueries(2,e[o],o)}}}function Rh(n,e){return n[Mu]?n[vA][lr]=e:n[Mu]=e,n[vA]=e,e}function U_(n,e,t){Dm(0);const r=Kn(null);try{e(n,t)}finally{Kn(r)}}function m0(n){return n[vs]||(n[vs]=[])}function _0(n){return n.cleanup||(n.cleanup=[])}function v0(n,e){const t=n[Si],r=t?t.get(Jr,null):null;r&&r.handleError(e)}function B_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];f0(n.data[s],e[s],r,a,i)}}function BG(n,e){const t=On(e,n),r=t[z];!function jG(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[at];null!==i&&null===t[zr]&&(t[zr]=I_(i,t[Si])),j_(r,t,t[ht])}function j_(n,e,t){Am(e);try{const r=n.viewQuery;null!==r&&U_(1,r,t);const i=n.template;null!==i&&s0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&g0(n,e),n.staticViewQueries&&U_(2,n.viewQuery,t);const o=n.components;null!==o&&function $G(n,e){for(let t=0;t<e.length;t++)BG(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[pe]&=-5,bm()}}let I0=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function XB(n,e,t){const r=Object.create(ej);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>SA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!RA(r))return;r.hasRun=!0;const s=gm(r);try{r.cleanupFn(),r.cleanupFn=FA,r.fn(i)}finally{mm(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ph(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Yg(i,a):2==o&&(r=Yg(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ac(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(He(o)),un(o)&&E0(o,r);const s=t.type;if(8&s)ac(n,e,t.child,r);else if(32&s){const a=qm(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=eS(e,t);if(Array.isArray(a))r.push(...a);else{const u=Qu(e[ft]);ac(u[z],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function E0(n,e){for(let t=Ut;t<n.length;t++){const r=n[t],i=r[z].firstChild;null!==i&&ac(r[z],r,i,e)}n[Tr]!==n[at]&&e.push(n[Tr])}function Mh(n,e,t,r=!0){const i=e[Is],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{w0(n,e,n.template,t)}catch(u){throw r&&v0(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function w0(n,e,t,r){const i=e[pe];if(256!=(256&i)){e[Is].effectManager?.flush(),Am(e);try{GA(e),function ZA(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&s0(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Gd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&qd(e,c,0,null),Sm(e,0)}if(function qG(n){for(let e=$b(n);null!==e;e=Hb(e)){if(!e[EA])continue;const t=e[Ts];for(let r=0;r<t.length;r++){lj(t[r])}}}(e),T0(e,2),null!==n.contentQueries&&g0(n,e),s){const c=n.contentCheckHooks;null!==c&&Gd(e,c)}else{const c=n.contentHooks;null!==c&&qd(e,c,1),Sm(e,1)}!function mG(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=XS(e,ku);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Eo(~o);else{const s=o,a=t[++i],u=t[++i];wj(a,s),r.dirty=!1;const c=gm(r);try{u(2,e[s])}finally{mm(r,c)}}}}finally{null===e[ku]&&e0(e,ku),Eo(-1)}}(n,e);const a=n.components;null!==a&&D0(e,a,0);const u=n.viewQuery;if(null!==u&&U_(2,u,r),s){const c=n.viewCheckHooks;null!==c&&Gd(e,c)}else{const c=n.viewHooks;null!==c&&qd(e,c,2),Sm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[pe]&=-73,qA(e)}finally{bm()}}}function T0(n,e){for(let t=$b(n);null!==t;t=Hb(t))for(let r=Ut;r<t.length;r++)C0(t[r],e)}function zG(n,e,t){C0(On(e,n),t)}function C0(n,e){if(!function uj(n){return 128==(128&n[pe])}(n))return;const t=n[z],r=n[pe];if(80&r&&0===e||1024&r||2===e)w0(t,n,t.template,n[ht]);else if(n[Pu]>0){T0(n,1);const i=t.components;null!==i&&D0(n,i,1)}}function D0(n,e,t){for(let r=0;r<e.length;r++)zG(n,e[r],t)}class uc{get rootNodes(){const e=this._lView,t=e[z];return ac(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return 256==(256&this._lView[pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ze];if(un(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(ch(e,r),Jd(t,r))}this._attachedToViewContainer=!1}Wm(this._lView[z],this._lView)}onDestroy(e){!function WA(n,e){if(256==(256&n[pe]))throw new B(911,!1);null===n[Ri]&&(n[Ri]=[]),n[Ri].push(e)}(this._lView,e)}markForCheck(){oc(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-129}reattach(){this._lView[pe]|=128}detectChanges(){Mh(this._lView[z],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function V$(n,e){Ju(n,e,e[he],2,null,null)}(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e}}class WG extends uc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Mh(e[z],e,e[ht],!1)}checkNoChanges(){}get context(){return null}}class A0 extends Dh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Te(e);return new cc(t,this.ngModule)}}function b0(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class QG{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Nd(r);const i=this.injector.get(e,T_,r);return i!==T_||t===T_?i:this.parentInjector.get(e,t,r)}}class cc extends MS{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=b0(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return b0(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function OB(n){return n.map(NB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Jn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new QG(e,o):e,a=s.get(NS,null);if(null===a)throw new B(407,!1);const h={rendererFactory:a,sanitizer:s.get(qH,null),effectManager:s.get(I0,null),afterRenderEventManager:s.get(P_,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function yG(n,e,t,r){const o=r.get(QS,!1)||t===ar.ShadowDom,s=n.selectRootElement(e,o);return function vG(n){u0(n)}(s),s}(p,r,this.componentDef.encapsulation,s):uh(p,m,function KG(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==y&&(A=I_(y,s,!0));const k=k_(0,null,null,1,0,null,null,null,null,null,null),j=Sh(null,k,null,M,null,null,h,p,s,null,A);let W,X;Am(j);try{const D=this.componentDef;let v,w=null;D.findHostDirectiveDefs?(v=[],w=new Map,D.findHostDirectiveDefs(D,v,w),v.push(D)):v=[D];const b=function JG(n,e){const t=n[z],r=ve;return n[r]=e,Ys(t,r,2,"#host",null)}(j,y),S=function ZG(n,e,t,r,i,o,s){const a=i[z];!function XG(n,e,t,r){for(const i of n)e.mergedAttrs=Ru(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ph(e,e.mergedAttrs,!0),null!==t&&iS(r,t,e))}(r,n,e,s);let u=null;null!==e&&(u=I_(e,i[Si]));const c=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=Sh(i,a0(t),null,d,i[n.index],n,o,c,null,null,u);return a.firstCreatePass&&F_(a,n,r.length-1),Rh(i,h),i[n.index]=h}(b,y,D,v,j,h,p);X=HA(k,ve),y&&function t4(n,e,t,r){if(r)lm(n,t,["ng-version",zH.full]);else{const{attrs:i,classes:o}=function kB(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ur(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&lm(n,t,i),o&&o.length>0&&rS(n,t,o.join(" "))}}(p,D,y,r),void 0!==t&&function n4(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(X,this.ngContentSelectors,t),W=function e4(n,e,t,r,i,o){const s=jt(),a=i[z],u=En(s,i);d0(a,i,s,t,null,r);for(let d=0;d<t.length;d++)Kt(wo(i,a,s.directiveStart+d,s),i);h0(a,i,s),u&&Kt(u,i);const c=wo(i,a,s.directiveStart+s.componentOffset,s);if(n[ht]=i[ht]=c,null!==o)for(const d of o)d(c,e);return x_(a,s,n),c}(S,D,v,w,j,[r4]),j_(k,j,null)}finally{bm()}return new YG(this.componentType,W,Ws(X,j),j,X)}}class YG extends UH{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new WG(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;B_(o[z],o,i,e,t),this.previousInputValues.set(e,t),oc(On(this._tNode.index,o))}}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function r4(){const n=jt();Hd(V()[z],n)}function xe(n){let e=function S0(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(dr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=xh(n.inputs),s.inputTransforms=xh(n.inputTransforms),s.declaredInputs=xh(n.declaredInputs),s.outputs=xh(n.outputs);const a=i.hostBindings;a&&a4(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&o4(n,u),c&&s4(n,c),bd(n.inputs,i.inputs),bd(n.declaredInputs,i.declaredInputs),bd(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),bd(s.inputTransforms,i.inputTransforms)),dr(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===xe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function i4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ru(i.hostAttrs,t=Ru(t,i.hostAttrs))}}(r)}function xh(n){return n===Er?{}:n===Ae?[]:n}function o4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function s4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function a4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function x0(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Nh(n){return!!function $_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Qt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Rr(n,e,t,r){const i=V();return Qt(i,bs(),e)&&(Ce(),br(it(),i,n,e,t,r)),Rr}function Ao(n,e,t,r,i,o,s,a){const u=V(),c=Ce(),d=n+ve,h=c.firstCreatePass?function x4(n,e,t,r,i,o,s,a,u){const c=e.consts,d=Ys(e,n,4,s||null,Mi(c,a));V_(e,t,d,Mi(c,u)),Hd(e,d);const h=d.tView=k_(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,c,u,e,t,r,i,o,s):c.data[d];Dr(h,!1);const p=q0(c,u,h,n);$d()&&dh(c,u,p,h),Kt(p,u),Rh(u,u[d]=p0(p,u,p,h)),Ld(h)&&N_(c,u,h),null!=s&&O_(u,h,a)}let q0=function z0(n,e,t,r){return xi(!0),e[he].createComment("")};function bo(n){return Ds(function Ij(){return se.lFrame.contextLView}(),ve+n)}function et(n,e,t){const r=V();return Qt(r,bs(),e)&&function Ln(n,e,t,r,i,o,s,a){const u=En(e,t);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(B_(n,t,d,r,i),vo(e)&&function AG(n,e){const t=On(e,n);16&t[pe]||(t[pe]|=64)}(t,e.index)):3&e.type&&(r=function DG(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(Ce(),it(),r,n,e,r[he],t,!1),et}function K_(n,e,t,r,i){const s=i?"class":"style";B_(n,t,e.inputs[s],s,r)}function te(n,e,t,r){const i=V(),o=Ce(),s=ve+n,a=i[he],u=o.firstCreatePass?function V4(n,e,t,r,i,o){const s=e.consts,u=Ys(e,n,2,r,Mi(s,i));return V_(e,t,u,Mi(s,o)),null!==u.attrs&&Ph(u,u.attrs,!1),null!==u.mergedAttrs&&Ph(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,t,r):o.data[s],c=W0(o,i,u,a,e,n);i[s]=c;const d=Ld(u);return Dr(u,!0),iS(a,c,u),32!=(32&u.flags)&&$d()&&dh(o,i,c,u),0===function hj(){return se.lFrame.elementDepthCount}()&&Kt(c,i),function fj(){se.lFrame.elementDepthCount++}(),d&&(N_(o,i,u),x_(o,u,i)),null!==r&&O_(i,u),te}function ee(){let n=jt();Em()?function wm(){se.lFrame.isParent=!1}():(n=n.parent,Dr(n,!1));const e=n;(function gj(n){return se.skipHydrationRootTNode===n})(e)&&function vj(){se.skipHydrationRootTNode=null}(),function pj(){se.lFrame.elementDepthCount--}();const t=Ce();return t.firstCreatePass&&(Hd(t,n),hm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Oj(n){return 0!=(8&n.flags)}(e)&&K_(t,e,V(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function kj(n){return 0!=(16&n.flags)}(e)&&K_(t,e,V(),e.stylesWithoutHost,!1),ee}function Xn(n,e,t,r){return te(n,e,t,r),ee(),Xn}let W0=(n,e,t,r,i,o)=>(xi(!0),uh(r,i,function sb(){return se.lFrame.currentNamespace}()));function J_(){return V()}function pc(n){return!!n&&"function"==typeof n.then}function Y0(n){return!!n&&"function"==typeof n.subscribe}function xt(n,e,t,r){const i=V(),o=Ce(),s=jt();return function Z0(n,e,t,r,i,o,s){const a=Ld(r),c=n.firstCreatePass&&_0(n),d=e[ht],h=m0(e);let p=!0;if(3&r.type||s){const I=En(r,e),E=s?s(I):I,M=h.length,A=s?j=>s(He(j[r.index])):r.index;let k=null;if(!s&&a&&(k=function $4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[vs],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,p=!1;else{o=eR(r,e,d,o,!1);const j=t.listen(E,i,o);h.push(o,j),c&&c.push(i,A,M,M+1)}}else o=eR(r,e,d,o,!1);const m=r.outputs;let y;if(p&&null!==m&&(y=m[i])){const I=y.length;if(I)for(let E=0;E<I;E+=2){const W=e[y[E]][y[E+1]].subscribe(o),X=h.length;h.push(o,W),c&&c.push(i,r.index,X,-(X+1))}}}(o,i,i[he],s,n,e,r),xt}function X0(n,e,t,r){try{return Cr(6,e,t),!1!==t(r)}catch(i){return v0(n,i),!1}finally{Cr(7,e,t)}}function eR(n,e,t,r,i){return function o(s){if(s===Function)return r;oc(n.componentOffset>-1?On(n.index,e):e);let u=X0(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)u=X0(e,t,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function tR(n=1){return function Dj(n){return(se.lFrame.contextLView=function Aj(n,e){for(;n>0;)e=e[Es],n--;return e}(n,se.lFrame.contextLView))[ht]}(n)}function Lh(n,e){return n<<17|e<<2}function ki(n){return n>>17&32767}function X_(n){return 2|n}function So(n){return(131068&n)>>2}function ey(n,e){return-131069&n|e<<2}function ty(n){return 1|n}function dR(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?ki(o):So(o),u=!1;for(;0!==a&&(!1===u||s);){const d=n[a+1];J4(n[a],e)&&(u=!0,n[a+1]=r?ty(d):X_(d)),a=r?ki(d):So(d)}u&&(n[t+1]=r?X_(o):ty(o))}function J4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ks(n,e)>=0}function Uh(n,e){return function hr(n,e,t,r){const i=V(),o=Ce(),s=function Kr(n){const e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function IR(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[ln()],s=function vR(n,e){return e>=n.expandoStartIndex}(n,t);(function CR(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function s3(n,e,t,r){const i=function Cm(n){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=gc(t=ny(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=ny(i,n,e,t,r),null===o){let u=function a3(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==So(r))return n[ki(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=ny(null,n,e,u[1],r),u=gc(u,e.attrs,r),function u3(n,e,t,r){n[ki(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function c3(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=gc(r,n[o].hostAttrs,t);return gc(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function Q4(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ki(s),u=So(s);n[r]=t;let d,c=!1;if(Array.isArray(t)?(d=t[1],(null===d||ks(t,d)>0)&&(c=!0)):d=t,i)if(0!==u){const p=ki(n[a+1]);n[r+1]=Lh(p,a),0!==p&&(n[p+1]=ey(n[p+1],r)),n[a+1]=function W4(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Lh(a,0),0!==a&&(n[a+1]=ey(n[a+1],r)),a=r;else n[r+1]=Lh(u,0),0===a?a=r:n[u+1]=ey(n[u+1],r),u=r;c&&(n[r+1]=X_(n[r+1])),dR(n,d,r,!0),dR(n,d,r,!1),function Y4(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ks(o,e)>=0&&(t[r+1]=ty(t[r+1]))}(e,d,n,r,o),s=Lh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==fe&&Qt(i,s,e)&&function wR(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],d=function K4(n){return 1==(1&n)}(c)?TR(u,e,t,i,So(c),s):void 0;Bh(d)||(Bh(o)||function z4(n){return 2==(2&n)}(c)&&(o=TR(u,null,t,i,a,s)),function z$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Ni.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ni.Important),n.setStyle(t,r,i,o))}}(r,s,jd(ln(),t),i,o))}(o,o.data[ln()],i,i[he],n,i[s+1]=function f3(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Dt(Oi(n)))),n}(e,t),r,s)}(n,e,null,!0),Uh}function ny(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=gc(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function gc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),kn(n,s,!!t||e[++o]))}return void 0===n?null:n}function TR(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let p=t[i+1];p===fe&&(p=h?Ae:void 0);let m=h?Vm(p,r):d===r?p:void 0;if(c&&!Bh(m)&&(m=Vm(u,r)),Bh(m)&&(a=m,s))return a;const y=n[i+1];i=s?ki(y):So(y)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Vm(u,r))}return a}function Bh(n){return void 0!==n}function ie(n,e=""){const t=V(),r=Ce(),i=n+ve,o=r.firstCreatePass?Ys(r,i,1,e,null):r.data[i],s=DR(r,t,o,e,n);t[i]=s,$d()&&dh(r,t,s,o),Dr(o,!1)}let DR=(n,e,t,r,i)=>(xi(!0),function ah(n,e){return n.createText(e)}(e[he],r));function mc(n){return ry("",n,""),mc}function ry(n,e,t){const r=V(),i=function Zs(n,e,t,r){return Qt(n,bs(),t)?e+de(t)+r:fe}(r,n,e,t);return i!==fe&&function Xr(n,e,t){const r=jd(e,n);!function qb(n,e,t){n.setValue(e,t)}(n[he],r,t)}(r,ln(),i),ry}const ua="en-US";let WR=ua;function sy(n,e,t,r,i){if(n=ae(n),Array.isArray(n))for(let o=0;o<n.length;o++)sy(n[o],e,t,r,i);else{const o=Ce(),s=V(),a=jt();let u=Co(n)?n:ae(n.provide);const c=DS(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(Co(n)||!n.multi){const m=new ju(c,i,F),y=uy(u,e,i?d:d+p,h);-1===y?(Nm(Wd(a,s),o,u),ay(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[y]=m,s[y]=m)}else{const m=uy(u,e,d+p,h),y=uy(u,e,d,d+p),E=y>=0&&t[y];if(i&&!E||!i&&!(m>=0&&t[m])){Nm(Wd(a,s),o,u);const M=function Oq(n,e,t,r,i){const o=new ju(n,t,F);return o.multi=[],o.index=e,o.componentProviders=0,yP(o,i,r&&!t),o}(i?Nq:xq,t.length,i,r,c);!i&&E&&(t[y].providerFactory=M),ay(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else ay(o,n,m>-1?m:y,yP(t[i?y:m],c,!i&&r));!i&&r&&E&&t[y].componentProviders++}}}function ay(n,e,t,r){const i=Co(e),o=function wH(n){return!!n.useClass}(e);if(i||o){const u=(o?ae(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(t);-1===d?c.push(t,[r,u]):c[d+1].push(r,u)}else c.push(t,u)}}}function yP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function uy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function xq(n,e,t,r){return cy(this.multi,[])}function Nq(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=wo(t,t[z],this.providerFactory.index,r);o=a.slice(0,s),cy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],cy(i,o);return o}function cy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function tt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Mq(n,e,t){const r=Ce();if(r.firstCreatePass){const i=dr(n);sy(t,r.data,r.blueprint,i,!0),sy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Po{}class vP{}class ly extends Po{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new A0(this);const i=Nn(e);this._bootstrapComponents=Zr(i.bootstrap),this._r3Injector=LS(e,t,[{provide:Po,useValue:this},{provide:Dh,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class dy extends vP{constructor(e){super(),this.moduleType=e}create(e){return new ly(this.moduleType,e,[])}}class IP extends Po{constructor(e){super(),this.componentFactoryResolver=new A0(this),this.instance=null;const t=new $s([...e.providers,{provide:Po,useValue:this},{provide:Dh,useValue:this.componentFactoryResolver}],e.parent||yh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function hy(n,e,t=null){return new IP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Fq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=ES(0,t.type),i=r.length>0?hy([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n(re(Jn))})}return n})();function EP(n){n.getStandaloneInjector=e=>e.get(Fq).getOrCreateStandaloneInjector(n)}function RP(n,e,t,r,i,o){const s=e+t;return Qt(n,s,i)?function Sr(n,e,t){return n[e]=t}(n,s+1,o?r.call(o,i):r(i)):function wc(n,e){const t=n[e];return t===fe?void 0:t}(n,s+1)}function py(n,e){const t=Ce();let r;const i=n+ve;t.firstCreatePass?(r=function tz(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Io(r.type)),a=yn(F);try{const u=zd(!1),c=o();return zd(u),function k4(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,V(),i,c),c}finally{yn(a)}}function gy(n,e,t){const r=n+ve,i=V(),o=Ds(i,r);return function Tc(n,e){return n[z].data[e].pure}(i,r)?RP(i,cn(),e,o.transform,t,o):o.transform(t)}function sz(){return this._results[Symbol.iterator]()}class my{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ut)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=my.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=sz)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Yn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Qj(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function uz(n,e,t,r=!0){const i=e[z];if(function L$(n,e,t,r){const i=Ut+r,o=t.length;r>0&&(t[i-1][lr]=e),r<o-Ut?(e[lr]=t[i],Eb(t,Ut+r,e)):(t.push(e),e[lr]=null),e[Ze]=t;const s=e[xu];null!==s&&t!==s&&function U$(n,e){const t=n[Ts];e[ft]!==e[Ze][Ze][ft]&&(n[EA]=!0),null===t?n[Ts]=[e]:t.push(e)}(s,e);const a=e[wr];null!==a&&a.insertView(n),e[pe]|=128}(i,e,n,t),r){const o=Jm(t,n),s=e[he],a=lh(s,n[Tr]);null!==a&&function k$(n,e,t,r,i,o){r[at]=i,r[Wt]=e,Ju(n,r,t,1,i,o)}(i,n[Wt],s,e,a,o)}}let ei=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=dz}return n})();const cz=ei,lz=class extends cz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function az(n,e,t,r){const i=e.tView,a=Sh(n,i,t,4096&n[pe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[xu]=n[e.index];const c=n[wr];return null!==c&&(a[wr]=c.createEmbeddedView(i)),j_(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new uc(i)}};function dz(){return qh(jt(),V())}function qh(n,e){return 4&n.type?new lz(e,n,Ws(n,e)):null}let pr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=_z}return n})();function _z(){return BP(jt(),V())}const yz=pr,LP=class extends yz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ws(this._hostTNode,this._hostLView)}get injector(){return new dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kd(this._hostTNode,this._hostLView);if(Pm(e)){const t=Hu(e,this._hostLView),r=$u(e);return new dn(t[z].data[r+8],t)}return new dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=UP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function qu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const I=t||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const u=s?e:new cc(Te(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const E=(s?c:this.parentInjector).get(Jn,null);E&&(o=E)}Te(u.componentType??{});const m=u.create(c,i,null,o);return this.insertImpl(m.hostView,a,false),m}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function cj(n){return un(n[Ze])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ze],d=new LP(c,c[Wt],c[Ze]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return uz(a,i,s,!r),e.attachToViewContainerRef(),Eb(_y(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=UP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=ch(this._lContainer,t);r&&(Jd(_y(this._lContainer),t),Wm(r[z],r))}detach(e){const t=this._adjustIndex(e,-1),r=ch(this._lContainer,t);return r&&null!=Jd(_y(this._lContainer),t)?new uc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function UP(n){return n[8]}function _y(n){return n[8]||(n[8]=[])}function BP(n,e){let t;const r=e[n.index];return un(r)?t=r:(t=p0(r,e,null,n),e[n.index]=t,Rh(e,t)),jP(t,e,n,r),new LP(t,n,e)}let jP=function $P(n,e,t,r){if(n[Tr])return;let i;i=8&t.type?He(r):function vz(n,e){const t=n[he],r=t.createComment(""),i=En(e,n);return To(t,lh(t,i),r,function H$(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Tr]=i};class yy{constructor(e){this.queryList=e,this.matches=null}clone(){return new yy(this.queryList)}setDirty(){this.queryList.setDirty()}}class vy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new vy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==YP(e,t).matches&&this.queries[t].setDirty()}}class HP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Iy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Iy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ey{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ey(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,wz(t,o)),this.matchTNodeWithReadOption(e,t,Qd(t,e,o,!1,!1))}else r===ei?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Vn||i===pr||i===ei&&4&t.type)this.addMatch(t.index,-2);else{const o=Qd(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function wz(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Cz(n,e,t,r){return-1===t?function Tz(n,e){return 11&n.type?Ws(n,e):4&n.type?qh(n,e):null}(e,n):-2===t?function Dz(n,e,t){return t===Vn?Ws(e,n):t===ei?qh(e,n):t===pr?BP(e,n):void 0}(n,e,r):wo(n,n[z],t,e)}function GP(n,e,t,r){const i=e[wr].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:Cz(e,o[c],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function wy(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=GP(n,e,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],d=e[-u];for(let h=Ut;h<d.length;h++){const p=d[h];p[xu]===p[Ze]&&wy(p[z],p,c,r)}if(null!==d[Ts]){const h=d[Ts];for(let p=0;p<h.length;p++){const m=h[p];wy(m[z],m,c,r)}}}}}return r}function qP(n){const e=V(),t=Ce(),r=eb();Dm(r+1);const i=YP(t,r);if(n.dirty&&function aj(n){return 4==(4&n[pe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?wy(t,e,r,[]):GP(t,e,i,r);n.reset(o,HH),n.notifyOnChanges()}return!0}return!1}function zP(n,e,t,r){const i=Ce();if(i.firstCreatePass){const o=jt();(function QP(n,e,t){null===n.queries&&(n.queries=new Iy),n.queries.track(new Ey(e,t))})(i,new HP(e,t,r),o.index),function Sz(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function KP(n,e,t){const r=new my(4==(4&t));(function wG(n,e,t,r){const i=m0(e);i.push(t),n.firstCreatePass&&_0(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[wr]&&(e[wr]=new vy),e[wr].queries.push(new yy(r))}(i,V(),t)}function YP(n,e){return n.queries.getByIndex(e)}const Sy=new Y("Application Initializer");let Ry=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=K(Sy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(pc(o))t.push(o);else if(Y0(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ti=new Y("LocaleId",{providedIn:"root",factory:()=>K(ti,ye.Optional|ye.SkipSelf)||function Yz(){return typeof $localize<"u"&&$localize.locale||ua}()});let pM=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Xz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let gM=(()=>{class n{compileModuleSync(t){return new dy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Zr(Nn(t).declarations).reduce((s,a)=>{const u=Te(a);return u&&s.push(new cc(u)),s},[]);return new Xz(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vM=new Y(""),Qh=new Y("");let Oy,xy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Oy||(function E6(n){Oy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(re(Ge),re(Ny),re(Qh))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),Ny=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Oy?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Vi=null;const IM=new Y("AllowMultipleToken"),ky=new Y("PlatformDestroyListeners"),Vy=new Y("appBootstrapListener");class wM{constructor(e,t){this.name=e,this.token=t}}function CM(n,e,t=[]){const r=`Platform: ${e}`,i=new Y(r);return(o=[])=>{let s=Fy();if(!s||s.injector.get(IM,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function C6(n){if(Vi&&!Vi.get(IM,!1))throw new B(400,!1);(function EM(){!function KB(n){NA=n}(()=>{throw new B(600,!1)})})(),Vi=n;const e=n.get(AM);(function TM(n){n.get(AS,null)?.forEach(t=>t())})(n)}(function DM(n=[],e){return Fn.create({name:e,providers:[{provide:c_,useValue:"platform"},{provide:ky,useValue:new Set([()=>Vi=null])},...n]})}(a,r))}return function A6(n){const e=Fy();if(!e)throw new B(401,!1);return e}()}}function Fy(){return Vi?.get(AM)??null}let AM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function b6(n="zone.js",e){return"noop"===n?new iG:"zone.js"===n?new Ge(e):n}(r?.ngZone,function bM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function Vq(n,e,t){return new ly(n,e,t)}(t.moduleType,this.injector,function xM(n){return[{provide:Ge,useFactory:n},{provide:tc,multi:!0,useFactory:()=>{const e=K(R6,{optional:!0});return()=>e.initialize()}},{provide:MM,useFactory:S6},{provide:HS,useFactory:GS}]}(()=>i)),s=o.injector.get(Jr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Yh(this._modules,o),a.unsubscribe()})}),function SM(n,e,t){try{const r=t();return pc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Ry);return a.runInitializers(),a.donePromise.then(()=>(function KR(n){qn(n,"Expected localeId to be defined"),"string"==typeof n&&(WR=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ti,ua)||ua),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=RM({},r);return function w6(n,e,t){const r=new dy(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(da);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new B(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(ky,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(re(Fn))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function RM(n,e){return Array.isArray(e)?e.reduce(RM,n):{...n,...e}}let da=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(MM),this.zoneIsStable=K(HS),this.componentTypes=[],this.components=[],this.isStable=K(pM).hasPendingTasks.pipe(Ir(t=>t?ce(!1):this.zoneIsStable),function oB(n,e=Di){return n=n??sB,Ct((t,r)=>{let i,o=!0;t.subscribe(It(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),JD()),this._injector=K(Jn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof MS;if(!this._injector.get(Ry).done)throw!i&&function ys(n){const e=Te(n)||Lt(n)||an(n);return null!==e&&e.standalone}(t),new B(405,!1);let s;s=i?t:this._injector.get(Dh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function T6(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Po),c=s.create(Fn.NULL,[],r||s.selector,a),d=c.location.nativeElement,h=c.injector.get(vM,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Yh(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new B(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Yh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Vy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const MM=new Y("",{providedIn:"root",factory:()=>K(Jr).handleError.bind(void 0)});function S6(){const n=K(Ge),e=K(Jr);return t=>n.runOutsideAngular(()=>e.handleError(t))}let R6=(()=>{class n{constructor(){this.zone=K(Ge),this.applicationRef=K(da)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Jh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=M6}return n})();function M6(n){return function x6(n,e,t){if(vo(n)&&!t){const r=On(n.index,e);return new uc(r,r)}return 47&n.type?new uc(e[ft],e):null}(jt(),V(),16==(16&n))}class VM{constructor(){}supports(e){return Nh(e)}create(e){return new L6(e)}}const F6=(n,e)=>e;class L6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||F6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<LM(r,i,o)?t:r,a=LM(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,d=u-i;if(c!=d){for(let p=0;p<c;p++){const m=p<o.length?o[p]:o[p]=0,y=m+p;d<=y&&y<c&&(o[p]=m+1)}o[s.previousIndex]=d-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Nh(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function p4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new U6(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new FM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class U6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class B6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class FM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new B6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function BM(){return new ef([new VM])}let ef=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:BM});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||BM()),deps:[[n,new eh,new Xd]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new B(901,!1)}}return n})();const q6=CM(null,"core",[]);let z6=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(re(da))};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({})}return n})();function ha(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Hy=null;function Fi(){return Hy}class s9{}const er=new Y("DocumentToken");let Gy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:function(){return K(u9)},providedIn:"platform"})}return n})();const a9=new Y("Location Initialized");let u9=(()=>{class n extends Gy{constructor(){super(),this._doc=K(er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fi().getBaseHref(this._doc)}onPopState(t){const r=Fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function qy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function YM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ni(n){return n&&"?"!==n[0]?"?"+n:n}let xo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:function(){return K(ZM)},providedIn:"root"})}return n})();const JM=new Y("appBaseHref");let ZM=(()=>{class n extends xo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ni(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+ni(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+ni(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(re(Gy),re(JM,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c9=(()=>{class n extends xo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=qy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ni(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ni(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(re(Gy),re(JM,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),zy=(()=>{class n{constructor(t){this._subject=new ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function h9(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(YM(XM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ni(r))}normalize(t){return n.stripTrailingSlash(function d9(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,XM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ni(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ni(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=ni;static#t=this.joinWithSlash=qy;static#n=this.stripTrailingSlash=YM;static#r=this.\u0275fac=function(r){return new(r||n)(re(xo))};static#i=this.\u0275prov=ne({token:n,factory:function(){return function l9(){return new zy(re(xo))}()},providedIn:"root"})}return n})();function XM(n){return n.replace(/\/index.html$/,"")}class X9{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lx=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new X9(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),dx(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{dx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(F(pr),F(ei),F(ef))};static#t=this.\u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function dx(n,e){n.context.$implicit=e.item}let rv=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new e5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(F(pr),F(ei))};static#t=this.\u0275dir=ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class e5{constructor(){this.$implicit=null,this.ngIf=null}}function hx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Dt(e)}'.`)}const c5=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let sv=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function mr(n,e){return new B(2100,!1)}();return t.replace(c5,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=vn({name:"titlecase",type:n,pure:!0,standalone:!0})}return n})(),C5=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({})}return n})();function mx(n){return"server"===n}let S5=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new R5(re(er),window)})}return n})();class R5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function P5(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class e8 extends s9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dv extends e8{static makeCurrent(){!function o9(n){Hy||(Hy=n)}(new dv)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function t8(){return Pc=Pc||document.querySelector("base"),Pc?Pc.getAttribute("href"):null}();return null==t?null:function n8(n){mf=mf||document.createElement("a"),mf.setAttribute("href",n);const e=mf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Pc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Y9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let mf,Pc=null,i8=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const hv=new Y("EventManagerPlugins");let Ex=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(re(hv),re(Ge))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();class wx{constructor(e){this._doc=e}}const fv="ng-app-id";let Tx=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mx(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${fv}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(fv),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(fv,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(re(er),re(vh),re(bS,8),re(Gs))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const pv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gv=/%COMP%/g,u8=new Y("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dx(n,e){return e.map(t=>t.replace(gv,n))}let Ax=(()=>{class n{constructor(t,r,i,o,s,a,u,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=mx(a),this.defaultRenderer=new mv(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ar.ShadowDom&&(r={...r,encapsulation:ar.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Sx?i.applyToHost(t):i instanceof _v&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case ar.Emulated:o=new Sx(u,c,r,this.appId,d,s,a,h);break;case ar.ShadowDom:return new h8(u,c,t,r,s,a,this.nonce,h);default:o=new _v(u,c,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(re(Ex),re(Tx),re(vh),re(u8),re(er),re(Gs),re(Ge),re(bS))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();class mv{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(pv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=pv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ni.DashCase|Ni.Important)?e.style.setProperty(t,r,i&Ni.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ni.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Fi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function bx(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class h8 extends mv{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Dx(i.id,i.styles);for(const d of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _v extends mv{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Dx(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Sx extends _v{constructor(e,t,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,t,r,o,s,a,u,c),this.contentAttr=function c8(n){return"_ngcontent-%COMP%".replace(gv,n)}(c),this.hostAttr=function l8(n){return"_nghost-%COMP%".replace(gv,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let f8=(()=>{class n extends wx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(re(er))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const Rx=["alt","control","meta","shift"],p8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},g8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let m8=(()=>{class n extends wx{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Rx.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=p8[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Rx.forEach(s=>{s!==i&&(0,g8[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(re(er))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const I8=CM(q6,"browser",[{provide:Gs,useValue:"browser"},{provide:AS,useValue:function _8(){dv.makeCurrent()},multi:!0},{provide:er,useFactory:function v8(){return function J$(n){e_=n}(document),document},deps:[]}]),E8=new Y(""),xx=[{provide:Qh,useClass:class r8{addToWindow(e){$e.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new B(5103,!1);return o},$e.getAllAngularTestabilities=()=>e.getAllTestabilities(),$e.getAllAngularRootElements=()=>e.getAllRootElements(),$e.frameworkStabilizers||($e.frameworkStabilizers=[]),$e.frameworkStabilizers.push(r=>{const i=$e.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Fi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:vM,useClass:xy,deps:[Ge,Ny,Qh]},{provide:xy,useClass:xy,deps:[Ge,Ny,Qh]}],Nx=[{provide:c_,useValue:"root"},{provide:Jr,useFactory:function y8(){return new Jr},deps:[]},{provide:hv,useClass:f8,multi:!0,deps:[er,Ge,Gs]},{provide:hv,useClass:m8,multi:!0,deps:[er]},Ax,Tx,Ex,{provide:NS,useExisting:Ax},{provide:class M5{},useClass:i8,deps:[]},[]];let w8=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:vh,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(re(E8,12))};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({providers:[...Nx,...xx],imports:[C5,z6]})}return n})(),Ox=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(re(er))};static#t=this.\u0275prov=ne({token:n,factory:function(r){let i=null;return i=r?new r:function C8(){return new Ox(re(er))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:P8}=Array,{getPrototypeOf:M8,prototype:x8,keys:N8}=Object;function Lx(n){if(1===n.length){const e=n[0];if(P8(e))return{args:e,keys:null};if(function O8(n){return n&&"object"==typeof n&&M8(n)===x8}(e)){const t=N8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:k8}=Array;function Ux(n){return Le(e=>function V8(n,e){return k8(e)?n(...e):n(e)}(n,e))}function Bx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function vv(...n){const e=Du(n),t=WD(n),{args:r,keys:i}=Lx(n);if(0===r.length)return Mt([],e);const o=new vt(function F8(n,e,t=Di){return r=>{jx(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)jx(e,()=>{const c=Mt(n[u],e);let d=!1;c.subscribe(It(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>Bx(i,s):Di));return t?o.pipe(Ux(t)):o}function jx(n,e,t){n?Hr(t,n,e):e()}const _f=wu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Iv(...n){return function L8(){return ms(1)}()(Mt(n,Du(n)))}function $x(n){return new vt(e=>{Mn(n()).subscribe(e)})}function Mc(n,e){const t=ke(n)?n:()=>n,r=i=>i.error(t());return new vt(e?i=>e.schedule(r,0,i):r)}function Ev(){return Ct((n,e)=>{let t=null;n._refCount++;const r=It(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Hx extends vt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,xD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pn;const t=this.getSubject();e.add(this.source.subscribe(It(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pn.EMPTY)}return e}refCount(){return Ev()(this)}}function pa(n){return n<=0?()=>vr:Ct((e,t)=>{let r=0;e.subscribe(It(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ui(n,e){return Ct((t,r)=>{let i=0;t.subscribe(It(r,o=>n.call(e,o,i++)&&r.next(o)))})}function yf(n){return Ct((e,t)=>{let r=!1;e.subscribe(It(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Gx(n=B8){return Ct((e,t)=>{let r=!1;e.subscribe(It(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function B8(){return new _f}function No(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ui((i,o)=>n(i,o,r)):Di,pa(1),t?yf(e):Gx(()=>new _f))}function xc(n,e){return ke(e)?Ft(n,e,1):Ft(n,1)}function Yt(n,e,t){const r=ke(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ct((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(It(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Di}function Oo(n){return Ct((e,t)=>{let o,r=null,i=!1;r=e.subscribe(It(t,void 0,void 0,s=>{o=Mn(n(s,Oo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function wv(n){return n<=0?()=>vr:Ct((e,t)=>{let r=[];e.subscribe(It(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Tv(n){return Ct((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ge="primary",Nc=Symbol("RouteTitle");class z8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ga(n){return new z8(n)}function W8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!qx(n[i],e[i]))return!1;return!0}function qx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function zx(n){return n.length>0?n[n.length-1]:null}function Bi(n){return function R8(n){return!!n&&(n instanceof vt||ke(n.lift)&&ke(n.subscribe))}(n)?n:pc(n)?Mt(Promise.resolve(n)):ce(n)}const Q8={exact:function Qx(n,e,t){if(!ko(n.segments,e.segments)||!vf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Qx(n.children[r],e.children[r],t))return!1;return!0},subset:Yx},Wx={exact:function Y8(n,e){return xr(n,e)},subset:function J8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qx(n[t],e[t]))},ignored:()=>!0};function Kx(n,e,t){return Q8[t.paths](n.root,e.root,t.matrixParams)&&Wx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Yx(n,e,t){return Jx(n,e,e.segments,t)}function Jx(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ko(i,t)||e.hasChildren()||!vf(i,t,r))}if(n.segments.length===t.length){if(!ko(n.segments,t)||!vf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Yx(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ko(n.segments,i)&&vf(n.segments,i,r)&&n.children[ge])&&Jx(n.children[ge],e,o,r)}}function vf(n,e,t){return e.every((r,i)=>Wx[t](n[i].parameters,r.parameters))}class ma{constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ga(this.queryParams)),this._queryParamMap}toString(){return eW.serialize(this)}}class Ne{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return If(this)}}class Oc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ga(this.parameters)),this._parameterMap}toString(){return eN(this)}}function ko(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let kc=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:function(){return new Cv},providedIn:"root"})}return n})();class Cv{parse(e){const t=new dW(e);return new ma(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vc(e.root,!0)}`,r=function rW(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ef(t)}=${Ef(i)}`).join("&"):`${Ef(t)}=${Ef(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function tW(n){return encodeURI(n)}(e.fragment)}`:""}`}}const eW=new Cv;function If(n){return n.segments.map(e=>eN(e)).join("/")}function Vc(n,e){if(!n.hasChildren())return If(n);if(e){const t=n.children[ge]?Vc(n.children[ge],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${Vc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function X8(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ge&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ge&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===ge?[Vc(n.children[ge],!1)]:[`${i}:${Vc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ge]?`${If(n)}/${t[0]}`:`${If(n)}/(${t.join("//")})`}}function Zx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(n){return Zx(n).replace(/%3B/gi,";")}function Dv(n){return Zx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wf(n){return decodeURIComponent(n)}function Xx(n){return wf(n.replace(/\+/g,"%20"))}function eN(n){return`${Dv(n.path)}${function nW(n){return Object.keys(n).map(e=>`;${Dv(e)}=${Dv(n[e])}`).join("")}(n.parameters)}`}const iW=/^[^\/()?;#]+/;function Av(n){const e=n.match(iW);return e?e[0]:""}const oW=/^[^\/()?;=#]+/,aW=/^[^=?&#]+/,cW=/^[^&#]+/;class dW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ge]=new Ne(e,t)),r}parseSegment(){const e=Av(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Oc(wf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function sW(n){const e=n.match(oW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Av(this.remaining);i&&(r=i,this.capture(r))}e[wf(t)]=wf(r)}parseQueryParam(e){const t=function uW(n){const e=n.match(aW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function lW(n){const e=n.match(cW);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Xx(t),o=Xx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Av(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ge]:new Ne([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}}function tN(n){return n.segments.length>0?new Ne([],{[ge]:n}):n}function nN(n){const e={};for(const r of Object.keys(n.children)){const o=nN(n.children[r]);if(r===ge&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function hW(n){if(1===n.numberOfChildren&&n.children[ge]){const e=n.children[ge];return new Ne(n.segments.concat(e.segments),e.children)}return n}(new Ne(n.segments,e))}function Vo(n){return n instanceof ma}function rN(n){let e;const i=tN(function t(o){const s={};for(const u of o.children){const c=t(u);s[u.outlet]=c}const a=new Ne(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function iN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return bv(i,i,i,t,r);const o=function pW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new sN(t,e,r)}(e);if(o.toRoot())return bv(i,i,new Ne([],{}),t,r);const s=function gW(n,e,t){if(n.isAbsolute)return new Cf(e,!0,0);if(!t)return new Cf(e,!1,NaN);if(null===t.parent)return new Cf(t,!0,0);const r=Tf(n.commands[0])?0:1;return function mW(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Cf(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Lc(s.segmentGroup,s.index,o.commands):aN(s.segmentGroup,s.index,o.commands);return bv(i,s.segmentGroup,a,t,r)}function Tf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fc(n){return"object"==typeof n&&null!=n&&n.outlets}function bv(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=n===e?t:oN(n,e,t);const a=tN(nN(s));return new ma(a,o,i)}function oN(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:oN(o,e,t)}),new Ne(n.segments,r)}class sN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tf(r[0]))throw new B(4003,!1);const i=r.find(Fc);if(i&&i!==zx(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function aN(n,e,t){if(n||(n=new Ne([],{})),0===n.segments.length&&n.hasChildren())return Lc(n,e,t);const r=function yW(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Fc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!cN(u,c,s))return o;r+=2}else{if(!cN(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Ne(n.segments.slice(0,r.pathIndex),{});return o.children[ge]=new Ne(n.segments.slice(r.pathIndex),n.children),Lc(o,0,i)}return r.match&&0===i.length?new Ne(n.segments,{}):r.match&&!n.hasChildren()?Sv(n,e,t):r.match?Lc(n,0,i):Sv(n,e,t)}function Lc(n,e,t){if(0===t.length)return new Ne(n.segments,{});{const r=function _W(n){return Fc(n[0])?n[0].outlets:{[ge]:n}}(t),i={};if(Object.keys(r).some(o=>o!==ge)&&n.children[ge]&&1===n.numberOfChildren&&0===n.children[ge].segments.length){const o=Lc(n.children[ge],e,t);return new Ne(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=aN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ne(n.segments,i)}}function Sv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Fc(o)){const u=vW(o.outlets);return new Ne(r,u)}if(0===i&&Tf(t[0])){r.push(new Oc(n.segments[e].path,uN(t[0]))),i++;continue}const s=Fc(o)?o.outlets[ge]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Tf(a)?(r.push(new Oc(s,uN(a))),i+=2):(r.push(new Oc(s,{})),i++)}return new Ne(r,{})}function vW(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Sv(new Ne([],{}),0,r))}),e}function uN(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function cN(n,e,t){return n==t.path&&xr(e,t.parameters)}const Uc="imperative";class Nr{constructor(e,t){this.id=e,this.url=t}}class Df extends Nr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ji extends Nr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bc extends Nr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _a extends Nr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Af extends Nr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lN extends Nr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IW extends Nr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EW extends Nr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wW extends Nr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TW extends Nr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class AW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rv{}class Pv{constructor(e){this.url=e}}class PW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jc,this.attachRef=null}}let jc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new PW,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class hN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Mv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Mv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xv(e,this._root).map(t=>t.value)}}function Mv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Mv(n,t);if(r)return r}return null}function xv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xv(n,t);if(r.length)return r.unshift(e),r}return[]}class oi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ya(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fN extends hN{constructor(e,t){super(e),this.snapshot=t,Nv(this,e)}toString(){return this.snapshot.toString()}}function pN(n,e){const t=function MW(n,e){const s=new bf([],{},{},"",{},ge,e,null,{});return new mN("",new oi(s,[]))}(0,e),r=new Gn([new Oc("",{})]),i=new Gn({}),o=new Gn({}),s=new Gn({}),a=new Gn(""),u=new Fo(r,i,s,a,o,ge,e,t.root);return u.snapshot=t.root,new fN(new oi(u,[]),t)}class Fo{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Le(c=>c[Nc]))??ce(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Le(e=>ga(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Le(e=>ga(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function xW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bf{get title(){return this.data?.[Nc]}constructor(e,t,r,i,o,s,a,u,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ga(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ga(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mN extends hN{constructor(e,t){super(t),this.url=e,Nv(this,t)}toString(){return _N(this._root)}}function Nv(n,e){e.value._routerState=n,e.children.forEach(t=>Nv(n,t))}function _N(n){const e=n.children.length>0?` { ${n.children.map(_N).join(", ")} } `:"";return`${n.value}${e}`}function Ov(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),xr(e.params,t.params)||n.paramsSubject.next(t.params),function K8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),xr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function kv(n,e){const t=xr(n.params,e.params)&&function Z8(n,e){return ko(n,e)&&n.every((t,r)=>xr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kv(n.parent,e.parent))}let Vv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new ut,this.deactivateEvents=new ut,this.attachEvents=new ut,this.detachEvents=new ut,this.parentContexts=K(jc),this.location=K(pr),this.changeDetector=K(Jh),this.environmentInjector=K(Jn),this.inputBinder=K(Sf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new NW(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]})}return n})();class NW{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Fo?this.route:e===jc?this.childContexts:this.parent.get(e,t)}}const Sf=new Y("");let yN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=vv([r.queryParams,r.params,r.data]).pipe(Ir(([o,s,a],u)=>(a={...o,...s,...a},0===u?ce(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function i9(n){const e=Te(n);if(!e)return null;const t=new cc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();function $c(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function kW(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $c(n,r,i);return $c(n,r)})}(n,e,t);return new oi(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$c(n,a)),s}}const r=function VW(n){return new Fo(new Gn(n.url),new Gn(n.params),new Gn(n.queryParams),new Gn(n.fragment),new Gn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>$c(n,o));return new oi(r,i)}}const Fv="ngNavigationCancelingError";function vN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IN(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function IN(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Fv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function EN(n){return n&&n[Fv]}let wN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Wn({type:n,selectors:[["ng-component"]],standalone:!0,features:[EP],decls:1,vars:0,template:function(r,i){1&r&&Xn(0,"router-outlet")},dependencies:[Vv],encapsulation:2})}return n})();function Lv(n){const e=n.children&&n.children.map(Lv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=wN),t}function _r(n){return n.outlet||ge}function Hc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class GW{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ov(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ya(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ya(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new RW(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bW(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Ov(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ov(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Hc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class TN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rf{constructor(e,t){this.component=e,this.route=t}}function qW(n,e,t){const r=n._root;return Gc(r,e?e._root:null,t,[r.value])}function va(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function fB(n){return null!==Rd(n)}(n)?e.get(n):n:r}function Gc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ya(e);return n.children.forEach(s=>{(function WW(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function KW(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ko(n.url,e.url)||!xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kv(n,e)||!xr(n.queryParams,e.queryParams);default:return!kv(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new TN(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Gc(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rf(a.outlet.component,s))}else s&&qc(e,a,i),i.canActivateChecks.push(new TN(r)),Gc(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qc(a,t.getContext(s),i)),i}function qc(n,e,t){const r=ya(n),i=n.value;Object.entries(r).forEach(([o,s])=>{qc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Rf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zc(n){return"function"==typeof n}function CN(n){return n instanceof _f||"EmptyError"===n?.name}const Pf=Symbol("INITIAL_VALUE");function Ia(){return Ir(n=>vv(n.map(e=>e.pipe(pa(1),function U8(...n){const e=Du(n);return Ct((t,r)=>{(e?Iv(n,t,e):Iv(n,t)).subscribe(r)})}(Pf)))).pipe(Le(e=>{for(const t of e)if(!0!==t){if(t===Pf)return Pf;if(!1===t||t instanceof ma)return t}return!0}),Ui(e=>e!==Pf),pa(1)))}function DN(n){return function mU(...n){return RD(n)}(Yt(e=>{if(Vo(e))throw vN(0,e)}),Le(e=>!0===e))}class Mf{constructor(e){this.segmentGroup=e||null}}class AN{constructor(e){this.urlTree=e}}function Ea(n){return Mc(new Mf(n))}function bN(n){return Mc(new AN(n))}class p7{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new B(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[ge])return Mc(new B(4e3,!1));i=i.children[ge]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ma(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ne(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Uv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g7(n,e,t,r,i){const o=Bv(n,e,t);return o.matched?(r=function LW(n,e){return n.providers&&!n._injector&&(n._injector=hy(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function d7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ce(i.map(s=>{const a=va(s,n);return Bi(function e7(n){return n&&zc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ia(),DN()):ce(!0)}(r,e,t).pipe(Le(s=>!0===s?o:{...Uv}))):ce(o)}function Bv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Uv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||W8)(t,n,e);if(!i)return{...Uv};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function SN(n,e,t,r){return t.length>0&&function y7(n,e,t){return t.some(r=>xf(n,e,r)&&_r(r)!==ge)}(n,t,r)?{segmentGroup:new Ne(e,_7(r,new Ne(t,n.children))),slicedSegments:[]}:0===t.length&&function v7(n,e,t){return t.some(r=>xf(n,e,r))}(n,t,r)?{segmentGroup:new Ne(n.segments,m7(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function m7(n,e,t,r,i){const o={};for(const s of r)if(xf(n,t,s)&&!i[_r(s)]){const a=new Ne([],{});o[_r(s)]=a}return{...i,...o}}function _7(n,e){const t={};t[ge]=e;for(const r of n)if(""===r.path&&_r(r)!==ge){const i=new Ne([],{});t[_r(r)]=i}return t}function xf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class T7{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new p7(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,!1)}recognize(){const e=SN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ge).pipe(Oo(t=>{if(t instanceof AN)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Mf?this.noMatchError(t):t}),Le(t=>{const r=new bf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ge,this.rootComponentType,null,{}),i=new oi(r,t),o=new mN("",i),s=function fW(n,e,t=null,r=null){return iN(rN(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ge).pipe(Oo(r=>{throw r instanceof Mf?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=gN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Mt(i).pipe(xc(o=>{const s=r.children[o],a=function $W(n,e){const t=n.filter(r=>_r(r)===e);return t.push(...n.filter(r=>_r(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function $8(n,e){return Ct(function j8(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(It(s,d=>{const h=c++;u=a?n(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),yf(null),function H8(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ui((i,o)=>n(i,o,r)):Di,wv(1),t?yf(e):Gx(()=>new _f))}(),Ft(o=>{if(null===o)return Ea(r);const s=RN(o);return function C7(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}(s),ce(s)}))}processSegment(e,t,r,i,o,s){return Mt(t).pipe(xc(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Oo(u=>{if(u instanceof Mf)return ce(null);throw u}))),No(a=>!!a),Oo(a=>{if(CN(a))return function E7(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?ce([]):Ea(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function I7(n,e,t,r){return!!(_r(n)===r||r!==ge&&xf(e,t,n))&&("**"===n.path||Bv(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Ea(i):Ea(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bN(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ft(s=>{const a=new Ne(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:d}=Bv(t,i,o);if(!a)return Ea(t);const h=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d);return i.redirectTo.startsWith("/")?bN(h):this.applyRedirects.lineralizeSegments(i,h).pipe(Ft(p=>this.processSegment(e,r,t,p.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?zx(i).parameters:{};a=ce({snapshot:new bf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PN(r),_r(r),r.component??r._loadedComponent??null,r,MN(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=g7(t,r,i,e).pipe(Le(({matched:u,consumedSegments:c,remainingSegments:d,parameters:h})=>u?{snapshot:new bf(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PN(r),_r(r),r.component??r._loadedComponent??null,r,MN(r)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(Ir(u=>null===u?Ea(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Ir(({routes:c})=>{const d=r._loadedInjector??e,{snapshot:h,consumedSegments:p,remainingSegments:m}=u,{segmentGroup:y,slicedSegments:I}=SN(t,p,m,c);if(0===I.length&&y.hasChildren())return this.processChildren(d,c,y).pipe(Le(M=>null===M?null:[new oi(h,M)]));if(0===c.length&&0===I.length)return ce([new oi(h,[])]);const E=_r(r)===o;return this.processSegment(d,c,y,I,E?ge:o,!0).pipe(Le(M=>[new oi(h,M)]))}))))}getChildConfig(e,t,r){return t.children?ce({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ce({routes:t._loadedRoutes,injector:t._loadedInjector}):function l7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ce(!0):ce(i.map(s=>{const a=va(s,n);return Bi(function YW(n){return n&&zc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ia(),DN())}(e,t,r).pipe(Ft(i=>i?this.configLoader.loadChildren(e,t).pipe(Yt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function f7(n){return Mc(IN(!1,3))}())):ce({routes:[],injector:e})}}function D7(n){const e=n.value.routeConfig;return e&&""===e.path}function RN(n){const e=[],t=new Set;for(const r of n){if(!D7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=RN(r.children);e.push(new oi(r.value,i))}return e.filter(r=>!t.has(r))}function PN(n){return n.data||{}}function MN(n){return n.resolve||{}}function xN(n){return"string"==typeof n.title||null===n.title}function jv(n){return Ir(e=>{const t=n(e);return t?Mt(t).pipe(Le(()=>e)):ce(e)})}const wa=new Y("ROUTES");let $v=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(gM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ce(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Bi(t.loadComponent()).pipe(Le(NN),Yt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Tv(()=>{this.componentLoaders.delete(t)})),i=new Hx(r,()=>new sr).pipe(Ev());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function x7(n,e,t,r){return Bi(n.loadChildren()).pipe(Le(NN),Ft(i=>i instanceof vP||Array.isArray(i)?ce(i):Mt(e.compileModuleAsync(i))),Le(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(wa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lv),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Tv(()=>{this.childrenLoaders.delete(r)})),s=new Hx(o,()=>new sr).pipe(Ev());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NN(n){return function N7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Nf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new sr,this.transitionAbortSubject=new sr,this.configLoader=K($v),this.environmentInjector=K(Jn),this.urlSerializer=K(kc),this.rootContexts=K(jc),this.inputBindingEnabled=null!==K(Sf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new DW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new CW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Gn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Uc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ui(o=>0!==o.id),Le(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Ir(o=>{this.currentTransition=o;let s=!1,a=!1;return ce(o).pipe(Yt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ir(u=>{const c=u.currentBrowserUrl.toString(),d=!t.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!d&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new _a(u.id,this.urlSerializer.serialize(u.rawUrl),p,0)),u.resolve(null),vr}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ce(u).pipe(Ir(p=>{const m=this.transitions?.getValue();return this.events.next(new Df(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?vr:Promise.resolve(p)}),function A7(n,e,t,r,i,o){return Ft(s=>function w7(n,e,t,r,i,o,s="emptyOnly"){return new T7(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Le(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Yt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new lN(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:p,extractedUrl:m,source:y,restoredState:I,extras:E}=u,M=new Df(p,this.urlSerializer.serialize(m),y,I);this.events.next(M);const A=pN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:A,urlAfterRedirects:m,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},ce(o)}{const p="";return this.events.next(new _a(u.id,this.urlSerializer.serialize(u.extractedUrl),p,1)),u.resolve(null),vr}}),Yt(u=>{const c=new IW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Le(u=>(this.currentTransition=o={...u,guards:qW(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function n7(n,e){return Ft(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ce({...t,guardsResult:!0}):function r7(n,e,t,r){return Mt(n).pipe(Ft(i=>function c7(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ce(o.map(a=>{const u=Hc(e)??i,c=va(a,u);return Bi(function XW(n){return n&&zc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(No())})).pipe(Ia()):ce(!0)}(i.component,i.route,t,e,r)),No(i=>!0!==i,!0))}(s,r,i,n).pipe(Ft(a=>a&&function QW(n){return"boolean"==typeof n}(a)?function i7(n,e,t,r){return Mt(e).pipe(xc(i=>Iv(function s7(n,e){return null!==n&&e&&e(new AW(n)),ce(!0)}(i.route.parent,r),function o7(n,e){return null!==n&&e&&e(new SW(n)),ce(!0)}(i.route,r),function u7(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function zW(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>$x(()=>ce(s.guards.map(u=>{const c=Hc(s.node)??t,d=va(u,c);return Bi(function ZW(n){return n&&zc(n.canActivateChild)}(d)?d.canActivateChild(r,n):c.runInContext(()=>d(r,n))).pipe(No())})).pipe(Ia())));return ce(o).pipe(Ia())}(n,i.path,t),function a7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(o=>$x(()=>{const s=Hc(e)??t,a=va(o,s);return Bi(function JW(n){return n&&zc(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(No())}));return ce(i).pipe(Ia())}(n,i.route,t))),No(i=>!0!==i,!0))}(r,o,n,e):ce(a)),Le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Yt(u=>{if(o.guardsResult=u.guardsResult,Vo(u.guardsResult))throw vN(0,u.guardsResult);const c=new EW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Ui(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),jv(u=>{if(u.guards.canActivateChecks.length)return ce(u).pipe(Yt(c=>{const d=new wW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ir(c=>{let d=!1;return ce(c).pipe(function b7(n,e){return Ft(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ce(t);let o=0;return Mt(i).pipe(xc(s=>function S7(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!xN(i)&&(o[Nc]=i.title),function R7(n,e,t,r){const i=function P7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ce({});const o={};return Mt(i).pipe(Ft(s=>function M7(n,e,t,r){const i=Hc(e)??r,o=va(n,i);return Bi(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(No(),Yt(a=>{o[s]=a}))),wv(1),function G8(n){return Le(()=>n)}(o),Oo(s=>CN(s)?vr:Mc(s)))}(o,n,e,r).pipe(Le(s=>(n._resolvedData=s,n.data=gN(n,t).resolve,i&&xN(i)&&(n.data[Nc]=i.title),null)))}(s.route,r,n,e)),Yt(()=>o++),wv(1),Ft(s=>o===i.length?ce(t):vr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Yt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),Yt(c=>{const d=new TW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),jv(u=>{const c=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Yt(p=>{d.component=p}),Le(()=>{})));for(const p of d.children)h.push(...c(p));return h};return vv(c(u.targetSnapshot.root)).pipe(yf(),pa(1))}),jv(()=>this.afterPreactivation()),Le(u=>{const c=function OW(n,e,t){const r=$c(n,e._root,t?t._root:void 0);return new fN(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},o}),Yt(()=>{this.events.next(new Rv)}),((n,e,t,r)=>Le(i=>(new GW(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),pa(1),Yt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ji(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function q8(n){return Ct((e,t)=>{Mn(n).subscribe(It(t,()=>t.complete(),Fg)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Yt(u=>{throw u}))),Tv(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Oo(u=>{if(a=!0,EN(u))this.events.next(new Bc(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function FW(n){return EN(n)&&Vo(n.url)}(u)?this.events.next(new Pv(u.url)):o.resolve(!1);else{this.events.next(new Af(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(c){o.reject(c)}}return vr}))}))}cancelNavigationTransition(t,r,i){const o=new Bc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ON(n){return n!==Uc}let kN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(t){return t.data[Nc]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:function(){return K(O7)},providedIn:"root"})}return n})(),O7=(()=>{class n extends kN{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(re(Ox))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:function(){return K(F7)},providedIn:"root"})}return n})();class V7{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let F7=(()=>{class n extends V7{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=$t(n)))(i||n)}}();static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Of=new Y("",{providedIn:"root",factory:()=>({})});let L7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:function(){return K(U7)},providedIn:"root"})}return n})(),U7=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Wc||{});function VN(n,e){n.events.pipe(Ui(t=>t instanceof ji||t instanceof Bc||t instanceof Af||t instanceof _a),Le(t=>t instanceof ji||t instanceof _a?Wc.COMPLETE:t instanceof Bc&&(0===t.code||1===t.code)?Wc.REDIRECTING:Wc.FAILED),Ui(t=>t!==Wc.REDIRECTING),pa(1)).subscribe(()=>{e()})}function B7(n){throw n}function j7(n,e,t){return e.parse("/")}const $7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(fM),this.isNgZoneEnabled=!1,this._events=new sr,this.options=K(Of,{optional:!0})||{},this.pendingTasks=K(pM),this.errorHandler=this.options.errorHandler||B7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||j7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(L7),this.routeReuseStrategy=K(k7),this.titleStrategy=K(kN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(wa,{optional:!0})?.flat()??[],this.navigationTransitions=K(Nf),this.urlSerializer=K(kc),this.location=K(zy),this.componentInputBindingEnabled=!!K(Sf,{optional:!0}),this.eventsSubscription=new Pn,this.isNgZoneEnabled=K(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ma,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(FN(r)&&this._events.next(r));if(r instanceof Df)ON(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof _a)this.rawUrlTree=i.rawUrl;else if(r instanceof lN){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Rv)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Bc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Pv){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ON(i.source)};this.scheduleNavigation(o,Uc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Af&&this.restoreHistory(i,!0),r instanceof ji&&(this.navigated=!0),FN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Uc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=rN(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return iN(h,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Uc,null,r)}navigate(t,r={skipLocationChange:!1}){return function G7(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new B(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...$7}:!1===r?{...H7}:r,Vo(t))return Kx(this.currentUrlTree,t,i);const o=this.parseUrl(t);return Kx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,u=p});const d=this.pendingTasks.add();return VN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FN(n){return!(n instanceof Rv||n instanceof Pv)}let Ta=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new sr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function _S(n,e,t){return function vH(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?mS:gS}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(F(Dn),F(Fo),function Yd(n){return function Uj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(cA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(jt(),n)}("tabindex"),F(Yr),F(Vn),F(xo))};static#t=this.\u0275dir=ue({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&xt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Rr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ha],skipLocationChange:["skipLocationChange","skipLocationChange",ha],replaceUrl:["replaceUrl","replaceUrl",ha],routerLink:"routerLink"},standalone:!0,features:[x0,Qn]})}return n})(),LN=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ut,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ji&&this.update()})}ngAfterContentInit(){ce(this.links.changes,ce(null)).pipe(ms()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Mt(t).pipe(ms()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function q7(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(Dn),F(Vn),F(Yr),F(Jh),F(Ta,8))};static#t=this.\u0275dir=ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&zP(o,Ta,5),2&r){let s;qP(s=function WP(){return function bz(n,e){return n[wr].queries[e].queryList}(V(),eb())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Qn]})}return n})();class UN{}let z7=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(t=>t instanceof ji),xc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=hy(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Mt(i).pipe(ms())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ce(null);const o=i.pipe(Ft(s=>null===s?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Mt([o,this.loader.loadComponent(r)]).pipe(ms()):o})}static#e=this.\u0275fac=function(r){return new(r||n)(re(Dn),re(gM),re(Jn),re(UN),re($v))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hv=new Y("");let BN=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Df?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ji?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof _a&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function o0(){throw new Error("invalid")}()};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();function si(n,e){return{\u0275kind:n,\u0275providers:e}}function $N(){const n=K(Fn);return e=>{const t=n.get(da);if(e!==t.components[0])return;const r=n.get(Dn),i=n.get(HN);1===n.get(Gv)&&r.initialNavigation(),n.get(GN,null,ye.Optional)?.setUpPreloading(),n.get(Hv,null,ye.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const HN=new Y("",{factory:()=>new sr}),Gv=new Y("",{providedIn:"root",factory:()=>1}),GN=new Y("");function Y7(n){return si(0,[{provide:GN,useExisting:z7},{provide:UN,useExisting:n}])}const qN=new Y("ROUTER_FORROOT_GUARD"),Z7=[zy,{provide:kc,useClass:Cv},Dn,jc,{provide:Fo,useFactory:function jN(n){return n.routerState.root},deps:[Dn]},$v,[]];function X7(){return new wM("Router",Dn)}let zN=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Z7,[],{provide:wa,multi:!0,useValue:t},{provide:qN,useFactory:rK,deps:[[Dn,new Xd,new eh]]},{provide:Of,useValue:r||{}},r?.useHash?{provide:xo,useClass:c9}:{provide:xo,useClass:ZM},{provide:Hv,useFactory:()=>{const n=K(S5),e=K(Ge),t=K(Of),r=K(Nf),i=K(kc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BN(i,r,n,e,t)}},r?.preloadingStrategy?Y7(r.preloadingStrategy).\u0275providers:[],{provide:wM,multi:!0,useFactory:X7},r?.initialNavigation?iK(r):[],r?.bindToComponentInputs?si(8,[yN,{provide:Sf,useExisting:yN}]).\u0275providers:[],[{provide:WN,useFactory:$N},{provide:Vy,multi:!0,useExisting:WN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:wa,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(re(qN,8))};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({})}return n})();function rK(n){return"guarded"}function iK(n){return["disabled"===n.initialNavigation?si(3,[{provide:Sy,multi:!0,useFactory:()=>{const e=K(Dn);return()=>{e.setUpLocationChangeListener()}}},{provide:Gv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?si(2,[{provide:Gv,useValue:0},{provide:Sy,multi:!0,deps:[Fn],useFactory:e=>{const t=e.get(a9,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Dn),o=e.get(HN);VN(i,()=>{r(!0)}),e.get(Nf).afterPreactivation=()=>(r(!0),o.closed?ce(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const WN=new Y("");let KN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(Yr),F(Vn))};static#t=this.\u0275dir=ue({type:n})}return n})(),Lo=(()=>{class n extends KN{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=$t(n)))(i||n)}}();static#t=this.\u0275dir=ue({type:n,features:[xe]})}return n})();const Or=new Y("NgValueAccessor"),uK={provide:Or,useExisting:je(()=>Ca),multi:!0},lK=new Y("CompositionEventMode");let Ca=(()=>{class n extends KN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cK(){const n=Fi()?Fi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(Yr),F(Vn),F(lK,8))};static#t=this.\u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&xt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[tt([uK]),xe]})}return n})();function $i(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function YN(n){return null!=n&&"number"==typeof n.length}const Jt=new Y("NgValidators"),Hi=new Y("NgAsyncValidators"),dK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gi{static min(e){return function JN(n){return e=>{if($i(e.value)||$i(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ZN(n){return e=>{if($i(e.value)||$i(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return XN(e)}static requiredTrue(e){return function eO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function tO(n){return $i(n.value)||dK.test(n.value)?null:{email:!0}}(e)}static minLength(e){return nO(e)}static maxLength(e){return function rO(n){return e=>YN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return iO(e)}static nullValidator(e){return null}static compose(e){return lO(e)}static composeAsync(e){return dO(e)}}function XN(n){return $i(n.value)?{required:!0}:null}function nO(n){return e=>$i(e.value)||!YN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function iO(n){if(!n)return kf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if($i(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function kf(n){return null}function oO(n){return null!=n}function sO(n){return pc(n)?Mt(n):n}function aO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uO(n,e){return e.map(t=>t(n))}function cO(n){return n.map(e=>function hK(n){return!n.validate}(e)?e:t=>e.validate(t))}function lO(n){if(!n)return null;const e=n.filter(oO);return 0==e.length?null:function(t){return aO(uO(t,e))}}function qv(n){return null!=n?lO(cO(n)):null}function dO(n){if(!n)return null;const e=n.filter(oO);return 0==e.length?null:function(t){return function sK(...n){const e=WD(n),{args:t,keys:r}=Lx(n),i=new vt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let d=0;d<s;d++){let h=!1;Mn(t[d]).subscribe(It(o,p=>{h||(h=!0,c--),a[d]=p},()=>u--,void 0,()=>{(!u||!h)&&(c||o.next(r?Bx(r,a):a),o.complete())}))}});return e?i.pipe(Ux(e)):i}(uO(t,e).map(sO)).pipe(Le(aO))}}function zv(n){return null!=n?dO(cO(n)):null}function hO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fO(n){return n._rawValidators}function pO(n){return n._rawAsyncValidators}function Wv(n){return n?Array.isArray(n)?n:[n]:[]}function Vf(n,e){return Array.isArray(n)?n.includes(e):n===e}function gO(n,e){const t=Wv(e);return Wv(n).forEach(i=>{Vf(t,i)||t.push(i)}),t}function mO(n,e){return Wv(e).filter(t=>!Vf(n,t))}class _O{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class gn extends _O{get formDirective(){return null}get path(){return null}}class qi extends _O{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ff=(()=>{class n extends yO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(qi,2))};static#t=this.\u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Uh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xe]})}return n})(),Lf=(()=>{class n extends yO{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(F(gn,10))};static#t=this.\u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Uh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[xe]})}return n})();const Kc="VALID",Bf="INVALID",Da="PENDING",Qc="DISABLED";function Yv(n){return(jf(n)?n.validators:n)||null}function Jv(n,e){return(jf(e)?e.asyncValidators:n)||null}function jf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class wO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kc}get invalid(){return this.status===Bf}get pending(){return this.status==Da}get disabled(){return this.status===Qc}get enabled(){return this.status!==Qc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mO(e,this._rawAsyncValidators))}hasValidator(e){return Vf(this._rawValidators,e)}hasAsyncValidator(e){return Vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Da,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Kc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kc||this.status===Da)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qc:Kc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Da,this._hasOwnPendingAsyncValidator=!0;const t=sO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ut,this.statusChanges=new ut}_calculateStatus(){return this._allControlsDisabled()?Qc:this.errors?Bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Da)?Da:this._anyControlsHaveStatus(Bf)?Bf:Kc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function mK(n){return Array.isArray(n)?qv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function _K(n){return Array.isArray(n)?zv(n):n||null}(this._rawAsyncValidators)}}class Yc extends wO{constructor(e,t,r){super(Yv(t),Jv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function EO(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new B(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function IO(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[t])throw new B(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Uo=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>Jc}),Jc="always";function Zc(n,e,t=Jc){Zv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function IK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&TO(n,e)})}(n,e),function wK(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function EK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&TO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function vK(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Hf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Zv(n,e){const t=fO(n);null!==e.validator?n.setValidators(hO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=pO(n);null!==e.asyncValidator?n.setAsyncValidators(hO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Gf(e._rawValidators,i),Gf(e._rawAsyncValidators,i)}function qf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=fO(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=pO(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Gf(e._rawValidators,r),Gf(e._rawAsyncValidators,r),t}function TO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function CO(n,e){Zv(n,e)}function eI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function DO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tI(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ca?t=o:function DK(n){return Object.getPrototypeOf(n.constructor)===Lo}(o)?r=o:i=o}),i||r||t||null}const bK={provide:gn,useExisting:je(()=>zf)},Xc=(()=>Promise.resolve())();let zf=(()=>{class n extends gn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ut,this.form=new Yc({},qv(t),zv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Zc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xc.then(()=>{const r=this._findContainer(t.path),i=new Yc({});CO(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,DO(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(F(Jt,10),F(Hi,10),F(Uo,8))};static#t=this.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&xt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tt([bK]),xe]})}return n})();function AO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function bO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Aa=class extends wO{constructor(e=null,t,r){super(Yv(t),Jv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=bO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},PK={provide:qi,useExisting:je(()=>nI)},PO=(()=>Promise.resolve())();let nI=(()=>{class n extends qi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Aa,this._registered=!1,this.name="",this.update=new ut,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tI(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),eI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){PO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ha(r);PO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function $f(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(F(gn,9),F(Jt,10),F(Hi,10),F(Or,10),F(Jh,8),F(Uo,8))};static#t=this.\u0275dir=ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tt([PK]),xe,Qn]})}return n})(),Wf=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),xO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({})}return n})();const rI=new Y("NgModelWithFormControlWarning"),kK={provide:qi,useExisting:je(()=>Kf)};let Kf=(()=>{class n extends qi{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new ut,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=tI(0,i)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Hf(r,this,!1),Zc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}eI(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Hf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(r){return new(r||n)(F(Jt,10),F(Hi,10),F(Or,10),F(rI,8),F(Uo,8))};static#n=this.\u0275dir=ue({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[tt([kK]),xe,Qn]})}return n})();const VK={provide:gn,useExisting:je(()=>el)};let el=(()=>{class n extends gn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ut,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Zc(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Hf(t.control||null,t,!1),function AK(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,DO(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Hf(r||null,t),(n=>n instanceof Aa)(i)&&(Zc(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);CO(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function TK(n,e){return qf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zv(this.form,this),this._oldForm&&qf(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(F(Jt,10),F(Hi,10),F(Uo,8))};static#t=this.\u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&xt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tt([VK]),xe,Qn]})}return n})();let Bo=(()=>{class n{constructor(){this._validator=kf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):kf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ue({type:n,features:[Qn]})}return n})();const KK={provide:Jt,useExisting:je(()=>Qf),multi:!0};let Qf=(()=>{class n extends Bo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ha,this.createValidator=t=>XN}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=$t(n)))(i||n)}}();static#t=this.\u0275dir=ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Rr("required",i._enabled?"":null)},inputs:{required:"required"},features:[tt([KK]),xe]})}return n})();const JK={provide:Jt,useExisting:je(()=>uI),multi:!0};let uI=(()=>{class n extends Bo{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function UO(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>nO(t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=$t(n)))(i||n)}}();static#t=this.\u0275dir=ue({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Rr("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[tt([JK]),xe]})}return n})();const XK={provide:Jt,useExisting:je(()=>cI),multi:!0};let cI=(()=>{class n extends Bo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>iO(t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=$t(n)))(i||n)}}();static#t=this.\u0275dir=ue({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Rr("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[tt([XK]),xe]})}return n})(),zO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({imports:[xO]})}return n})(),tQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Uo,useValue:t.callSetDisabledState??Jc}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({imports:[zO]})}return n})(),nQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Uo,useValue:t.callSetDisabledState??Jc}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({imports:[zO]})}return n})();function WO(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function C(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){WO(o,r,i,s,a,"next",u)}function a(u){WO(o,r,i,s,a,"throw",u)}s(void 0)})}}const KO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},QO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let p=(15&a)<<2|c>>6,m=63&c;u||(m=64,s||(p=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new sQ;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yf=function(n){return function(n){const e=KO(n);return QO.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Jf=function(n){try{return QO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Zf=()=>{try{return function cQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Jf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},JO=n=>{var e,t;return null===(t=null===(e=Zf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},ZO=()=>{var n;return null===(n=Zf())||void 0===n?void 0:n.config},XO=n=>{var e;return null===(e=Zf())||void 0===e?void 0:e[`_${n}`]};class e1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ai extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tl.prototype.create)}}class tl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function DQ(n,e){return n.replace(AQ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ai(i,`${this.serviceName}: ${s} (${i}).`,r)}}const AQ=/\{\$([^}]+)}/g;function ep(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(n1(o)&&n1(s)){if(!ep(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function n1(n){return null!==n&&"object"==typeof n}function tp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function rl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class RQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function PQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=dI),void 0===i.error&&(i.error=dI),void 0===i.complete&&(i.complete=dI);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(){}function An(n){return n&&n._delegate?n._delegate:n}class jo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $o="[DEFAULT]";class VQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new e1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function LQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return C(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===$o?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class UQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const fI=[];var we=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(we||{});const r1={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},BQ=we.INFO,jQ={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},$Q=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=jQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class pI{constructor(e){this.name=e,this._logLevel=BQ,this._logHandler=$Q,this._userLogHandler=null,fI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?r1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const HQ=(n,e)=>e.some(t=>n instanceof t);let i1,o1;const s1=new WeakMap,gI=new WeakMap,a1=new WeakMap,mI=new WeakMap,_I=new WeakMap;let yI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return gI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||a1.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function YQ(n){return"function"==typeof n?function QQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qQ(){return o1||(o1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(vI(this),e),zi(s1.get(this))}:function(...e){return zi(n.apply(vI(this),e))}:function(e,...t){const r=n.call(vI(this),e,...t);return a1.set(r,e.sort?e.sort():[e]),zi(r)}}(n):(n instanceof IDBTransaction&&function WQ(n){if(gI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});gI.set(n,e)}(n),HQ(n,function GQ(){return i1||(i1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,yI):n)}function zi(n){if(n instanceof IDBRequest)return function zQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(zi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&s1.set(t,n)}).catch(()=>{}),_I.set(e,n),e}(n);if(mI.has(n))return mI.get(n);const e=YQ(n);return e!==n&&(mI.set(n,e),_I.set(e,n)),e}const vI=n=>_I.get(n),ZQ=["get","getKey","getAll","getAllKeys","count"],XQ=["put","add","delete","clear"],II=new Map;function u1(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(II.get(e))return II.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=XQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ZQ.includes(t))return;const o=function(){var s=C(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[t](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return II.set(e,o),o}!function KQ(n){yI=n(yI)}(n=>({...n,get:(e,t,r)=>u1(e,t)||n.get(e,t,r),has:(e,t)=>!!u1(e,t)||n.has(e,t)}));class eY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function tY(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const np="@firebase/app",Ho=new pI("@firebase/app"),rp="[DEFAULT]",SY={[np]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Go=new Map,il=new Map,ol=new Map;function c1(n,e){try{n.container.addComponent(e)}catch(t){Ho.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ba(n){const e=n.name;if(ol.has(e))return Ho.debug(`There were multiple attempts to register component ${e}.`),!1;ol.set(e,n);for(const t of Go.values())c1(t,n);for(const t of il.values())c1(t,n);return!0}function ip(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kr(n){return void 0!==n.settings}const rr=new tl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class MY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const Sa="10.12.4";function l1(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:rp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw rr.create("bad-app-name",{appName:String(i)});if(t||(t=ZO()),!t)throw rr.create("no-options");const o=Go.get(i);if(o){if(ep(t,o.options)&&ep(r,o.config))return o;throw rr.create("duplicate-app",{appName:i})}const s=new UQ(i);for(const u of ol.values())s.addComponent(u);const a=new MY(t,r,s);return Go.set(i,a),a}function d1(n=rp){const e=Go.get(n);if(!e&&n===rp&&ZO())return l1();if(!e)throw rr.create("no-app",{appName:n});return e}function ui(n,e,t){var r;let i=null!==(r=SY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ho.warn(a.join(" "))}ba(new jo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const OY="firebase-heartbeat-database",kY=1,sl="firebase-heartbeat-store";let TI=null;function h1(){return TI||(TI=function JQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=zi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(zi(s.result),u.oldVersion,u.newVersion,zi(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(OY,kY,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(sl)}catch(t){console.warn(t)}}}).catch(n=>{throw rr.create("idb-open",{originalErrorMessage:n.message})})),TI}function CI(){return(CI=C(function*(n){try{const t=(yield h1()).transaction(sl),r=yield t.objectStore(sl).get(p1(n));return yield t.done,r}catch(e){if(e instanceof ai)Ho.warn(e.message);else{const t=rr.create("idb-get",{originalErrorMessage:e?.message});Ho.warn(t.message)}}})).apply(this,arguments)}function f1(n,e){return DI.apply(this,arguments)}function DI(){return(DI=C(function*(n,e){try{const r=(yield h1()).transaction(sl,"readwrite");yield r.objectStore(sl).put(e,p1(n)),yield r.done}catch(t){if(t instanceof ai)Ho.warn(t.message);else{const r=rr.create("idb-set",{originalErrorMessage:t?.message});Ho.warn(r.message)}}})).apply(this,arguments)}function p1(n){return`${n.name}!${n.options.appId}`}class UY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return C(function*(){var t,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g1();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return C(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=g1(),{heartbeatsToSend:i,unsentEntries:o}=function BY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),m1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),m1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Yf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function g1(){return(new Date).toISOString().substring(0,10)}class jY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(function*(){return!!function wQ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function TQ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return C(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function VY(n){return CI.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return C(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return f1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return C(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return f1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function m1(n){return Yf(JSON.stringify({version:2,heartbeats:n})).length}!function $Y(n){ba(new jo("platform-logger",e=>new eY(e),"PRIVATE")),ba(new jo("heartbeat",e=>new UY(e),"PRIVATE")),ui(np,"0.10.7",n),ui(np,"0.10.7","esm2017"),ui("fire-js","")}("");const HY=function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},y1=new tl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),op=new pI("@firebase/auth");function sp(n,...e){op.logLevel<=we.ERROR&&op.error(`Auth (${Sa}): ${n}`,...e)}function bn(n,...e){throw bI(n,...e)}function ir(n,...e){return bI(n,...e)}function AI(n,e,t){const r=Object.assign(Object.assign({},HY()),{[e]:t});return new tl("auth","Firebase",r).create(e,{appName:n.name})}function Nt(n){return AI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return y1.create(n,...e)}function $(n,e,...t){if(!n)throw bI(e,...t)}function Vr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sp(e),new Error(e)}function Wi(n,e){n||Vr(e)}function al(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function v1(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function qY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function SI(){return"http:"===v1()||"https:"===v1()}()||function yQ(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class ul{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wi(t>e,"Short delay should be less than long delay!"),this.isMobile=function gQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}()||function vQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return qY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function RI(n,e){Wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class I1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},KY=new ul(3e4,6e4);function Ke(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Qe(n,e,t,r){return PI.apply(this,arguments)}function PI(){return(PI=C(function*(n,e,t,r,i={}){return E1(n,i,C(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=tp(Object.assign({key:n.config.apiKey},s)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),I1.fetch()(w1(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function E1(n,e,t){return MI.apply(this,arguments)}function MI(){return(MI=C(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},WY),e);try{const i=new YY(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw cl(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw cl(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw cl(n,"email-already-in-use",s);if("USER_DISABLED"===u)throw cl(n,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AI(n,d,c);bn(n,d)}}catch(i){if(i instanceof ai)throw i;bn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function ci(n,e,t,r){return xI.apply(this,arguments)}function xI(){return(xI=C(function*(n,e,t,r,i={}){const o=yield Qe(n,e,t,r,i);return"mfaPendingCredential"in o&&bn(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function w1(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?RI(n.config,i):`${n.config.apiScheme}://${i}`}function QY(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ir(this.auth,"network-request-failed")),KY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ir(n,e,r);return i.customData._tokenResponse=t,i}function C1(n){return void 0!==n&&void 0!==n.enterprise}class D1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QY(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function A1(n,e){return OI.apply(this,arguments)}function OI(){return(OI=C(function*(n,e){return Qe(n,"GET","/v2/recaptchaConfig",Ke(n,e))})).apply(this,arguments)}function kI(){return(kI=C(function*(n,e){return Qe(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function b1(n,e){return FI.apply(this,arguments)}function FI(){return(FI=C(function*(n,e){return Qe(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ll(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function LI(){return(LI=C(function*(n,e=!1){const t=An(n),r=yield t.getIdToken(e),i=ap(r);$(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ll(UI(i.auth_time)),issuedAtTime:ll(UI(i.iat)),expirationTime:ll(UI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function UI(n){return 1e3*Number(n)}function ap(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Jf(t);return i?JSON.parse(i):(sp("Failed to decode base64 JWT payload"),null)}catch(i){return sp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function S1(n){const e=ap(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function li(n,e){return BI.apply(this,arguments)}function BI(){return(BI=C(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ai&&function tJ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class nJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(C(function*(){yield t.iteration()}),r)}iteration(){var e=this;return C(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class jI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dl(n){return $I.apply(this,arguments)}function $I(){return($I=C(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield li(n,b1(t,{idToken:r}));$(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?R1(o.providerUserInfo):[],a=function iJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jI(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})).apply(this,arguments)}function HI(){return(HI=C(function*(n){const e=An(n);yield dl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function R1(n){return n.map(e=>{var{providerId:t}=e,r=qg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function GI(){return(GI=C(function*(n,e){const t=yield E1(n,{},C(function*(){const r=tp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=w1(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",I1.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function qI(){return(qI=C(function*(n,e){return Qe(n,"POST","/v2/accounts:revokeToken",Ke(n,e))})).apply(this,arguments)}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(0!==e.length,"internal-error");const t=S1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return C(function*(){return t||!r.accessToken||r.isExpired?($(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return C(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function oJ(n,e){return GI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Pa;return r&&($("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&($("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&($("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Vr("not implemented")}}function Ki(n,e){$("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jI(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return C(function*(){const r=yield li(t,t.stsTokenManager.getToken(t.auth,e));return $(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function eJ(n){return LI.apply(this,arguments)}(this,e)}reload(){return function rJ(n){return HI.apply(this,arguments)}(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return C(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield dl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return C(function*(){if(kr(e.auth.app))return Promise.reject(Nt(e.auth));const t=yield e.getIdToken();return yield li(e,function ZY(n,e){return kI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,c,d;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,I=null!==(a=t.tenantId)&&void 0!==a?a:void 0,E=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,M=null!==(c=t.createdAt)&&void 0!==c?c:void 0,A=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:k,emailVerified:j,isAnonymous:W,providerData:X,stsTokenManager:D}=t;$(k&&D,e,"internal-error");const v=Pa.fromJSON(this.name,D);$("string"==typeof k,e,"internal-error"),Ki(h,e.name),Ki(p,e.name),$("boolean"==typeof j,e,"internal-error"),$("boolean"==typeof W,e,"internal-error"),Ki(m,e.name),Ki(y,e.name),Ki(I,e.name),Ki(E,e.name),Ki(M,e.name),Ki(A,e.name);const w=new di({uid:k,auth:e,email:p,emailVerified:j,displayName:h,isAnonymous:W,photoURL:y,phoneNumber:m,tenantId:I,stsTokenManager:v,createdAt:M,lastLoginAt:A});return X&&Array.isArray(X)&&(w.providerData=X.map(b=>Object.assign({},b))),E&&(w._redirectEventId=E),w}static _fromIdTokenResponse(e,t,r=!1){return C(function*(){const i=new Pa;i.updateFromServerResponse(t);const o=new di({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dl(o),o})()}static _fromGetAccountInfoResponse(e,t,r){return C(function*(){const i=t.users[0];$(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?R1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Pa;a.updateFromIdToken(r);const u=new di({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const P1=new Map;function hi(n){Wi(n instanceof Function,"Expected a class definition");let e=P1.get(n);return e?(Wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,P1.set(n,e),e)}const M1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(function*(){return!0})()}_set(t,r){var i=this;return C(function*(){i.storage[t]=r})()}_get(t){var r=this;return C(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return C(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function up(n,e,t){return`firebase:${n}:${e}:${t}`}class Ma{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=up(this.userKey,i.apiKey,o),this.fullPersistenceKey=up("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return C(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?di._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return C(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(function*(){if(!t.length)return new Ma(hi(M1),e,r);const i=(yield Promise.all(t.map(function(){var c=C(function*(d){if(yield d._isAvailable())return d});return function(d){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||hi(M1);const s=up(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=yield c._get(s);if(d){const h=di._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=C(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return c.apply(this,arguments)}}())),new Ma(o,e,r)):new Ma(o,e,r)})()}}function x1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F1(e))return"Blackberry";if(L1(e))return"Webos";if(zI(e))return"Safari";if((e.includes("chrome/")||O1(e))&&!e.includes("edge/"))return"Chrome";if(V1(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function N1(n=St()){return/firefox\//i.test(n)}function zI(n=St()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O1(n=St()){return/crios\//i.test(n)}function k1(n=St()){return/iemobile/i.test(n)}function V1(n=St()){return/android/i.test(n)}function F1(n=St()){return/blackberry/i.test(n)}function L1(n=St()){return/webos/i.test(n)}function cp(n=St()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function U1(n=St()){return cp(n)||V1(n)||L1(n)||F1(n)||/windows phone/i.test(n)||k1(n)}function B1(n,e=[]){let t;switch(n){case"Browser":t=x1(St());break;case"Worker":t=`${x1(St())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sa}/${r}`}class lJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return C(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function WI(){return(WI=C(function*(n,e={}){return Qe(n,"GET","/v2/passwordPolicy",Ke(n,e))})).apply(this,arguments)}class fJ{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class pJ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new lJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(C(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ma.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return C(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return C(function*(){try{const r=yield b1(t,{idToken:e}),i=yield di._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return C(function*(){var r;if(kr(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(u,u))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return $(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return C(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return C(function*(){try{yield dl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zY(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return C(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return C(function*(){if(kr(t.app))return Promise.reject(Nt(t));const r=e?An(e):null;return r&&$(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return C(function*(){if(!r._deleted)return e&&$(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(C(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return C(function*(){return kr(e.app)?Promise.reject(Nt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return kr(this.app)?Promise.reject(Nt(this)):this.queue(C(function*(){yield t.assertedPersistence.setPersistence(hi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return C(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return C(function*(){const t=yield function dJ(n){return WI.apply(this,arguments)}(e),r=new fJ(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return C(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function sJ(n,e){return qI.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return C(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return C(function*(){if(!t.redirectPersistenceManager){const r=e&&hi(e)||t._popupRedirectResolver;$(r,t,"argument-error"),t.redirectPersistenceManager=yield Ma.create(t,[hi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return C(function*(){var r,i;return t._isInitialized&&(yield t.queue(C(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return C(function*(){if(e===t.currentUser)return t.queue(C(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var t=this;return C(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return C(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return C(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function GY(n,...e){op.logLevel<=we.WARN&&op.warn(`Auth (${Sa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function gt(n){return An(n)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function SQ(n,e){const t=new RQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hl={loadJS:()=>C(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KI(n){return hl.loadJS(n)}function $1(n){return`__${n}${Math.floor(1e6*Math.random())}`}class H1{constructor(e){this.type="recaptcha-enterprise",this.auth=gt(e)}verify(e="verify",t=!1){var r=this;return C(function*(){function o(){return o=C(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=C(function*(c,d){A1(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(void 0!==h.recaptchaKey){const p=new D1(h);return null==a.tenantId?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,c(p.siteKey)}d(new Error("recaptcha Enterprise site key undefined"))}).catch(h=>{d(h)})});return function(c,d){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const d=window.grecaptcha;C1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!t&&C1(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));let d=function _J(){return hl.recaptchaEnterpriseScript}();0!==d.length&&(d+=c),KI(d).then(()=>{s(c,a,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})})()}}function G1(n,e,t){return QI.apply(this,arguments)}function QI(){return(QI=C(function*(n,e,t,r=!1){const i=new H1(n);let o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function fl(n,e,t,r){return YI.apply(this,arguments)}function YI(){return YI=C(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield G1(n,e,t,"getOobCode"===t);return r(n,o)}return r(n,e).catch(function(){var o=C(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield G1(n,e,t,"getOobCode"===t);return r(n,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),YI.apply(this,arguments)}function q1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function z1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class W1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}function SJ(n,e){return eE.apply(this,arguments)}function eE(){return(eE=C(function*(n,e){return Qe(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function PJ(n,e){return nE.apply(this,arguments)}function nE(){return(nE=C(function*(n,e){return ci(n,"POST","/v1/accounts:signInWithPassword",Ke(n,e))})).apply(this,arguments)}function uE(){return(uE=C(function*(n,e){return ci(n,"POST","/v1/accounts:signInWithEmailLink",Ke(n,e))})).apply(this,arguments)}function cE(){return(cE=C(function*(n,e){return ci(n,"POST","/v1/accounts:signInWithEmailLink",Ke(n,e))})).apply(this,arguments)}class pl extends W1{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new pl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new pl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return C(function*(){switch(t.signInMethod){case"password":return fl(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",PJ);case"emailLink":return function kJ(n,e){return uE.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:bn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return C(function*(){switch(r.signInMethod){case"password":return fl(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SJ);case"emailLink":return function VJ(n,e){return cE.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:bn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function fi(n,e){return lE.apply(this,arguments)}function lE(){return(lE=C(function*(n,e){return ci(n,"POST","/v1/accounts:signInWithIdp",Ke(n,e))})).apply(this,arguments)}class _l{constructor(e){var t,r,i,o,s,a;const u=nl(rl(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,d=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function HJ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);$(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function GJ(n){const e=nl(rl(n)).link,t=e?nl(rl(e)).deep_link_id:null,r=nl(rl(n)).deep_link_id;return(r?nl(rl(r)).link:null)||r||t||e||n}(e);try{return new _l(t)}catch{return null}}}let Q1=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return pl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=_l.parseLink(r);return $(i,"argument-error"),pl._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Qi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qJ extends Qi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Y1(n,e){return mE.apply(this,arguments)}function mE(){return(mE=C(function*(n,e){return ci(n,"POST","/v1/accounts:signUp",Ke(n,e))})).apply(this,arguments)}class or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(function*(){const o=yield di._fromIdTokenResponse(e,r,i),s=J1(r);return new or({user:o,providerId:s,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return C(function*(){yield e._updateTokensIfNecessary(r,!0);const i=J1(r);return new or({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function J1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class hp extends ai{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hp.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new hp(e,t,r,i)}}function Z1(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?hp._fromErrorAndOperation(n,o,e,r):o})}function IE(){return(IE=C(function*(n,e,t=!1){const r=yield li(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return or._forOperation(n,"link",r)})).apply(this,arguments)}function wE(){return(wE=C(function*(n,e,t=!1){const{auth:r}=n;if(kr(r.app))return Promise.reject(Nt(r));const i="reauthenticate";try{const o=yield li(n,Z1(r,i,e,n),t);$(o.idToken,r,"internal-error");const s=ap(o.idToken);$(s,r,"internal-error");const{sub:a}=s;return $(n.uid===a,r,"user-mismatch"),or._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&bn(r,"user-mismatch"),o}})).apply(this,arguments)}function tk(n,e){return TE.apply(this,arguments)}function TE(){return(TE=C(function*(n,e,t=!1){if(kr(n.app))return Promise.reject(Nt(n));const r="signIn",i=yield Z1(n,r,e),o=yield or._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function CE(n,e){return DE.apply(this,arguments)}function DE(){return(DE=C(function*(n,e){return tk(gt(n),e)})).apply(this,arguments)}function NE(n){return OE.apply(this,arguments)}function OE(){return(OE=C(function*(n){const e=gt(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function BE(){return(BE=C(function*(n,e,t){if(kr(n.app))return Promise.reject(Nt(n));const r=gt(n),s=yield fl(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y1).catch(u=>{throw"auth/password-does-not-meet-requirements"===u.code&&NE(n),u}),a=yield or._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const gp="__sak";class rk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gp,"1"),this.storage.removeItem(gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yZ=(()=>{class n extends rk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gZ(){const n=St();return zI(n)||cp(n)}()&&function cJ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=U1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function uJ(){return function IQ(){const n=St();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return C(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return C(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return C(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),ik=(()=>{class n extends rk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let IZ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return C(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var h=C(function*(p){return p(i.origin,a)});return function(p){return h.apply(this,arguments)}}()),d=yield function vZ(n){return Promise.all(n.map(function(){var e=C(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function nw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class EZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return C(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=nw("",20);o.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(p){const m=p;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(m.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:d,data:t},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function wt(){return window}function rw(){return typeof wt().WorkerGlobalScope<"u"&&"function"==typeof wt().importScripts}function iw(){return(iw=C(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ok="firebaseLocalStorageDb",mp="firebaseLocalStorage",sk="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _p(n,e){return n.transaction([mp],e?"readwrite":"readonly").objectStore(mp)}function ow(){const n=indexedDB.open(ok,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(mp,{keyPath:sk})}catch(i){t(i)}}),n.addEventListener("success",C(function*(){const r=n.result;r.objectStoreNames.contains(mp)?e(r):(r.close(),yield function bZ(){const n=indexedDB.deleteDatabase(ok);return new vl(n).toPromise()}(),e(yield ow()))}))})}function ak(n,e,t){return sw.apply(this,arguments)}function sw(){return(sw=C(function*(n,e,t){const r=_p(n,!0).put({[sk]:e,value:t});return new vl(r).toPromise()})).apply(this,arguments)}function aw(){return(aw=C(function*(n,e){const t=_p(n,!1).get(e),r=yield new vl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function uk(n,e){const t=_p(n,!0).delete(e);return new vl(t).toPromise()}const MZ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return C(function*(){return t.db||(t.db=yield ow()),t.db})()}_withRetries(t){var r=this;return C(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return C(function*(){return rw()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return C(function*(){t.receiver=IZ._getInstance(function DZ(){return rw()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=C(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=C(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return C(function*(){var r,i;if(t.activeServiceWorker=yield function TZ(){return iw.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new EZ(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return C(function*(){if(r.sender&&r.activeServiceWorker&&function CZ(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return C(function*(){try{if(!indexedDB)return!1;const t=yield ow();return yield ak(t,gp,"1"),yield uk(t,gp),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return C(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return C(function*(){return i._withPendingWrite(C(function*(){return yield i._withRetries(o=>ak(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return C(function*(){const i=yield r._withRetries(o=>function SZ(n,e){return aw.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return C(function*(){return r._withPendingWrite(C(function*(){return yield r._withRetries(i=>uk(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return C(function*(){const r=yield t._withRetries(s=>{const a=_p(s,!1).getAll();return new vl(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(C(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();$1("rcb"),new ul(3e4,6e4);class mw extends W1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zZ(n){return tk(n.auth,new mw(n),n.bypassAuthState)}function WZ(n){const{auth:e,user:t}=n;return $(t,e,"internal-error"),function ek(n,e){return wE.apply(this,arguments)}(t,new mw(n),n.bypassAuthState)}function KZ(n){return _w.apply(this,arguments)}function _w(){return(_w=C(function*(n){const{auth:e,user:t}=n;return $(t,e,"internal-error"),function vE(n,e){return IE.apply(this,arguments)}(t,new mw(n),n.bypassAuthState)})).apply(this,arguments)}class QZ{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=C(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return C(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zZ;case"linkViaPopup":case"linkViaRedirect":return KZ;case"reauthViaPopup":case"reauthViaRedirect":return WZ;default:bn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ul(2e3,1e4);const YZ="pendingRedirect",Il=new Map;class JZ extends QZ{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return C(function*(){let r=Il.get(t.auth._key());if(!r){try{const o=(yield function ZZ(n,e){return ww.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Il.set(t.auth._key(),r)}return t.bypassAuthState||Il.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return C(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return C(function*(){})()}cleanUp(){}}function ww(){return(ww=C(function*(n,e){const t=function dk(n){return up(YZ,n.config.apiKey,n.name)}(e),r=function lk(n){return hi(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function XZ(n,e){Il.set(n._key(),e)}function hk(n,e){return Rw.apply(this,arguments)}function Rw(){return(Rw=C(function*(n,e,t=!1){if(kr(n.app))return Promise.reject(Nt(n));const r=gt(n),i=function zo(n,e){return e?hi(e):($(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new JZ(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class iX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function oX(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gk(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gk(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pk(e))}saveEventToCache(e){this.cachedEventUids.add(pk(e)),this.lastProcessedEventTime=Date.now()}}function pk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gk({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Mw(){return(Mw=C(function*(n,e={}){return Qe(n,"GET","/v1/projects",e)})).apply(this,arguments)}const aX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uX=/^https?/;function xw(){return xw=C(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function sX(n){return Mw.apply(this,arguments)}(n);for(const t of e)try{if(lX(t))return}catch{}bn(n,"unauthorized-domain")}),xw.apply(this,arguments)}function lX(n){const e=al(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!uX.test(t))return!1;if(aX.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dX=new ul(3e4,6e4);function mk(){const n=wt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let vp=null;const pX=new ul(5e3,15e3),gX="__/auth/iframe",mX="emulator/auth/iframe",_X={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vX(n){const e=n.config;$(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?RI(e,mX):`https://${n.config.authDomain}/${gX}`,r={apiKey:e.apiKey,appName:n.name,v:Sa},i=yX.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${tp(r).slice(1)}`}function Nw(){return Nw=C(function*(n){const e=yield function fX(n){return vp=vp||function hX(n){return new Promise((e,t)=>{var r,i,o;function s(){mk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mk(),t(ir(n,"network-request-failed"))},timeout:dX.get()})}if(null!==(i=null===(r=wt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=wt().gapi)||void 0===o||!o.load){const a=$1("iframefcb");return wt()[a]=()=>{gapi.load?s():t(ir(n,"network-request-failed"))},KI(`${function yJ(){return hl.gapiScript}()}?onload=${a}`).catch(u=>t(u))}s()}}).catch(e=>{throw vp=null,e})}(n),vp}(n),t=wt().gapi;return $(t,n,"internal-error"),e.open({where:document.body,url:vX(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_X,dontclear:!0},r=>new Promise(function(){var i=C(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=ir(n,"network-request-failed"),u=wt().setTimeout(()=>{s(a)},pX.get());function c(){wt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),Nw.apply(this,arguments)}const EX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _k{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const SX="__/auth/handler",RX="emulator/auth/handler",PX=encodeURIComponent("fac");function yk(n,e,t,r,i,o){return Ow.apply(this,arguments)}function Ow(){return(Ow=C(function*(n,e,t,r,i,o){$(n.config.authDomain,n,"auth-domain-config-required"),$(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sa,eventId:i};if(e instanceof Qi){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function bQ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof qJ){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const u=yield n._getAppCheckToken(),c=u?`#${PX}=${encodeURIComponent(u)}`:"";return`${function MX({config:n}){return n.emulator?RI(n,RX):`https://${n.authDomain}/${SX}`}(n)}?${tp(a).slice(1)}${c}`})).apply(this,arguments)}const kw="webStorageSupport",NX=class xX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ik,this._completeRedirectFn=hk,this._overrideRedirectResult=XZ}_openPopup(e,t,r,i){var o=this;return C(function*(){var s;Wi(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield yk(e,t,r,al(),i);return function AX(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},EX),{width:r.toString(),height:i.toString(),top:o,left:s}),c=St().toLowerCase();t&&(a=O1(c)?"_blank":t),N1(c)&&(e=e||"http://localhost",u.scrollbars="yes");const d=Object.entries(u).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(function aJ(n=St()){var e;return cp(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function bX(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new _k(null);const h=window.open(e||"",a,d);$(h,n,"popup-blocked");try{h.focus()}catch{}return new _k(h)}(e,a,nw())})()}_openRedirect(e,t,r,i){var o=this;return C(function*(){return yield o._originValidation(e),function wZ(n){wt().location.href=n}(yield yk(e,t,r,al(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return C(function*(){const r=yield function IX(n){return Nw.apply(this,arguments)}(e),i=new iX(e);return r.register("authEvent",o=>($(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kw,{type:kw},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[kw];void 0!==s&&t(!!s),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function cX(n){return xw.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return U1()||zI()||cp()}};var Ek="@firebase/auth";class OX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return C(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const LX=XO("authIdTokenMaxAge")||300;let Tk=null;const UX=n=>function(){var e=C(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>LX)return;const o=r?.token;Tk!==o&&(Tk=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Ep(n=d1()){const e=ip(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function wJ(n,e){const t=ip(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(ep(t.getOptions(),e??{}))return i;bn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:NX,persistence:[MZ,yZ,ik]}),r=XO("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=UX(o.toString());(function uZ(n,e,t){An(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function aZ(n,e,t,r){An(n).onIdTokenChanged(e,t,r)}(t,a=>s(a))}}const i=JO("auth");return i&&function CJ(n,e,t){const r=gt(n);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=q1(e),{host:s,port:a}=function DJ(n){const e=q1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:z1(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:z1(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function AJ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function gJ(n){hl=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ir("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function BX(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function VX(n){ba(new jo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;$(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B1(n)},c=new pJ(r,i,o,u);return function TJ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ba(new jo("auth-internal",e=>{const t=gt(e.getProvider("auth").getImmediate());return new OX(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(Ek,"1.7.5",function kX(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),ui(Ek,"1.7.5","esm2017")}("Browser");let xa=(()=>{class n{constructor(t){this.route=t,function cZ(n,e,t,r){An(n).onAuthStateChanged(e,t,r)}(Ep(),i=>{i?(this.userId=i.uid,console.warn("User Login as : ",i.email)):(this.userId=void 0,console.warn("User Logout "))})}isAuthenticated(){return!!this.userId}getUserId(){return this.userId}registerUser(t,r){(function ZJ(n,e,t){return BE.apply(this,arguments)})(Ep(),t,r).then(o=>{console.log(o.user),this.route.navigate(["login"])}).catch(o=>{console.log(o.message),alert("something went wrong while register ")})}loginuser(t,r){(function XJ(n,e,t){return kr(n.app)?Promise.reject(Nt(n)):CE(An(n),Q1.credential(e,t)).catch(function(){var r=C(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&NE(n),i});return function(i){return r.apply(this,arguments)}}())})(Ep(),t,r).then(o=>{console.warn(o.user),this.route.navigate(["view-snippets"])}).catch(o=>{console.warn(o.message),alert("Invalid Credentials ! ")})}logout(){(function lZ(n){return An(n).signOut()})(Ep()).then(()=>{console.log("User logged out successfully.")}).catch(r=>{console.error("Error during sign-out:",r)})}static#e=this.\u0275fac=function(r){return new(r||n)(re(Dn))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jX=(()=>{class n{constructor(t){this.authService=t,this.email=new Aa("",[Gi.required,Gi.email]),this.password=new Aa("",[Gi.required,Gi.minLength(6)]),this.loginForm=new Yc({email:this.email,password:this.password})}login(){this.authService.loginuser(this.loginForm.value.email,this.loginForm.value.password)}reset(){this.loginForm.reset()}static#e=this.\u0275fac=function(r){return new(r||n)(F(xa))};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-login"]],decls:17,vars:6,consts:[[1,"login-form","d-flex","flex-column","w-100","border","border-5","rounded","p-5",3,"formGroup"],[1,"fs-2","text-success","bold"],["type","text","placeholder","johndoe@gmail.com",1,"mb-4","px-2","py-1",3,"formControl"],[1,"text-danger",3,"hidden"],["type","password",1,"mb-5","px-2","py-1",3,"formControl"],[1,"btn","btn-success","d-block","mb-2",3,"disabled","keydown.enter","click"],[1,"btn","btn-danger","d-block",3,"click"]],template:function(r,i){1&r&&(te(0,"form",0)(1,"p",1),ie(2,"Please Login Here "),ee(),te(3,"p"),ie(4,"Enter email : "),ee(),Xn(5,"input",2),te(6,"p",3),ie(7,"Please Enter valid email "),ee(),te(8,"p"),ie(9,"Enter Password"),ee(),Xn(10,"input",4),te(11,"p",3),ie(12,"Please Enter valid Password "),ee(),te(13,"button",5),xt("keydown.enter",function(){return i.login()})("click",function(){return i.login()}),ie(14,"Login"),ee(),te(15,"button",6),xt("click",function(){return i.reset()}),ie(16,"Reset"),ee()()),2&r&&(et("formGroup",i.loginForm),Xe(5),et("formControl",i.email),Xe(1),et("hidden",i.email.valid||i.email.untouched),Xe(4),et("formControl",i.password),Xe(1),et("hidden",i.password.valid||i.password.untouched),Xe(2),et("disabled",!i.loginForm.valid))},dependencies:[Wf,Ca,Ff,Lf,Kf,el]})}return n})(),$X=(()=>{class n{constructor(t){this.authService=t}register(t){this.authService.registerUser(t.value.email,t.value.password)}reset(t){t.reset()}static#e=this.\u0275fac=function(r){return new(r||n)(F(xa))};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-signup"]],decls:20,vars:3,consts:[[1,"login-form","d-flex","flex-column","w-100","border","border-3","rounded","p-5"],["registerForm","ngForm"],[1,"fs-2","text-info","bold"],["type","text","placeholder","johndoe@gmail.com","name","email","ngModel","","required","","pattern","^[a-z0-9]+@[a-z]+\\.[a-z]{2,3}$",1,"mb-4","px-2","py-1"],["email","ngModel"],[1,"text-danger",3,"hidden"],["type","password","name","password","ngModel","","required","","minlength","6",1,"mb-5","px-2","py-1"],["password","ngModel"],[1,"btn","btn-success","d-block","mb-2",3,"disabled","keydown.enter","click"],[1,"btn","btn-danger","d-block",3,"click"]],template:function(r,i){if(1&r){const o=J_();te(0,"form",0,1)(2,"p",2),ie(3,"Please Signup Here "),ee(),te(4,"p"),ie(5,"Enter email : "),ee(),Xn(6,"input",3,4),te(8,"p",5),ie(9,"Please Enter valid email "),ee(),te(10,"p"),ie(11,"Enter Password"),ee(),Xn(12,"input",6,7),te(14,"p",5),ie(15,"Please Enter valid Password "),ee(),te(16,"button",8),xt("keydown.enter",function(){Lu(o);const a=bo(1);return Uu(i.register(a))})("click",function(){Lu(o);const a=bo(1);return Uu(i.register(a))}),ie(17,"Signup"),ee(),te(18,"button",9),xt("click",function(){Lu(o);const a=bo(1);return Uu(i.reset(a))}),ie(19,"Reset"),ee()()}if(2&r){const o=bo(1),s=bo(7),a=bo(13);Xe(8),et("hidden",s.valid||s.untouched),Xe(6),et("hidden",a.valid||a.untouched),Xe(2),et("disabled",o.invalid)}},dependencies:[Wf,Ca,Ff,Lf,Qf,uI,cI,nI,zf]})}return n})(),HX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-not-found"]],decls:2,vars:0,consts:[[1,"text-danger","fs-1","bold","d-flex","align-items-center","justify-content-center"]],template:function(r,i){1&r&&(te(0,"p",0),ie(1,"Error 404 Not Found"),ee())}})}return n})();var Wo,Ak,Ck=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dk={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(D,v,w){w||(w=0);var b=Array(16);if("string"==typeof v)for(var S=0;16>S;++S)b[S]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(S=0;16>S;++S)b[S]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;var x=D.g[3],T=(v=D.g[0])+(x^(w=D.g[1])&((S=D.g[2])^x))+b[0]+3614090360&4294967295;T=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=(w=(S=(x=(v=w+(T<<7&4294967295|T>>>25))+((T=x+(S^v&(w^S))+b[1]+3905402710&4294967295)<<12&4294967295|T>>>20))+((T=S+(w^x&(v^w))+b[2]+606105819&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^S&(x^v))+b[3]+3250441966&4294967295)<<22&4294967295|T>>>10))+((T=v+(x^w&(S^x))+b[4]+4118548399&4294967295)<<7&4294967295|T>>>25))+((T=x+(S^v&(w^S))+b[5]+1200080426&4294967295)<<12&4294967295|T>>>20))+((T=S+(w^x&(v^w))+b[6]+2821735955&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^S&(x^v))+b[7]+4249261313&4294967295)<<22&4294967295|T>>>10))+((T=v+(x^w&(S^x))+b[8]+1770035416&4294967295)<<7&4294967295|T>>>25))+((T=x+(S^v&(w^S))+b[9]+2336552879&4294967295)<<12&4294967295|T>>>20))+((T=S+(w^x&(v^w))+b[10]+4294925233&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^S&(x^v))+b[11]+2304563134&4294967295)<<22&4294967295|T>>>10))+((T=v+(x^w&(S^x))+b[12]+1804603682&4294967295)<<7&4294967295|T>>>25))+((T=x+(S^v&(w^S))+b[13]+4254626195&4294967295)<<12&4294967295|T>>>20))+((T=S+(w^x&(v^w))+b[14]+2792965006&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^S&(x^v))+b[15]+1236535329&4294967295)<<22&4294967295|T>>>10))+((T=v+(S^x&(w^S))+b[1]+4129170786&4294967295)<<5&4294967295|T>>>27))+((T=x+(w^S&(v^w))+b[6]+3225465664&4294967295)<<9&4294967295|T>>>23))+((T=S+(v^w&(x^v))+b[11]+643717713&4294967295)<<14&4294967295|T>>>18))+((T=w+(x^v&(S^x))+b[0]+3921069994&4294967295)<<20&4294967295|T>>>12))+((T=v+(S^x&(w^S))+b[5]+3593408605&4294967295)<<5&4294967295|T>>>27))+((T=x+(w^S&(v^w))+b[10]+38016083&4294967295)<<9&4294967295|T>>>23))+((T=S+(v^w&(x^v))+b[15]+3634488961&4294967295)<<14&4294967295|T>>>18))+((T=w+(x^v&(S^x))+b[4]+3889429448&4294967295)<<20&4294967295|T>>>12))+((T=v+(S^x&(w^S))+b[9]+568446438&4294967295)<<5&4294967295|T>>>27))+((T=x+(w^S&(v^w))+b[14]+3275163606&4294967295)<<9&4294967295|T>>>23))+((T=S+(v^w&(x^v))+b[3]+4107603335&4294967295)<<14&4294967295|T>>>18))+((T=w+(x^v&(S^x))+b[8]+1163531501&4294967295)<<20&4294967295|T>>>12))+((T=v+(S^x&(w^S))+b[13]+2850285829&4294967295)<<5&4294967295|T>>>27))+((T=x+(w^S&(v^w))+b[2]+4243563512&4294967295)<<9&4294967295|T>>>23))+((T=S+(v^w&(x^v))+b[7]+1735328473&4294967295)<<14&4294967295|T>>>18))+((T=w+(x^v&(S^x))+b[12]+2368359562&4294967295)<<20&4294967295|T>>>12))+((T=v+(w^S^x)+b[5]+4294588738&4294967295)<<4&4294967295|T>>>28))+((T=x+(v^w^S)+b[8]+2272392833&4294967295)<<11&4294967295|T>>>21))+((T=S+(x^v^w)+b[11]+1839030562&4294967295)<<16&4294967295|T>>>16))+((T=w+(S^x^v)+b[14]+4259657740&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^S^x)+b[1]+2763975236&4294967295)<<4&4294967295|T>>>28))+((T=x+(v^w^S)+b[4]+1272893353&4294967295)<<11&4294967295|T>>>21))+((T=S+(x^v^w)+b[7]+4139469664&4294967295)<<16&4294967295|T>>>16))+((T=w+(S^x^v)+b[10]+3200236656&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^S^x)+b[13]+681279174&4294967295)<<4&4294967295|T>>>28))+((T=x+(v^w^S)+b[0]+3936430074&4294967295)<<11&4294967295|T>>>21))+((T=S+(x^v^w)+b[3]+3572445317&4294967295)<<16&4294967295|T>>>16))+((T=w+(S^x^v)+b[6]+76029189&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^S^x)+b[9]+3654602809&4294967295)<<4&4294967295|T>>>28))+((T=x+(v^w^S)+b[12]+3873151461&4294967295)<<11&4294967295|T>>>21))+((T=S+(x^v^w)+b[15]+530742520&4294967295)<<16&4294967295|T>>>16))+((T=w+(S^x^v)+b[2]+3299628645&4294967295)<<23&4294967295|T>>>9))+((T=v+(S^(w|~x))+b[0]+4096336452&4294967295)<<6&4294967295|T>>>26))+((T=x+(w^(v|~S))+b[7]+1126891415&4294967295)<<10&4294967295|T>>>22))+((T=S+(v^(x|~w))+b[14]+2878612391&4294967295)<<15&4294967295|T>>>17))+((T=w+(x^(S|~v))+b[5]+4237533241&4294967295)<<21&4294967295|T>>>11))+((T=v+(S^(w|~x))+b[12]+1700485571&4294967295)<<6&4294967295|T>>>26))+((T=x+(w^(v|~S))+b[3]+2399980690&4294967295)<<10&4294967295|T>>>22))+((T=S+(v^(x|~w))+b[10]+4293915773&4294967295)<<15&4294967295|T>>>17))+((T=w+(x^(S|~v))+b[1]+2240044497&4294967295)<<21&4294967295|T>>>11))+((T=v+(S^(w|~x))+b[8]+1873313359&4294967295)<<6&4294967295|T>>>26))+((T=x+(w^(v|~S))+b[15]+4264355552&4294967295)<<10&4294967295|T>>>22))+((T=S+(v^(x|~w))+b[6]+2734768916&4294967295)<<15&4294967295|T>>>17))+((T=w+(x^(S|~v))+b[13]+1309151649&4294967295)<<21&4294967295|T>>>11))+((x=(v=w+((T=v+(S^(w|~x))+b[4]+4149444226&4294967295)<<6&4294967295|T>>>26))+((T=x+(w^(v|~S))+b[11]+3174756917&4294967295)<<10&4294967295|T>>>22))^((S=x+((T=S+(v^(x|~w))+b[2]+718787259&4294967295)<<15&4294967295|T>>>17))|~v))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+x&4294967295}function s(D,v){this.h=v;for(var w=[],b=!0,S=D.length-1;0<=S;S--){var x=0|D[S];b&&x==v||(w[S]=x,b=!1)}this.g=w}(function e(D,v){function w(){}w.prototype=v.prototype,D.D=v.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(b,S,x){for(var T=Array(arguments.length-2),wi=2;wi<arguments.length;wi++)T[wi-2]=arguments[wi];return v.prototype[S].apply(b,T)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(D,v){void 0===v&&(v=D.length);for(var w=v-this.blockSize,b=this.B,S=this.h,x=0;x<v;){if(0==S)for(;x<=w;)i(this,D,x),x+=this.blockSize;if("string"==typeof D){for(;x<v;)if(b[S++]=D.charCodeAt(x++),S==this.blockSize){i(this,b),S=0;break}}else for(;x<v;)if(b[S++]=D[x++],S==this.blockSize){i(this,b),S=0;break}}this.h=S,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var w=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=255&w,w/=256;for(this.u(D),D=Array(16),v=w=0;4>v;++v)for(var b=0;32>b;b+=8)D[w++]=this.g[v]>>>b&255;return D};var a={};function u(D){return-128<=D&&128>D?function o(D,v){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=v(D)}(D,function(v){return new s([0|v],0>v?-1:0)}):new s([0|D],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return E(c(-D));for(var v=[],w=1,b=0;D>=w;b++)v[b]=D/w|0,w*=4294967296;return new s(v,0)}var h=u(0),p=u(1),m=u(16777216);function y(D){if(0!=D.h)return!1;for(var v=0;v<D.g.length;v++)if(0!=D.g[v])return!1;return!0}function I(D){return-1==D.h}function E(D){for(var v=D.g.length,w=[],b=0;b<v;b++)w[b]=~D.g[b];return new s(w,~D.h).add(p)}function M(D,v){return D.add(E(v))}function A(D,v){for(;(65535&D[v])!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function k(D,v){this.g=D,this.h=v}function j(D,v){if(y(v))throw Error("division by zero");if(y(D))return new k(h,h);if(I(D))return v=j(E(D),v),new k(E(v.g),E(v.h));if(I(v))return v=j(D,E(v)),new k(E(v.g),v.h);if(30<D.g.length){if(I(D)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var w=p,b=v;0>=b.l(D);)w=W(w),b=W(b);var S=X(w,1),x=X(b,1);for(b=X(b,2),w=X(w,2);!y(b);){var T=x.add(b);0>=T.l(D)&&(S=S.add(w),x=T),b=X(b,1),w=X(w,1)}return v=M(D,S.j(v)),new k(S,v)}for(S=h;0<=D.l(v);){for(w=Math.max(1,Math.floor(D.m()/v.m())),b=48>=(b=Math.ceil(Math.log(w)/Math.LN2))?1:Math.pow(2,b-48),T=(x=c(w)).j(v);I(T)||0<T.l(D);)T=(x=c(w-=b)).j(v);y(x)&&(x=p),S=S.add(x),D=M(D,T)}return new k(S,D)}function W(D){for(var v=D.g.length+1,w=[],b=0;b<v;b++)w[b]=D.i(b)<<1|D.i(b-1)>>>31;return new s(w,D.h)}function X(D,v){var w=v>>5;v%=32;for(var b=D.g.length-w,S=[],x=0;x<b;x++)S[x]=0<v?D.i(x+w)>>>v|D.i(x+w+1)<<32-v:D.i(x+w);return new s(S,D.h)}(n=s.prototype).m=function(){if(I(this))return-E(this).m();for(var D=0,v=1,w=0;w<this.g.length;w++){var b=this.i(w);D+=(0<=b?b:4294967296+b)*v,v*=4294967296}return D},n.toString=function(D){if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if(y(this))return"0";if(I(this))return"-"+E(this).toString(D);for(var v=c(Math.pow(D,6)),w=this,b="";;){var S=j(w,v).g,x=((0<(w=M(w,S.j(v))).g.length?w.g[0]:w.h)>>>0).toString(D);if(y(w=S))return x+b;for(;6>x.length;)x="0"+x;b=x+b}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h},n.l=function(D){return I(D=M(this,D))?-1:y(D)?0:1},n.abs=function(){return I(this)?E(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],b=0,S=0;S<=v;S++){var x=b+(65535&this.i(S))+(65535&D.i(S)),T=(x>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);b=T>>>16,w[S]=(T&=65535)<<16|(x&=65535)}return new s(w,-2147483648&w[w.length-1]?-1:0)},n.j=function(D){if(y(this)||y(D))return h;if(I(this))return I(D)?E(this).j(E(D)):E(E(this).j(D));if(I(D))return E(this.j(E(D)));if(0>this.l(m)&&0>D.l(m))return c(this.m()*D.m());for(var v=this.g.length+D.g.length,w=[],b=0;b<2*v;b++)w[b]=0;for(b=0;b<this.g.length;b++)for(var S=0;S<D.g.length;S++){var x=this.i(b)>>>16,T=65535&this.i(b),wi=D.i(S)>>>16,id=65535&D.i(S);w[2*b+2*S]+=T*id,A(w,2*b+2*S),w[2*b+2*S+1]+=x*id,A(w,2*b+2*S+1),w[2*b+2*S+1]+=T*wi,A(w,2*b+2*S+1),w[2*b+2*S+2]+=x*wi,A(w,2*b+2*S+2)}for(b=0;b<v;b++)w[b]=w[2*b+1]<<16|w[2*b];for(b=v;b<2*v;b++)w[b]=0;return new s(w,0)},n.A=function(D){return j(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)&D.i(b);return new s(w,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)|D.i(b);return new s(w,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)^D.i(b);return new s(w,this.h^D.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ak=Dk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(D,v){if(0==D.length)throw Error("number format error: empty string");if(2>(v=v||10)||36<v)throw Error("radix out of range: "+v);if("-"==D.charAt(0))return E(d(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(v,8)),b=h,S=0;S<D.length;S+=8){var x=Math.min(8,D.length-S),T=parseInt(D.substring(S,S+x),v);8>x?(x=c(Math.pow(v,x)),b=b.j(x).add(c(T))):b=(b=b.j(w)).add(c(T))}return b},Wo=Dk.Integer=s}).apply(typeof Ck<"u"?Ck:typeof self<"u"?self:typeof window<"u"?window:{});var bk,Sk,El,Rk,Tp,Fw,Pk,Mk,xk,wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pi={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof wp&&wp];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var R=l[_];if(!(R in g))break e;g=g[R]}(f=f(_=g[l=l[l.length-1]]))!=_&&null!=f&&e(g,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var g=0,_=!1,R={next:function(){if(!_&&g<l.length){var O=g++;return{value:f(O,l[O]),done:!1}}return _=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}(this,function(f,g){return g})}});var s=s||{},a=this||self;function u(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function c(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,_),l.apply(f,R)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(_,R,O){for(var G=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)G[Be-2]=arguments[Be];return f.prototype[R].apply(_,G)}}function I(l){const f=l.length;if(0<f){const g=Array(f);for(let _=0;_<f;_++)g[_]=l[_];return g}return[]}function E(l,f){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(u(_)){const R=l.length||0,O=_.length||0;l.length=R+O;for(let G=0;G<O;G++)l[R+G]=_[G]}else l.push(_)}}function A(l){return/^[\s\xa0]*$/.test(l)}function k(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var W=!(-1==k().indexOf("Gecko")||-1!=k().toLowerCase().indexOf("webkit")&&-1==k().indexOf("Edge")||-1!=k().indexOf("Trident")||-1!=k().indexOf("MSIE")||-1!=k().indexOf("Edge"));function X(l,f,g){for(const _ in l)f.call(g,l[_],_,l)}function v(l){const f={};for(const g in l)f[g]=l[g];return f}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,f){let g,_;for(let R=1;R<arguments.length;R++){for(g in _=arguments[R],_)l[g]=_[g];for(let O=0;O<w.length;O++)g=w[O],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function S(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function x(l){a.setTimeout(()=>{throw l},0)}function T(){var l=eD;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var id=new class M{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new zre,l=>l.reset());class zre{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let od,sd=!1,eD=new class wi{constructor(){this.h=this.g=null}add(f,g){const _=id.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}},a2=()=>{const l=a.Promise.resolve(void 0);od=()=>{l.then(Wre)}};var Wre=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(g){x(g)}var f=id;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}sd=!1};function ho(){this.s=this.s,this.C=this.C}function nn(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ho.prototype.s=!1,ho.prototype.ma=function(){this.s||(this.s=!0,this.N())},ho.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},nn.prototype.h=function(){this.defaultPrevented=!0};var Kre=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function ad(l,f){if(nn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(W){e:{try{j(f.nodeName);var R=!0;break e}catch{}R=!1}R||(f=null)}}else"mouseover"==g?f=l.fromElement:"mouseout"==g&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Qre[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ad.aa.h.call(this)}}y(ad,nn);var Qre={2:"touch",3:"pen",4:"mouse"};ad.prototype.h=function(){ad.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ud="closure_listenable_"+(1e6*Math.random()|0),Yre=0;function Jre(l,f,g,_,R){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=R,this.key=++Yre,this.da=this.fa=!1}function Ig(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Eg(l){this.src=l,this.g={},this.h=0}function tD(l,f){var g=f.type;if(g in l.g){var O,_=l.g[g],R=Array.prototype.indexOf.call(_,f,void 0);(O=0<=R)&&Array.prototype.splice.call(_,R,1),O&&(Ig(f),0==l.g[g].length&&(delete l.g[g],l.h--))}}function nD(l,f,g,_){for(var R=0;R<l.length;++R){var O=l[R];if(!O.da&&O.listener==f&&O.capture==!!g&&O.ha==_)return R}return-1}Eg.prototype.add=function(l,f,g,_,R){var O=l.toString();(l=this.g[O])||(l=this.g[O]=[],this.h++);var G=nD(l,f,_,R);return-1<G?(f=l[G],g||(f.fa=!1)):((f=new Jre(f,this.src,O,!!_,R)).fa=g,l.push(f)),f};var rD="closure_lm_"+(1e6*Math.random()|0),iD={};function u2(l,f,g,_,R){if(_&&_.once)return l2(l,f,g,_,R);if(Array.isArray(f)){for(var O=0;O<f.length;O++)u2(l,f[O],g,_,R);return null}return g=uD(g),l&&l[ud]?l.K(f,g,c(_)?!!_.capture:!!_,R):c2(l,f,g,!1,_,R)}function c2(l,f,g,_,R,O){if(!f)throw Error("Invalid event type");var G=c(R)?!!R.capture:!!R,Be=sD(l);if(Be||(l[rD]=Be=new Eg(l)),(g=Be.add(f,g,_,G,O)).proxy)return g;if(_=function Zre(){const f=Xre;return function l(g){return f.call(l.src,l.listener,g)}}(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)Kre||(R=G),void 0===R&&(R=!1),l.addEventListener(f.toString(),_,R);else if(l.attachEvent)l.attachEvent(h2(f.toString()),_);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(_)}return g}function l2(l,f,g,_,R){if(Array.isArray(f)){for(var O=0;O<f.length;O++)l2(l,f[O],g,_,R);return null}return g=uD(g),l&&l[ud]?l.L(f,g,c(_)?!!_.capture:!!_,R):c2(l,f,g,!0,_,R)}function d2(l,f,g,_,R){if(Array.isArray(f))for(var O=0;O<f.length;O++)d2(l,f[O],g,_,R);else _=c(_)?!!_.capture:!!_,g=uD(g),l&&l[ud]?(l=l.i,(f=String(f).toString())in l.g&&-1<(g=nD(O=l.g[f],g,_,R))&&(Ig(O[g]),Array.prototype.splice.call(O,g,1),0==O.length&&(delete l.g[f],l.h--))):l&&(l=sD(l))&&(f=l.g[f.toString()],l=-1,f&&(l=nD(f,g,_,R)),(g=-1<l?f[l]:null)&&oD(g))}function oD(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[ud])tD(f.i,l);else{var g=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(g,_,l.capture):f.detachEvent?f.detachEvent(h2(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=sD(f))?(tD(g,l),0==g.h&&(g.src=null,f[rD]=null)):Ig(l)}}}function h2(l){return l in iD?iD[l]:iD[l]="on"+l}function Xre(l,f){if(l.da)l=!0;else{f=new ad(f,this);var g=l.listener,_=l.ha||l.src;l.fa&&oD(l),l=g.call(_,f)}return l}function sD(l){return(l=l[rD])instanceof Eg?l:null}var aD="__closure_events_fn_"+(1e9*Math.random()>>>0);function uD(l){return"function"==typeof l?l:(l[aD]||(l[aD]=function(f){return l.handleEvent(f)}),l[aD])}function rn(){ho.call(this),this.i=new Eg(this),this.M=this,this.F=null}function mn(l,f){var g,_=l.F;if(_)for(g=[];_;_=_.F)g.push(_);if(l=l.M,_=f.type||f,"string"==typeof f)f=new nn(f,l);else if(f instanceof nn)f.target=f.target||l;else{var R=f;b(f=new nn(_,l),R)}if(R=!0,g)for(var O=g.length-1;0<=O;O--){var G=f.g=g[O];R=wg(G,_,!0,f)&&R}if(R=wg(G=f.g=l,_,!0,f)&&R,R=wg(G,_,!1,f)&&R,g)for(O=0;O<g.length;O++)R=wg(G=f.g=g[O],_,!1,f)&&R}function wg(l,f,g,_){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var R=!0,O=0;O<f.length;++O){var G=f[O];if(G&&!G.da&&G.capture==g){var Be=G.listener,zt=G.ha||G.src;G.fa&&tD(l.i,G),R=!1!==Be.call(zt,_)&&R}}return R&&!_.defaultPrevented}function f2(l,f,g){if("function"==typeof l)g&&(l=p(l,g));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function p2(l){l.g=f2(()=>{l.g=null,l.i&&(l.i=!1,p2(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}y(rn,ho),rn.prototype[ud]=!0,rn.prototype.removeEventListener=function(l,f,g,_){d2(this,l,f,g,_)},rn.prototype.N=function(){if(rn.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var g=l.g[f],_=0;_<g.length;_++)Ig(g[_]);delete l.g[f],l.h--}}this.F=null},rn.prototype.K=function(l,f,g,_){return this.i.add(String(l),f,!1,g,_)},rn.prototype.L=function(l,f,g,_){return this.i.add(String(l),f,!0,g,_)};class eie extends ho{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:p2(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cd(l){ho.call(this),this.h=l,this.g={}}y(cd,ho);var g2=[];function m2(l){X(l.g,function(f,g){this.g.hasOwnProperty(g)&&oD(f)},l),l.g={}}cd.prototype.N=function(){cd.aa.N.call(this),m2(this)},cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cD=a.JSON.stringify,tie=a.JSON.parse,nie=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function lD(){}function y2(){}lD.prototype.h=null;var ld={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dD(){nn.call(this,"d")}function hD(){nn.call(this,"c")}y(dD,nn),y(hD,nn);var hs={},v2=null;function Tg(){return v2=v2||new rn}function I2(l){nn.call(this,hs.La,l)}function dd(l){const f=Tg();mn(f,new I2(f))}function E2(l,f){nn.call(this,hs.STAT_EVENT,l),this.stat=f}function _n(l){const f=Tg();mn(f,new E2(f,l))}function w2(l,f){nn.call(this,hs.Ma,l),this.size=f}function hd(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function fd(){this.g=!0}function yu(l,f,g,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function sie(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g)for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var _=g[l];if(!(2>_.length)){var R=_[1];if(Array.isArray(R)&&!(1>R.length)){var O=R[0];if("noop"!=O&&"stop"!=O&&"close"!=O)for(var G=1;G<R.length;G++)R[G]=""}}}return cD(g)}catch{return f}}(l,g)+(_?" "+_:"")})}hs.La="serverreachability",y(I2,nn),hs.STAT_EVENT="statevent",y(E2,nn),hs.Ma="timingevent",y(w2,nn),fd.prototype.xa=function(){this.g=!1},fd.prototype.info=function(){};var fD,Cg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},T2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Dg(){}function fo(l,f,g,_){this.j=l,this.i=f,this.l=g,this.R=_||1,this.U=new cd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new C2}function C2(){this.i=null,this.g="",this.h=!1}y(Dg,lD),Dg.prototype.g=function(){return new XMLHttpRequest},Dg.prototype.i=function(){return{}},fD=new Dg;var D2={},pD={};function gD(l,f,g){l.L=1,l.v=Rg(Ti(f)),l.m=g,l.P=!0,A2(l,null)}function A2(l,f){l.F=Date.now(),Ag(l),l.A=Ti(l.v);var g=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),B2(g.i,"t",_),l.C=0,g=l.j.J,l.h=new C2,l.g=iU(l.j,g?f:null,!l.m),0<l.O&&(l.M=new eie(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,_=l.ca;var R="readystatechange";Array.isArray(R)||(R&&(g2[0]=R.toString()),R=g2);for(var O=0;O<R.length;O++){var G=u2(g,R[O],_||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),dd(),function rie(l,f,g,_,R,O){l.info(function(){if(l.g)if(O)for(var G="",Be=O.split("&"),zt=0;zt<Be.length;zt++){var be=Be[zt].split("=");if(1<be.length){var on=be[0];be=be[1];var sn=on.split("_");G=2<=sn.length&&"type"==sn[1]?G+(on+"=")+be+"&":G+(on+"=redacted&")}}else G=null;else G=O;return"XMLHTTP REQ ("+_+") [attempt "+R+"]: "+f+"\n"+g+"\n"+G})}(l.i,l.u,l.A,l.l,l.R,l.m)}function b2(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function aie(l,f){var g=l.C,_=f.indexOf("\n",g);return-1==_?pD:(g=Number(f.substring(g,_)),isNaN(g)?D2:(_+=1)+g>f.length?pD:(f=f.slice(_,_+g),l.C=_+g,f))}function Ag(l){l.S=Date.now()+l.I,S2(l,l.I)}function S2(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=hd(p(l.ba,l),f)}function mD(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function pd(l){0==l.j.G||l.J||eU(l.j,l)}function fs(l){mD(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,m2(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function _D(l,f){try{var g=l.j;if(0!=g.G&&(g.g==l||yD(g.h,l)))if(!l.K&&yD(g.h,l)&&3==g.G){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&3==_.length){var R=_;if(0==R[0]){e:if(!g.u){if(g.g){if(!(g.g.F+3e3<l.F))break e;Og(g),xg(g)}wD(g),_n(18)}}else g.za=R[1],0<g.za-g.T&&37500>R[2]&&g.F&&0==g.v&&!g.C&&(g.C=hd(p(g.Za,g),6e3));if(1>=M2(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gs(g,11)}else if((l.K||g.g==l)&&Og(g),!A(f))for(R=g.Da.g.parse(f),f=0;f<R.length;f++){let be=R[f];if(g.T=be[0],be=be[1],2==g.G)if("c"==be[0]){g.K=be[1],g.ia=be[2];const on=be[3];null!=on&&(g.la=on,g.j.info("VER="+g.la));const sn=be[4];null!=sn&&(g.Aa=sn,g.j.info("SVER="+g.Aa));const Eu=be[5];null!=Eu&&"number"==typeof Eu&&0<Eu&&(g.L=_=1.5*Eu,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const yr=l.g;if(yr){const Vg=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vg){var O=_.h;O.g||-1==Vg.indexOf("spdy")&&-1==Vg.indexOf("quic")&&-1==Vg.indexOf("h2")||(O.j=O.l,O.g=new Set,O.h&&(vD(O,O.h),O.h=null))}if(_.D){const CD=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;CD&&(_.ya=CD,Je(_.I,_.D,CD))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms"));var G=l;if((_=g).qa=rU(_,_.J?_.ia:null,_.W),G.K){x2(_.h,G);var Be=G,zt=_.L;zt&&(Be.I=zt),Be.B&&(mD(Be),Ag(Be)),_.g=G}else Z2(_);0<g.i.length&&Ng(g)}else"stop"!=be[0]&&"close"!=be[0]||gs(g,7);else 3==g.G&&("stop"==be[0]||"close"==be[0]?"stop"==be[0]?gs(g,7):ED(g):"noop"!=be[0]&&g.l&&g.l.ta(be),g.v=0)}dd()}catch{}}function R2(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function P2(l){return!!l.h||!!l.g&&l.g.size>=l.j}function M2(l){return l.h?1:l.g?l.g.size:0}function yD(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function vD(l,f){l.g?l.g.add(f):l.h=f}function x2(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function N2(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return I(l.i)}function O2(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var g=function lie(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const _ in l)f[g++]=_;return f}}}(l),_=function cie(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var f=[],g=l.length,_=0;_<g;_++)f.push(l[_]);return f}for(_ in f=[],g=0,l)f[g++]=l[_];return f}(l),R=_.length,O=0;O<R;O++)f.call(void 0,_[O],g&&g[O],l)}fo.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==Ci(l)?f.j():this.Y(l)},fo.prototype.Y=function(l){try{if(l==this.g)e:{const sn=Ci(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>sn)&&(3!=sn||this.g&&(this.h.h||this.g.oa()||W2(this.g)))){this.J||4!=sn||7==f||dd(),mD(this);var g=this.g.Z();this.X=g;t:if(b2(this)){var _=W2(this.g);l="";var R=_.length,O=4==Ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),pd(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<R;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(O&&f==R-1)});_.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=200==g,function iie(l,f,g,_,R,O,G){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+R+"]: "+f+"\n"+g+"\n"+O+" "+G})}(this.i,this.u,this.A,this.l,this.R,sn,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,zt=this.g;if((Be=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Be)){var be=Be;break t}}be=null}if(!(g=be)){this.o=!1,this.s=3,_n(12),fs(this),pd(this);break e}yu(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_D(this,g)}if(this.P){let yr;for(g=!0;!this.J&&this.C<G.length;){if(yr=aie(this,G),yr==pD){4==sn&&(this.s=4,_n(14),g=!1),yu(this.i,this.l,null,"[Incomplete Response]");break}if(yr==D2){this.s=4,_n(15),yu(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}yu(this.i,this.l,yr,null),_D(this,yr)}if(b2(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=sn||0!=G.length||this.h.h||(this.s=1,_n(16),g=!1),this.o=this.o&&g,g){if(0<G.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),TD(on),on.M=!0,_n(11))}}else yu(this.i,this.l,G,"[Invalid Chunked Response]"),fs(this),pd(this)}else yu(this.i,this.l,G,null),_D(this,G);4==sn&&fs(this),this.o&&!this.J&&(4==sn?eU(this.j,this):(this.o=!1,Ag(this)))}else(function Cie(l){const f={};l=(l.g&&2<=Ci(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let _=0;_<l.length;_++){if(A(l[_]))continue;var g=S(l[_]);const R=g[0];if("string"!=typeof(g=g[1]))continue;g=g.trim();const O=f[R]||[];f[R]=O,O.push(g)}!function D(l,f){for(const g in l)f.call(void 0,l[g],g,l)}(f,function(_){return _.join(", ")})})(this.g),400==g&&0<G.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),fs(this),pd(this)}}}catch{}},fo.prototype.cancel=function(){this.J=!0,fs(this)},fo.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function oie(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(dd(),_n(17)),fs(this),this.s=2,pd(this)):S2(this,this.S-l)},R2.prototype.cancel=function(){if(this.i=N2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var k2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ps){this.h=l.h,bg(this,l.j),this.o=l.o,this.g=l.g,Sg(this,l.s),this.l=l.l;var f=l.i,g=new _d;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),V2(this,g),this.m=l.m}else l&&(f=String(l).match(k2))?(this.h=!1,bg(this,f[1]||"",!0),this.o=gd(f[2]||""),this.g=gd(f[3]||"",!0),Sg(this,f[4]),this.l=gd(f[5]||"",!0),V2(this,f[6]||"",!0),this.m=gd(f[7]||"")):(this.h=!1,this.i=new _d(null,this.h))}function Ti(l){return new ps(l)}function bg(l,f,g){l.j=g?gd(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Sg(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function V2(l,f,g){f instanceof _d?(l.i=f,function _ie(l,f){f&&!l.j&&(po(l),l.i=null,l.g.forEach(function(g,_){var R=_.toLowerCase();_!=R&&(L2(this,_),B2(this,R,g))},l)),l.j=f}(l.i,l.h)):(g||(f=md(f,gie)),l.i=new _d(f,l.h))}function Je(l,f,g){l.i.set(f,g)}function Rg(l){return Je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function gd(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function md(l,f,g){return"string"==typeof l?(l=encodeURI(l).replace(f,hie),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function hie(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ps.prototype.toString=function(){var l=[],f=this.j;f&&l.push(md(f,F2,!0),":");var g=this.g;return(g||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(md(f,F2,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(g=this.s)&&l.push(":",String(g))),(g=this.l)&&(this.g&&"/"!=g.charAt(0)&&l.push("/"),l.push(md(g,"/"==g.charAt(0)?pie:fie,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",md(g,mie)),l.join("")};var l,F2=/[#\/\?@]/g,fie=/[#\?:]/g,pie=/[#\?]/g,gie=/[#\?@]/g,mie=/#/g;function _d(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function po(l){l.g||(l.g=new Map,l.h=0,l.i&&function die(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var _=l[g].indexOf("="),R=null;if(0<=_){var O=l[g].substring(0,_);R=l[g].substring(_+1)}else O=l[g];f(O,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function L2(l,f){po(l),f=vu(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function U2(l,f){return po(l),f=vu(l,f),l.g.has(f)}function B2(l,f,g){L2(l,f),0<g.length&&(l.i=null,l.g.set(vu(l,f),I(g)),l.h+=g.length)}function vu(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function go(l,f,g,_,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),_(g)}catch{}}function Iie(){this.g=new nie}function Eie(l,f,g){const _=g||"";try{O2(l,function(R,O){let G=R;c(R)&&(G=cD(R)),f.push(_+O+"="+encodeURIComponent(G))})}catch(R){throw f.push(_+"type="+encodeURIComponent("_badmap")),R}}function yd(l){this.l=l.Ub||null,this.j=l.eb||!1}function Pg(l,f){rn.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function j2(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function vd(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Id(l)}function Id(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function $2(l){let f="";return X(l,function(g,_){f+=_,f+=":",f+=g,f+="\r\n"}),f}function ID(l,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=$2(g),"string"==typeof l?null!=g&&encodeURIComponent(String(g)):Je(l,f,g))}function dt(l){rn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=_d.prototype).add=function(l,f){po(this),this.i=null,l=vu(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this},n.forEach=function(l,f){po(this),this.g.forEach(function(g,_){g.forEach(function(R){l.call(f,R,_,this)},this)},this)},n.na=function(){po(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){const R=l[_];for(let O=0;O<R.length;O++)g.push(f[_])}return g},n.V=function(l){po(this);let f=[];if("string"==typeof l)U2(this,l)&&(f=f.concat(this.g.get(vu(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return po(this),this.i=null,U2(this,l=vu(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];const O=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var R=O;""!==G[_]&&(R+="="+encodeURIComponent(String(G[_]))),l.push(R)}}return this.i=l.join("&")},y(yd,lD),yd.prototype.g=function(){return new Pg(this.l,this.j)},yd.prototype.i=(l={},function(){return l}),y(Pg,rn),(n=Pg.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Id(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vd(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Id(this)),this.g&&(this.readyState=3,Id(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j2(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?vd(this):Id(this),3==this.readyState&&j2(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,vd(this))},n.Qa=function(l){this.g&&(this.response=l,vd(this))},n.ga=function(){this.g&&vd(this)},n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)l.push((g=g.value)[0]+": "+g[1]),g=f.next();return l.join("\r\n")},Object.defineProperty(Pg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),y(dt,rn);var wie=/^https?$/i,Tie=["POST","PUT"];function H2(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,G2(l),Mg(l)}function G2(l){l.A||(l.A=!0,mn(l,"complete"),mn(l,"error"))}function q2(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=Ci(l)||2!=l.Z()))if(l.u&&4==Ci(l))f2(l.Ea,0,l);else if(mn(l,"readystatechange"),4==Ci(l)){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=0===G){var R=String(l.D).match(k2)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),_=!wie.test(R?R.toLowerCase():"")}g=_}if(g)mn(l,"complete"),mn(l,"success");else{l.m=6;try{var O=2<Ci(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",G2(l)}}finally{Mg(l)}}}function Mg(l,f){if(l.g){z2(l);const g=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||mn(l,"ready");try{g.onreadystatechange=_}catch{}}}function z2(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function Ci(l){return l.g?l.g.readyState:0}function W2(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ed(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function K2(l){this.Aa=0,this.i=[],this.j=new fd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ed("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ed("baseRetryDelayMs",5e3,l),this.cb=Ed("retryDelaySeedMs",1e4,l),this.Wa=Ed("forwardChannelMaxRetries",2,l),this.wa=Ed("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new R2(l&&l.concurrentRequestLimit),this.Da=new Iie,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ED(l){if(Q2(l),3==l.G){var f=l.U++,g=Ti(l.I);if(Je(g,"SID",l.K),Je(g,"RID",f),Je(g,"TYPE","terminate"),wd(l,g),(f=new fo(l,l.j,f)).L=2,f.v=Rg(Ti(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&((new Image).src=f.v,g=!0),g||(f.g=iU(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ag(f)}nU(l)}function xg(l){l.g&&(TD(l),l.g.cancel(),l.g=null)}function Q2(l){xg(l),l.u&&(a.clearTimeout(l.u),l.u=null),Og(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function Ng(l){if(!P2(l.h)&&!l.s){l.s=!0;var f=l.Ga;od||a2(),sd||(od(),sd=!0),eD.add(f,l),l.B=0}}function Y2(l,f){var g;g=f?f.l:l.U++;const _=Ti(l.I);Je(_,"SID",l.K),Je(_,"RID",g),Je(_,"AID",l.T),wd(l,_),l.m&&l.o&&ID(_,l.m,l.o),g=new fo(l,l.j,g,l.B+1),null===l.m&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=J2(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),vD(l.h,g),gD(g,_,f)}function wd(l,f){l.H&&X(l.H,function(g,_){Je(f,_,g)}),l.l&&O2({},function(g,_){Je(f,_,g)})}function J2(l,f,g){g=Math.min(l.i.length,g);var _=l.l?p(l.l.Na,l.l,l):null;e:{var R=l.i;let O=-1;for(;;){const G=["count="+g];-1==O?0<g?(O=R[0].g,G.push("ofs="+O)):O=0:G.push("ofs="+O);let Be=!0;for(let zt=0;zt<g;zt++){let be=R[zt].g;const on=R[zt].map;if(be-=O,0>be)O=Math.max(0,R[zt].g-100),Be=!1;else try{Eie(on,G,"req"+be+"_")}catch{_&&_(on)}}if(Be){_=G.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,_}function Z2(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;od||a2(),sd||(od(),sd=!0),eD.add(f,l),l.v=0}}function wD(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=hd(p(l.Fa,l),tU(l,l.v)),l.v++,0))}function TD(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function X2(l){l.g=new fo(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=Ti(l.qa);Je(f,"RID","rpc"),Je(f,"SID",l.K),Je(f,"AID",l.T),Je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Je(f,"TO",l.ja),Je(f,"TYPE","xmlhttp"),wd(l,f),l.m&&l.o&&ID(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Rg(Ti(f)),g.m=null,g.P=!0,A2(g,l)}function Og(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function eU(l,f){var g=null;if(l.g==f){Og(l),TD(l),l.g=null;var _=2}else{if(!yD(l.h,f))return;g=f.D,x2(l.h,f),_=1}if(0!=l.G)if(f.o)if(1==_){g=f.m?f.m.length:0,f=Date.now()-f.F;var R=l.B;mn(_=Tg(),new w2(_,g)),Ng(l)}else Z2(l);else if(3==(R=f.s)||0==R&&0<f.X||!(1==_&&function Die(l,f){return!(M2(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=hd(p(l.Ga,l,f),tU(l,l.B)),l.B++,0)))}(l,f)||2==_&&wD(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),R){case 1:gs(l,5);break;case 4:gs(l,10);break;case 3:gs(l,6);break;default:gs(l,2)}}function tU(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function gs(l,f){if(l.j.info("Error code "+f),2==f){var g=p(l.fb,l),_=l.Xa;const R=!_;_=new ps(_||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||bg(_,"https"),Rg(_),R?function yie(l,f){const g=new fd;if(a.Image){const _=new Image;_.onload=m(go,g,"TestLoadImage: loaded",!0,f,_),_.onerror=m(go,g,"TestLoadImage: error",!1,f,_),_.onabort=m(go,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=m(go,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}(_.toString(),g):function vie(l,f){new fd;const _=new AbortController,R=setTimeout(()=>{_.abort(),go(0,0,!1,f)},1e4);fetch(l,{signal:_.signal}).then(O=>{clearTimeout(R),go(0,0,!!O.ok,f)}).catch(()=>{clearTimeout(R),go(0,0,!1,f)})}(_.toString(),g)}else _n(2);l.G=0,l.l&&l.l.sa(f),nU(l),Q2(l)}function nU(l){if(l.G=0,l.ka=[],l.l){const f=N2(l.h);(0!=f.length||0!=l.i.length)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function rU(l,f,g){var _=g instanceof ps?Ti(g):new ps(g);if(""!=_.g)f&&(_.g=f+"."+_.g),Sg(_,_.s);else{var R=a.location;_=R.protocol,f=f?f+"."+R.hostname:R.hostname,R=+R.port;var O=new ps(null);_&&bg(O,_),f&&(O.g=f),R&&Sg(O,R),g&&(O.l=g),_=O}return f=l.ya,(g=l.D)&&f&&Je(_,g,f),Je(_,"VER",l.la),wd(l,_),_}function iU(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new dt(l.Ca&&!l.pa?new yd({eb:g}):l.pa)).Ha(l.J),f}function oU(){}function kg(){}function Hn(l,f){rn.call(this),this.g=new K2(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!A(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!A(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new Iu(this)}function sU(l){dD.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function aU(){hD.call(this),this.status=1}function Iu(l){this.g=l}(n=dt.prototype).Ha=function(l){this.J=l},n.ea=function(l,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fD.g(),this.v=function _2(l){return l.h||(l.h=l.i())}(this.o?this.o:fD),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(O){return void H2(this,O)}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var R in _)g.set(R,_[R]);else{if("function"!=typeof _.keys||"function"!=typeof _.get)throw Error("Unknown input type for opt_headers: "+String(_));for(const O of _.keys())g.set(O,_.get(O))}_=Array.from(g.keys()).find(O=>"content-type"==O.toLowerCase()),R=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Tie,f,void 0))||_||R||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,G]of g)this.g.setRequestHeader(O,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z2(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){H2(this,O)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,mn(this,"complete"),mn(this,"abort"),Mg(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mg(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?q2(this):this.bb())},n.bb=function(){q2(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),tie(f)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=K2.prototype).la=8,n.G=1,n.connect=function(l,f,g,_){_n(0),this.W=l,this.H=f||{},g&&void 0!==_&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=rU(this,null,this.W),Ng(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const R=new fo(this,this.j,l);let O=this.o;if(this.S&&(O?(O=v(O),b(O,this.S)):O=this.S),null!==this.m||this.O||(R.H=O,O=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){var _=this.i[g];if(void 0===(_="__data__"in _.map&&"string"==typeof(_=_.map.__data__)?_.length:void 0))break;if(4096<(f+=_)){f=g;break e}if(4096===f||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=J2(this,R,f),Je(g=Ti(this.I),"RID",l),Je(g,"CVER",22),this.D&&Je(g,"X-HTTP-Session-Id",this.D),wd(this,g),O&&(this.O?f="headers="+encodeURIComponent(String($2(O)))+"&"+f:this.m&&ID(g,this.m,O)),vD(this.h,R),this.Ua&&Je(g,"TYPE","init"),this.P?(Je(g,"$req",f),Je(g,"SID","null"),R.T=!0,gD(R,g,null)):gD(R,g,f),this.G=2}}else 3==this.G&&(l?Y2(this,l):0==this.i.length||P2(this.h)||Y2(this))},n.Fa=function(){if(this.u=null,X2(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=hd(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),xg(this),X2(this))},n.Za=function(){null!=this.C&&(this.C=null,xg(this),wD(this),_n(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=oU.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},kg.prototype.g=function(l,f){return new Hn(l,f)},y(Hn,rn),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){ED(this.g)},Hn.prototype.o=function(l){var f=this.g;if("string"==typeof l){var g={};g.__data__=l,l=g}else this.u&&((g={}).__data__=cD(l),l=g);f.i.push(new class{constructor(l,f){this.g=l,this.map=f}}(f.Ya++,l)),3==f.G&&Ng(f)},Hn.prototype.N=function(){this.g.l=null,delete this.j,ED(this.g),delete this.g,Hn.aa.N.call(this)},y(sU,dD),y(aU,hD),y(Iu,oU),Iu.prototype.ua=function(){mn(this.g,"a")},Iu.prototype.ta=function(l){mn(this.g,new sU(l))},Iu.prototype.sa=function(l){mn(this.g,new aU)},Iu.prototype.ra=function(){mn(this.g,"b")},kg.prototype.createWebChannel=kg.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,xk=pi.createWebChannelTransport=function(){return new kg},Mk=pi.getStatEventTarget=function(){return Tg()},Pk=pi.Event=hs,Fw=pi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cg.NO_ERROR=0,Cg.TIMEOUT=8,Cg.HTTP_ERROR=6,Tp=pi.ErrorCode=Cg,T2.COMPLETE="complete",Rk=pi.EventType=T2,y2.EventType=ld,ld.OPEN="a",ld.CLOSE="b",ld.ERROR="c",ld.MESSAGE="d",rn.prototype.listen=rn.prototype.K,El=pi.WebChannel=y2,Sk=pi.FetchXmlHttpFactory=yd,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,bk=pi.XhrIo=dt}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});const Nk="@firebase/firestore";class Ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");let Na="10.12.3";const Yi=new pI("@firebase/firestore");function Oa(){return Yi.logLevel}function L(n,...e){if(Yi.logLevel<=we.DEBUG){const t=e.map(Lw);Yi.debug(`Firestore (${Na}): ${n}`,...t)}}function mt(n,...e){if(Yi.logLevel<=we.ERROR){const t=e.map(Lw);Yi.error(`Firestore (${Na}): ${n}`,...t)}}function Bn(n,...e){if(Yi.logLevel<=we.WARN){const t=e.map(Lw);Yi.warn(`Firestore (${Na}): ${n}`,...t)}}function Lw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Q(n="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+n;throw mt(e),new Error(e)}function J(n,e){n||Q()}function H(n,e){return n}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ok{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}}class qX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zX{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(C(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(J("string"==typeof r.accessToken),new Ok(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return J(null===e||"string"==typeof e),new Ot(e)}}class WX{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KX{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(J("string"==typeof t.token),this.R=t.token,new kk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Vk{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=YX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function le(n,e){return n<e?-1:n>e?1:0}function ka(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class ot{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ot(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new ot(0,0))}static max(){return new Z(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wl{constructor(e,t,r){void 0===t?t=0:t>e.length&&Q(),void 0===r?r=e.length-t:r>e.length-t&&Q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===wl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ie extends wl{construct(e,t,r){return new Ie(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ie(t)}static emptyPath(){return new Ie([])}}const JX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends wl{construct(e,t,r){return new nt(e,t,r)}static isValidIdentifier(e){return JX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new U(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new U(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new U(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(t)}static emptyPath(){return new nt([])}}class q{constructor(e){this.path=e}static fromPath(e){return new q(Ie.fromString(e))}static fromName(e){return new q(Ie.fromString(e).popFirst(5))}static empty(){return new q(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ie.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new Ie(e.slice()))}}class jn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new jn(Z.min(),q.empty(),-1)}static max(){return new jn(Z.max(),q.empty(),-1)}}function Bw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=q.comparator(n.documentKey,e.documentKey),0!==t?t:le(n.largestBatchId,e.largestBatchId))}const Bk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ji(n){return jw.apply(this,arguments)}function jw(){return(jw=C(function*(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==Bk)throw n;L("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof P?t:P.resolve(t)}catch(t){return P.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):P.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):P.reject(t)}static resolve(e){return new P((t,r)=>{t(e)})}static reject(e){return new P((t,r)=>{r(e)})}static waitFor(e){return new P((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=P.resolve(!1);for(const r of e)t=t.next(i=>i?P.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new P((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;t(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new P((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function Zi(n){return"IndexedDbTransactionError"===n.name}let $n=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Cl(n){return null==n}function Dl(n){return 0===n&&1/n==-1/0}function Yk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class We{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new We(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ap(this.root,e,this.comparator,!0)}}class Ap{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=o??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ht(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1,Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xk(this.data.getIterator())}getIteratorFrom(e){return new Xk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ve(this.comparator);return t.data=e,t}}class Xk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Ve(nt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class eV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eV("Invalid base64 string: "+o):o}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const Cee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(n){if(J(!!n),"string"==typeof n){let e=0;const t=Cee.exec(n);if(J(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function mi(n){return"string"==typeof n?Pt.fromBase64String(n):Pt.fromUint8Array(n)}function bp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Sp(n){const e=n.mapValue.fields.__previous_value__;return bp(e)?Sp(e):e}function Al(n){const e=gi(n.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}class Dee{constructor(e,t,r,i,o,s,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Jo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}const eo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function to(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bp(n)?4:iV(n)?9007199254740991:10:Q()}function Ur(n,e){if(n===e)return!0;const t=to(n);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Al(n).isEqual(Al(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=gi(i.timestampValue),a=gi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,mi(n.bytesValue).isEqual(mi(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=lt(i.doubleValue),a=lt(o.doubleValue);return s===a?Dl(s)===Dl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ka(n.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Yk(s)!==Yk(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Ur(s[u],a[u])))return!1;return!0}(n,e);default:return Q()}var o}function bl(n,e){return void 0!==(n.values||[]).find(t=>Ur(t,e))}function no(n,e){if(n===e)return 0;const t=to(n),r=to(e);if(t!==r)return le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=lt(o.integerValue||o.doubleValue),u=lt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return tV(n.timestampValue,e.timestampValue);case 4:return tV(Al(n),Al(e));case 5:return le(n.stringValue,e.stringValue);case 6:return function(o,s){const a=mi(o),u=mi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=le(a[c],u[c]);if(0!==d)return d}return le(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=le(lt(o.latitude),lt(s.latitude));return 0!==a?a:le(lt(o.longitude),lt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=no(a[c],u[c]);if(d)return d}return le(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===eo.mapValue&&s===eo.mapValue)return 0;if(o===eo.mapValue)return 1;if(s===eo.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=le(u[h],d[h]);if(0!==p)return p;const m=no(a[u[h]],c[d[h]]);if(0!==m)return m}return le(u.length,d.length)}(n.mapValue,e.mapValue);default:throw Q()}}function tV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return le(n,e);const t=gi(n),r=gi(e),i=le(t.seconds,r.seconds);return 0!==i?i:le(t.nanos,r.nanos)}function Ua(n){return Gw(n)}function Gw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=gi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?mi(n.bytesValue).toBase64():"referenceValue"in n?q.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Gw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Gw(t.fields[s])}`;return i+"}"}(n.mapValue):Q()}function qw(n){return!!n&&"integerValue"in n}function Sl(n){return!!n&&"arrayValue"in n}function nV(n){return!!n&&"nullValue"in n}function rV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mp(n){return!!n&&"mapValue"in n}function Rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(t)}setAll(e){let t=nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Rl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Xi(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Gt(Rl(this.value))}}function aV(n){const e=[];return Xi(n.fields,(t,r)=>{const i=new nt([t]);if(Mp(r)){const o=aV(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}class Ye{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ye(e,0,Z.min(),Z.min(),Z.min(),Gt.empty(),0)}static newFoundDocument(e,t,r,i){return new Ye(e,1,t,Z.min(),r,i,0)}static newNoDocument(e,t){return new Ye(e,2,t,Z.min(),Z.min(),Gt.empty(),0)}static newUnknownDocument(e,t){return new Ye(e,3,t,Z.min(),Z.min(),Gt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ro{constructor(e,t){this.position=e,this.inclusive=t}}function uV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?q.comparator(q.fromName(s.referenceValue),t.key):no(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function cV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ur(n.position[t],e.position[t]))return!1;return!0}class Pl{constructor(e,t="asc"){this.field=e,this.dir=t}}function See(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class lV{}class Ee extends lV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ree(e,t,r):"array-contains"===t?new xee(e,r):"in"===t?new mV(e,r):"not-in"===t?new Nee(e,r):"array-contains-any"===t?new Oee(e,r):new Ee(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Pee(e,r):new Mee(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(no(t,this.value)):null!==t&&to(this.value)===to(t)&&this.matchesComparison(no(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oe extends lV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Oe(e,t)}matches(e){return Ba(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ba(n){return"and"===n.op}function Ww(n){return function dV(n){for(const e of n.filters)if(e instanceof Oe)return!1;return!0}(n)&&Ba(n)}function Kw(n){if(n instanceof Ee)return n.field.canonicalString()+n.op.toString()+Ua(n.value);if(Ww(n))return n.filters.map(e=>Kw(e)).join(",");{const e=n.filters.map(t=>Kw(t)).join(",");return`${n.op}(${e})`}}function hV(n,e){return n instanceof Ee?(r=n,(i=e)instanceof Ee&&r.op===i.op&&r.field.isEqual(i.field)&&Ur(r.value,i.value)):n instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&hV(s,i.filters[a]),!0)}(n,e):void Q();var r,i}function pV(n){return n instanceof Ee?`${(t=n).field.canonicalString()} ${t.op} ${Ua(t.value)}`:n instanceof Oe?function(t){return t.op.toString()+" {"+t.getFilters().map(pV).join(" ,")+"}"}(n):"Filter";var t}class Ree extends Ee{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){const t=q.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pee extends Ee{constructor(e,t){super(e,"in",t),this.keys=gV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mee extends Ee{constructor(e,t){super(e,"not-in",t),this.keys=gV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}class xee extends Ee{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sl(t)&&bl(t.arrayValue,this.value)}}class mV extends Ee{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bl(this.value.arrayValue,t)}}class Nee extends Ee{constructor(e,t){super(e,"not-in",t)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bl(this.value.arrayValue,t)}}class Oee extends Ee{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}class kee{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Qw(n,e=null,t=[],r=[],i=null,o=null,s=null){return new kee(n,e,t,r,i,o,s)}function Xo(n){const e=H(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Kw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Cl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ua(r)).join(",")),e.ue=t}return e.ue}function Ml(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!See(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cV(n.startAt,e.startAt)&&cV(n.endAt,e.endAt)}function xp(n){return q.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class _i{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function ja(n){return new _i(n)}function IV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $a(n){const e=H(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ve(nt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Pl(o,r))}),t.has(nt.keyField().canonicalString())||e.ce.push(new Pl(nt.keyField(),r))}return e.ce}function Xt(n){const e=H(n);return e.le||(e.le=function wV(n,e){if("F"===n.limitType)return Qw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Pl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new ro(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ro(n.startAt.position,n.startAt.inclusive):null;return Qw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,$a(n))),e.le}function Op(n,e,t){return new _i(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xl(n,e){return Ml(Xt(n),Xt(e))&&n.limitType===e.limitType}function TV(n){return`${Xo(Xt(n))}|lt:${n.limitType}`}function Ha(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>pV(i)).join(", ")}]`),Cl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ua(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ua(i)).join(",")),`Target(${r})`}(Xt(n))}; limitType=${n.limitType})`}function Nl(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of $a(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const c=uV(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,$a(r),i)||r.endAt&&!function(s,a,u){const c=uV(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,$a(r),i)));var r,i}function DV(n){return(e,t)=>{let r=!1;for(const i of $a(n)){const o=Vee(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Vee(n,e,t){const r=n.field.isKeyField()?q.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?no(u,c):Q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}class yi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Zk(this.inner)}size(){return this.innerSize}}const Fee=new We(q.comparator);function Rn(){return Fee}const AV=new We(q.comparator);function Ol(...n){let e=AV;for(const t of n)e=e.insert(t.key,t);return e}function bV(n){let e=AV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Br(){return kl()}function SV(){return kl()}function kl(){return new yi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Lee=new We(q.comparator),Uee=new Ve(q.comparator);function me(...n){let e=Uee;for(const t of n)e=e.add(t);return e}const Bee=new Ve(le);function RV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(e)?"-0":e}}function PV(n){return{integerValue:""+n}}function MV(n,e){return function Hk(n){return"number"==typeof n&&Number.isInteger(n)&&!Dl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?PV(e):RV(n,e)}class kp{constructor(){this._=void 0}}function jee(n,e,t){return n instanceof Ga?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bp(o)&&(o=Sp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof es?NV(n,e):n instanceof ts?OV(n,e):function(i,o){const s=xV(i,o),a=kV(s)+kV(i.Pe);return qw(s)&&qw(i.Pe)?PV(a):RV(i.serializer,a)}(n,e)}function $ee(n,e,t){return n instanceof es?NV(n,e):n instanceof ts?OV(n,e):t}function xV(n,e){return n instanceof qa?qw(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Ga extends kp{}class es extends kp{constructor(e){super(),this.elements=e}}function NV(n,e){const t=VV(e);for(const r of n.elements)t.some(i=>Ur(i,r))||t.push(r);return{arrayValue:{values:t}}}class ts extends kp{constructor(e){super(),this.elements=e}}function OV(n,e){let t=VV(e);for(const r of n.elements)t=t.filter(i=>!Ur(i,r));return{arrayValue:{values:t}}}class qa extends kp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function kV(n){return lt(n.integerValue||n.doubleValue)}function VV(n){return Sl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gee{constructor(e,t){this.version=e,this.transformResults=t}}class rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rt}static exists(e){return new rt(void 0,e)}static updateTime(e){return new rt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Fp{}function FV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Wa(n.key,rt.none()):new za(n.key,n.data,rt.none());{const t=n.data,r=Gt.empty();let i=new Ve(nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new vi(n.key,r,new Sn(i.toArray()),rt.none())}}function qee(n,e,t){n instanceof za?function(i,o,s){const a=i.value.clone(),u=BV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof vi?function(i,o,s){if(!Vp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=BV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(UV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fl(n,e,t,r){return n instanceof za?function(o,s,a,u){if(!Vp(o.precondition,s))return a;const c=o.value.clone(),d=jV(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof vi?function(o,s,a,u){if(!Vp(o.precondition,s))return a;const c=jV(o.fieldTransforms,u,s),d=s.data;return d.setAll(UV(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):(a=t,Vp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function zee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=xV(r.transform,i||null);null!=o&&(null===t&&(t=Gt.empty()),t.set(r.field,o))}return t||null}function LV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&ka(r,i,(o,s)=>function Hee(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof es&&i instanceof es||r instanceof ts&&i instanceof ts?ka(r.elements,i.elements,Ur):r instanceof qa&&i instanceof qa?Ur(r.Pe,i.Pe):r instanceof Ga&&i instanceof Ga);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class za extends Fp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vi extends Fp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function BV(n,e,t){const r=new Map;J(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$ee(s,a,t[i]))}return r}function jV(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,jee(o,s,e))}return r}class Wa extends Fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xw extends Fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qee(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=SV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=FV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(t,r)=>LV(t,r))&&ka(this.baseMutations,e.baseMutations,(t,r)=>LV(t,r))}}class tT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){J(e.mutations.length===r.length);let i=Lee;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new tT(e,t,r,i)}}class nT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wee{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tt,De;function GV(n){if(void 0===n)return mt("GRPC error has no .code"),N.UNKNOWN;switch(n){case Tt.OK:return N.OK;case Tt.CANCELLED:return N.CANCELLED;case Tt.UNKNOWN:return N.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return N.INTERNAL;case Tt.UNAVAILABLE:return N.UNAVAILABLE;case Tt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Tt.NOT_FOUND:return N.NOT_FOUND;case Tt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Tt.ABORTED:return N.ABORTED;case Tt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Tt.DATA_LOSS:return N.DATA_LOSS;default:return Q()}}(De=Tt||(Tt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";const Kee=new Wo([4294967295,4294967295],0);function zV(n){const e=function qV(){return new TextEncoder}().encode(n),t=new Ak;return t.update(e),new Uint8Array(t.digest())}function WV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wo([t,r],0),new Wo([i,o],0)]}class rT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ll(`Invalid padding: ${t}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ll(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ll(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wo.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Wo.fromNumber(r)));return 1===i.compare(Kee)&&(i=new Wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=zV(e),[r,i]=WV(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new rT(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=zV(e),[r,i]=WV(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ul{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ul(Z.min(),i,new We(le),Rn(),me())}}class Bl{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bl(r,t,me(),me(),me())}}class Up{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class KV{constructor(e,t){this.targetId=e,this.me=t}}class QV{constructor(e,t,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class YV{constructor(){this.fe=0,this.ge=ZV(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=me(),t=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Bl(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=ZV()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,J(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qee{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rn(),this.qe=JV(),this.Qe=new We(le)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(xp(o))if(0===r){const s=new q(o.path);this.Ue(t,s,Ye.newNoDocument(s,Z.min()))}else J(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;0!==u&&(this.je(t),this.Qe=this.Qe.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=mi(r).toUint8Array()}catch(u){if(u instanceof eV)return Bn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new rT(s,i,o)}catch(u){return Bn(u instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&xp(a.target)){const u=new q(a.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,Ye.newNoDocument(u,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let r=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ul(e,t,this.Qe,this.ke,r);return this.ke=Rn(),this.qe=JV(),this.Qe=new We(le),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new YV,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ve(le),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||L("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function JV(){return new We(q.comparator)}function ZV(){return new We(q.comparator)}const Yee={asc:"ASCENDING",desc:"DESCENDING"},Jee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zee={and:"AND",or:"OR"};class Xee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iT(n,e){return n.useProto3Json||Cl(e)?e:{value:e}}function Ka(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ete(n,e){return Ka(n,e.toTimestamp())}function _t(n){return J(!!n),Z.fromTimestamp(function(t){const r=gi(t);return new ot(r.seconds,r.nanos)}(n))}function oT(n,e){return sT(n,e).canonicalString()}function sT(n,e){const t=(i=n,new Ie(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function eF(n){const e=Ie.fromString(n);return J(dF(e)),e}function jl(n,e){return oT(n.databaseId,e.path)}function jr(n,e){const t=eF(e);if(t.get(1)!==n.databaseId.projectId)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(rF(t))}function tF(n,e){return oT(n.databaseId,e)}function aT(n){return new Ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rF(n){return J(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iF(n,e,t){return{name:jl(n,e),fields:t.value.mapValue.fields}}function sF(n,e){return{documents:[tF(n,e.path)]}}function Bp(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tF(n,i);const o=function(c){if(0!==c.length)return lF(Oe.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:io((p=d).field),direction:ote(p.dir)};var p})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=iT(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function uF(n){let e=function nF(n){const e=eF(n);return 4===e.length?Ie.emptyPath():rF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){J(1===r);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(h){const p=cF(h);return p instanceof Oe&&Ww(p)?p.getFilters():[p]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(p=>{return new Pl(Qa((y=p).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;t.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,Cl(p)?null:p}(t.limit));let u=null;var h;t.startAt&&(u=new ro((h=t.startAt).values||[],!!h.before));let c=null;return t.endAt&&(c=function(h){return new ro(h.values||[],!h.before)}(t.endAt)),function vV(n,e,t,r,i,o,s,a){return new _i(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function cF(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Qa(t.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qa(t.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qa(t.unaryFilter.field);return Ee.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qa(t.unaryFilter.field);return Ee.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(n):void 0!==n.fieldFilter?Ee.create(Qa((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Oe.create(t.compositeFilter.filters.map(r=>cF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(n):Q();var t}function ote(n){return Yee[n]}function ste(n){return Jee[n]}function ate(n){return Zee[n]}function io(n){return{fieldPath:n.canonicalString()}}function Qa(n){return nt.fromServerFormat(n.fieldPath)}function lF(n){return n instanceof Ee?function(t){if("=="===t.op){if(rV(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NAN"}};if(nV(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rV(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NAN"}};if(nV(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(t.field),op:ste(t.op),value:t.value}}}(n):n instanceof Oe?function(t){const r=t.getFilters().map(i=>lF(i));return 1===r.length?r[0]:{compositeFilter:{op:ate(t.op),filters:r}}}(n):Q()}function ute(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ii{constructor(e,t,r,i,o=Z.min(),s=Z.min(),a=Pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hF{constructor(e){this.ct=e}}function cT(n){const e=uF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Op(e,e.limit,"L"):e}class os{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Dl(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=gi(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(mi(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?iV(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Q()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),q.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}os.bt=new os;class mte{constructor(){this._n=new gT}addToCollectionParentIndex(e,t){return this._n.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(jn.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}}class gT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ve(Ie.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Ie.comparator)).toArray()}}new Uint8Array(0);class en{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class as{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new as(0)}static Ln(){return new as(-1)}}class wte{constructor(){this.changes=new yi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class UF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Fl(r.mutation,i,Sn.empty(),ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){const i=Br();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ol();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Br();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Rn();const s=kl(),a=kl();return t.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof vi)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),Fl(d.mutation,c,d.mutation.getFieldMask(),ot.now())):s.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new Dte(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=kl();let i=new We((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let d=r.get(u)||Sn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=SV();d.forEach(p=>{if(!o.has(p)){const m=FV(t.get(p),r.get(p));null!==m&&h.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return q.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Yw(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(Br());let a=-1,u=o;return s.next(c=>P.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?P.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,me())).next(d=>({batchId:a,changes:bV(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=Ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Ol();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{const c=(h=t,p=u.child(o),new _i(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,Ye.newInvalidDocument(d)))});let a=Ol();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&Fl(d.mutation,c,Sn.empty(),ot.now()),Nl(t,c)&&(a=a.insert(u,c))}),a})}}class Ate{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return P.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(i=t).id,version:i.version,createTime:_t(i.createTime)}),P.resolve();var i}getNamedQuery(e,t){return P.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(i=t).name,query:cT(i.bundledQuery),readTime:_t(i.readTime)}),P.resolve();var i}}class bte{constructor(){this.overlays=new We(q.comparator),this.hr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Br();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){const i=Br(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new We((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=Br(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Br(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return P.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nT(t,r));let o=this.hr.get(t);void 0===o&&(o=me(),this.hr.set(t,o)),this.hr.set(t,o.add(r.key))}}class mT{constructor(){this.Pr=new Ve(Vt.Ir),this.Tr=new Ve(Vt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Vt(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new q(new Ie([])),r=new Vt(t,e),i=new Vt(t,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new q(new Ie([])),r=new Vt(t,e),i=new Vt(t,e+1);let o=me();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Vt(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return q.comparator(e.key,t.key)||le(e.pr,t.pr)}static Er(e,t){return le(e.pr,t.pr)||q.comparator(e.key,t.key)}}class Ste{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Ve(Vt.Ir)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.yr;this.yr++;const s=new eT(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.br(t+1),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ve(le);return t.forEach(i=>{const o=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),P.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;q.isDocumentKey(o)||(o=o.child(""));const s=new Vt(new q(o),0);let a=new Ve(le);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),P.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){J(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return P.forEach(t.mutations,i=>{const o=new Vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Vt(t,0),i=this.wr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return P.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rte{constructor(e){this.vr=e,this.docs=new We(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(t))}getEntries(e,t){let r=Rn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ye.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Rn();const s=t.path,a=new q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Bw(new jn((n=d).readTime,n.key,-1),r)<=0||(i.has(d.key)||Nl(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}var n;return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q()}Fr(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Pte(this)}getSize(e){return P.resolve(this.size)}}class Pte extends wte{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Mte{constructor(e){this.persistence=e,this.Mr=new yi(t=>Xo(t),Ml),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new mT,this.targetCount=0,this.Lr=as.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),P.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new as(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.qn(t),P.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),P.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Nr.containsKey(t))}}class _T{constructor(e,t){this.Br={},this.overlays={},this.kr=new $n(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Mte(this),this.indexManager=new mte,this.remoteDocumentCache=new Rte(r=>this.referenceDelegate.Kr(r)),this.serializer=new hF(t),this.$r=new Ate(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new Ste(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);const i=new xte(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,t){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class xte extends eee{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.zr=new mT,this.jr=null}static Hr(e){return new Kp(e)}get Jr(){if(this.jr)return this.jr;throw Q()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),P.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Jr,r=>{const i=q.fromPath(r);return this.Yr(e,i).next(o=>{o||t.removeEntry(i,Z.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return P.or([()=>P.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class ET{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=me(),i=me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ET(e,t.fromCache,r,i)}}class Ote{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jF{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function EQ(){return!function mQ(){var n;const e=null===(n=Zf())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function jk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(St())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Ote;return this.Ji(e,t,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,t,s,a.size)})}).next(()=>o.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Oa()<=we.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Ha(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),P.resolve()):(Oa()<=we.DEBUG&&L("QueryEngine","Query:",Ha(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Oa()<=we.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Ha(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xt(t))):P.resolve())}ji(e,t){if(IV(t))return P.resolve(null);let r=Xt(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Op(t,null,"F"),r=Xt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=me(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(t,a);return this.Xi(t,c,s,u.readTime)?this.ji(e,Op(t,null,"F")):this.es(e,c,t,u)}))})))}Hi(e,t,r,i){return IV(t)||i.isEqual(Z.min())?P.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(t,o);return this.Xi(t,s,r,i)?P.resolve(null):(Oa()<=we.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ha(t)),this.es(e,s,t,function Lk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(1e9===r?new ot(t+1,0):new ot(t,r));return new jn(i,q.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,t){let r=new Ve(DV(e));return t.forEach((i,o)=>{Nl(e,o)&&(r=r.add(o))}),r}Xi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,t,r){return Oa()<=we.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Ha(t)),this.zi.getDocumentsMatchingQuery(e,t,jn.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class kte{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new We(le),this.rs=new yi(o=>Xo(o),Ml),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UF(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function HF(n,e){return wT.apply(this,arguments)}function wT(){return(wT=C(function*(n,e){const t=H(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=me();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return t.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function GF(n){const e=H(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function Lte(n,e){const t=H(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tu(n,e,t){return TT.apply(this,arguments)}function TT(){return(TT=C(function*(n,e,t){const r=H(n),i=r.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zi(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})).apply(this,arguments)}function Jp(n,e,t){const r=H(n);let i=Z.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=H(u),p=h.rs.get(d);return void 0!==p?P.resolve(h.ns.get(p)):h.Qr.getTargetData(c,d)}(r,s,Xt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,t?i:Z.min(),t?o:me())).next(a=>(function KF(n,e,t){let r=n.ss.get(e)||Z.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ss.set(e,r)}(r,function CV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,hs:o})))}class ST{constructor(){this.activeTargetIds=function Zw(){return Bee}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JF{constructor(){this.no=new ST,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ST,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jte{io(e){}shutdown(){}}class ZF{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eg=null;function PT(){return null===eg?eg=268435456+Math.round(2147483648*Math.random()):eg++,"0x"+eg.toString(16)}const $te={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hte{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const tn="WebChannelConnection";class Gte extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${o}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(t,r,i,o,s){const a=PT(),u=this.vo(t,r.toUriEncodedString());L("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(t,u,c,i).then(d=>(L("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Bn("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(t,r,i,o,s,a){return this.Co(t,r,i,o,s)}Fo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Na,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}vo(t,r){return`${this.wo}/v1/${r}:${$te[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){const o=PT();return new Promise((s,a)=>{const u=new bk;u.setWithCredentials(!0),u.listenOnce(Rk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tp.NO_ERROR:const d=u.getResponseJson();L(tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Tp.TIMEOUT:L(tn,`RPC '${e}' ${o} timed out`),a(new U(N.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const h=u.getStatus();if(L(tn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p?.error;if(m&&m.status&&m.message){const y=function(E){const M=E.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(M)>=0?M:N.UNKNOWN}(m.status);a(new U(y,m.message))}else a(new U(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(N.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{L(tn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);L(tn,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",c,r,15)})}Oo(e,t,r){const i=PT(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xk(),a=Mk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Sk({})),this.Fo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const d=o.join("");L(tn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,m=!1;const y=new Hte({lo:E=>{m?L(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(L(tn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),L(tn,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},ho:()=>h.close()}),I=(E,M,A)=>{E.listen(M,k=>{try{A(k)}catch(j){setTimeout(()=>{throw j},0)}})};return I(h,El.EventType.OPEN,()=>{m||(L(tn,`RPC '${e}' stream ${i} transport opened.`),y.mo())}),I(h,El.EventType.CLOSE,()=>{m||(m=!0,L(tn,`RPC '${e}' stream ${i} transport closed`),y.po())}),I(h,El.EventType.ERROR,E=>{m||(m=!0,Bn(tn,`RPC '${e}' stream ${i} transport errored:`,E),y.po(new U(N.UNAVAILABLE,"The operation could not be completed")))}),I(h,El.EventType.MESSAGE,E=>{var M;if(!m){const A=E.data[0];J(!!A);const j=A.error||(null===(M=A[0])||void 0===M?void 0:M.error);if(j){L(tn,`RPC '${e}' stream ${i} received error:`,j);const W=j.status;let X=function(w){const b=Tt[w];if(void 0!==b)return GV(b)}(W),D=j.message;void 0===X&&(X=N.INTERNAL,D="Unknown error status: "+W+" with message "+j.message),m=!0,y.po(new U(X,D)),h.close()}else L(tn,`RPC '${e}' stream ${i} received:`,A),y.yo(A)}}),I(a,Pk.STAT_EVENT,E=>{E.stat===Fw.PROXY?L(tn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Fw.NOPROXY&&L(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function tg(){return typeof document<"u"?document:null}function Yl(n){return new Xee(n,!0)}class MT{constructor(e,t,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class eL{constructor(e,t,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new MT(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return C(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return C(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){var r=this;return C(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==e?r.Yo.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(mt(t.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):t&&t.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ao(t)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{const i=new U(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){const r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var e=this;this.state=5,this.Yo.$o(C(function*(){e.state=0,e.start()}))}c_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qte extends eL{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function nte(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Q(),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(J(void 0===d||"string"==typeof d),Pt.fromBase64String(d||"")):(J(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Pt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?N.UNKNOWN:GV(c.code);return new U(d,c.message||"")}(s);t=new QV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=jr(n,r.document.name),o=_t(r.document.updateTime),s=r.document.createTime?_t(r.document.createTime):Z.min(),a=new Gt({mapValue:{fields:r.document.fields}}),u=Ye.newFoundDocument(i,o,s,a);t=new Up(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=jr(n,r.document),o=r.readTime?_t(r.readTime):Z.min(),s=Ye.newNoDocument(i,o);t=new Up([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=jr(n,r.document);t=new Up([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Q();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Wee(i,o);t=new KV(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?_t(s.readTime):Z.min()}(e);return this.listener.h_(t,r)}P_(e){const t={};t.database=aT(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=xp(u)?{documents:sF(o,u)}:{query:Bp(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=XV(o,s.resumeToken);const c=iT(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=Ka(o,s.snapshotVersion.toTimestamp());const c=iT(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function ite(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.i_(t)}I_(e){const t={};t.database=aT(this.serializer),t.removeTarget=e,this.i_(t)}}class zte extends eL{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(J(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function rte(n,e){return n&&n.length>0?(J(void 0!==e),n.map(t=>function(i,o){let s=_t(i.updateTime?i.updateTime:o);return s.isEqual(Z.min())&&(s=_t(o)),new Gee(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_t(e.commitTime);return this.listener.A_(r,t)}return J(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=aT(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function $l(n,e){let t;if(e instanceof za)t={update:iF(n,e.key,e.value)};else if(e instanceof Wa)t={delete:jl(n,e.key)};else if(e instanceof vi)t={update:iF(n,e.key,e.data),updateMask:ute(e.fieldMask)};else{if(!(e instanceof Xw))return Q();t={verify:jl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ga)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof es)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ts)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qa)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:ete(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Q()),t;var o}(this.serializer,r))};this.i_(t)}}class Wte extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,sT(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(N.UNKNOWN,o.toString())})}xo(e,t,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,sT(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(N.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Kte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(mt(t),this.y_=!1):L("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Qte{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget(C(function*(){var u;uo(s)&&(L("RemoteStore","Restarting streams for network reachability change."),yield(u=C(function*(d){const h=H(d);h.M_.add(4),yield nu(h),h.N_.set("Unknown"),h.M_.delete(4),yield Jl(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.N_=new Kte(r,i)}}function Jl(n){return xT.apply(this,arguments)}function xT(){return(xT=C(function*(n){if(uo(n))for(const e of n.x_)yield e(!0)})).apply(this,arguments)}function nu(n){return NT.apply(this,arguments)}function NT(){return(NT=C(function*(n){for(const e of n.x_)yield e(!1)})).apply(this,arguments)}function ng(n,e){const t=H(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),VT(t)?kT(t):ou(t).Xo()&&OT(t,e))}function ru(n,e){const t=H(n),r=ou(t);t.F_.delete(e),r.Xo()&&tL(t,e),0===t.F_.size&&(r.Xo()?r.n_():uo(t)&&t.N_.set("Unknown"))}function OT(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ou(n).P_(e)}function tL(n,e){n.L_.xe(e),ou(n).I_(e)}function kT(n){n.L_=new Qee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ou(n).start(),n.N_.w_()}function VT(n){return uo(n)&&!ou(n).Zo()&&n.F_.size>0}function uo(n){return 0===H(n).M_.size}function nL(n){n.L_=void 0}function Yte(n){return FT.apply(this,arguments)}function FT(){return(FT=C(function*(n){n.N_.set("Online")})).apply(this,arguments)}function Jte(n){return LT.apply(this,arguments)}function LT(){return(LT=C(function*(n){n.F_.forEach((e,t)=>{OT(n,e)})})).apply(this,arguments)}function Zte(n,e){return UT.apply(this,arguments)}function UT(){return(UT=C(function*(n,e){nL(n),VT(n)?(n.N_.D_(e),kT(n)):n.N_.set("Unknown")})).apply(this,arguments)}function Xte(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=C(function*(n,e,t){if(n.N_.set("Online"),e instanceof QV&&2===e.state&&e.cause)try{yield(r=C(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.F_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.F_.delete(u),o.L_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rg(n,r)}else if(e instanceof Up?n.L_.Ke(e):e instanceof KV?n.L_.He(e):n.L_.We(e),!t.isEqual(Z.min()))try{const r=yield GF(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.F_.get(c);d&&o.F_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.F_.get(u);if(!d)return;o.F_.set(u,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),tL(o,u);const h=new Ii(d.target,u,c,d.sequenceNumber);OT(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield rg(n,r)}var r}),BT.apply(this,arguments)}function rg(n,e,t){return jT.apply(this,arguments)}function jT(){return(jT=C(function*(n,e,t){if(!Zi(e))throw e;n.M_.add(1),yield nu(n),n.N_.set("Offline"),t||(t=()=>GF(n.localStore)),n.asyncQueue.enqueueRetryable(C(function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield Jl(n)}))})).apply(this,arguments)}function rL(n,e){return e().catch(t=>rg(n,t,e))}function iu(n){return $T.apply(this,arguments)}function $T(){return($T=C(function*(n){const e=H(n),t=co(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;ene(e);)try{const i=yield Lte(e.localStore,r);if(null===i){0===e.v_.length&&t.n_();break}r=i.batchId,tne(e,i)}catch(i){yield rg(e,i)}iL(e)&&oL(e)})).apply(this,arguments)}function ene(n){return uo(n)&&n.v_.length<10}function tne(n,e){n.v_.push(e);const t=co(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function iL(n){return uo(n)&&!co(n).Zo()&&n.v_.length>0}function oL(n){co(n).start()}function nne(n){return HT.apply(this,arguments)}function HT(){return(HT=C(function*(n){co(n).V_()})).apply(this,arguments)}function rne(n){return GT.apply(this,arguments)}function GT(){return(GT=C(function*(n){const e=co(n);for(const t of n.v_)e.d_(t.mutations)})).apply(this,arguments)}function ine(n,e,t){return qT.apply(this,arguments)}function qT(){return(qT=C(function*(n,e,t){const r=n.v_.shift(),i=tT.from(r,e,t);yield rL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield iu(n)})).apply(this,arguments)}function one(n,e){return zT.apply(this,arguments)}function zT(){return zT=C(function*(n,e){var t;e&&co(n).E_&&(yield(t=C(function*(i,o){if(function HV(n){switch(n){default:return Q();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(a=o.code)&&a!==N.ABORTED){const s=i.v_.shift();co(i).t_(),yield rL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield iu(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),iL(n)&&oL(n)}),zT.apply(this,arguments)}function sL(n,e){return WT.apply(this,arguments)}function WT(){return(WT=C(function*(n,e){const t=H(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=uo(t);t.M_.add(3),yield nu(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield Jl(t)})).apply(this,arguments)}function KT(n,e){return QT.apply(this,arguments)}function QT(){return(QT=C(function*(n,e){const t=H(n);e?(t.M_.delete(2),yield Jl(t)):e||(t.M_.add(2),yield nu(t),t.N_.set("Unknown"))})).apply(this,arguments)}function ou(n){return n.B_||(n.B_=function(t,r,i){const o=H(t);return o.f_(),new qte(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:Yte.bind(null,n),To:Jte.bind(null,n),Ao:Zte.bind(null,n),h_:Xte.bind(null,n)}),n.x_.push(function(){var e=C(function*(t){t?(n.B_.t_(),VT(n)?kT(n):n.N_.set("Unknown")):(yield n.B_.stop(),nL(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function co(n){return n.k_||(n.k_=function(t,r,i){const o=H(t);return o.f_(),new zte(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:nne.bind(null,n),Ao:one.bind(null,n),R_:rne.bind(null,n),A_:ine.bind(null,n)}),n.x_.push(function(){var e=C(function*(t){t?(n.k_.t_(),yield iu(n)):(yield n.k_.stop(),n.v_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class YT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new YT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new U(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function su(n,e){if(mt("AsyncQueue",`${e}: ${n}`),Zi(n))return new U(N.UNAVAILABLE,`${e}: ${n}`);throw n}class au{constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=Ol(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new au(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof au)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aL{constructor(){this.q_=new We(q.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Q():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class uu{constructor(e,t,r,i,o,s,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new uu(e,t,au.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class sne{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class ane{constructor(){this.queries=new yi(e=>TV(e),xl),this.onlineState="Unknown",this.z_=new Set}}function JT(n,e){return ZT.apply(this,arguments)}function ZT(){return(ZT=C(function*(n,e){const t=H(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new sne,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield t.onListen(i,!0);break;case 1:o.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=su(s,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.U_.push(e),e.j_(t.onlineState),o.K_&&e.H_(o.K_)&&tC(t)})).apply(this,arguments)}function XT(n,e){return eC.apply(this,arguments)}function eC(){return(eC=C(function*(n,e){const t=H(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),0===o.U_.length?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function une(n,e){const t=H(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&tC(t)}function cne(n,e,t){const r=H(n),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(t);r.queries.delete(e)}function tC(n){n.z_.forEach(e=>{e.next()})}var nC,uL;(uL=nC||(nC={})).J_="default",uL.Cache="cache";class rC{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==nC.Cache}}class dL{constructor(e){this.key=e}}class hL{constructor(e){this.key=e}}class fL{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=me(),this.mutatedKeys=me(),this.Ia=DV(e),this.Ta=new au(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new aL,i=t?t.Ta:this.Ta;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=Nl(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?y!==I&&(r.track({type:3,doc:m}),E=!0):this.Ra(p,m)||(r.track({type:2,doc:m}),E=!0,(u&&this.Ia(m,u)>0||c&&this.Ia(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(u||c)&&(a=!0)),E&&(m?(s=s.add(m),o=I?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,h)=>function(m,y){const I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return I(m)-I(y)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=null!=i&&i;const a=t&&!i?this.ma():[],u=0===this.Pa.size&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,0!==s.length||c?{snapshot:new uu(this.query,e.Ta,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new aL,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=me(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new hL(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new dL(r))}),t}pa(e){this.la=e.hs,this.Pa=me();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return uu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class hne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fne{constructor(e){this.key=e,this.wa=!1}}class pne{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new yi(a=>TV(a),xl),this.Da=new Map,this.Ca=new Set,this.va=new We(q.comparator),this.Fa=new Map,this.Ma=new mT,this.xa={},this.Oa=new Map,this.Na=as.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function gne(n,e){return iC.apply(this,arguments)}function iC(){return(iC=C(function*(n,e,t=!0){const r=ig(n);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield pL(r,e,t,!0),i})).apply(this,arguments)}function mne(n,e){return oC.apply(this,arguments)}function oC(){return(oC=C(function*(n,e){const t=ig(n);yield pL(t,e,!0,!1)})).apply(this,arguments)}function pL(n,e,t,r){return sC.apply(this,arguments)}function sC(){return(sC=C(function*(n,e,t,r){const i=yield function eu(n,e){const t=H(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.Qr.allocateTargetId(r).next(s=>(i=new Ii(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}(n.localStore,Xt(e)),o=i.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield function aC(n,e,t,r,i){return uC.apply(this,arguments)}(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&ng(n.remoteStore,i),a})).apply(this,arguments)}function uC(){return uC=C(function*(n,e,t,r,i){n.Ba=(h,p,m)=>{return(y=C(function*(E,M,A,k){let j=M.view.da(A);j.Xi&&(j=yield Jp(E.localStore,M.query,!1).then(({documents:v})=>M.view.da(v,j)));const W=k&&k.targetChanges.get(M.targetId),X=k&&null!=k.targetMismatches.get(M.targetId),D=M.view.applyChanges(j,E.isPrimaryClient,W,X);return vC(E,M.targetId,D.fa),D.snapshot}),function I(E,M,A,k){return y.apply(this,arguments)})(n,h,p,m);var y};const o=yield Jp(n.localStore,e,!0),s=new fL(e,o.hs),a=s.da(o.documents),u=Bl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,u);vC(n,t,c.fa);const d=new hne(e,t,s);return n.ba.set(e,d),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),c.snapshot}),uC.apply(this,arguments)}function _ne(n,e,t){return cC.apply(this,arguments)}function cC(){return(cC=C(function*(n,e,t){const r=H(n),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!xl(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield tu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ru(r.remoteStore,i.targetId),cu(r,i.targetId)}).catch(Ji))):(cu(r,i.targetId),yield tu(r.localStore,i.targetId,!0))})).apply(this,arguments)}function yne(n,e){return lC.apply(this,arguments)}function lC(){return(lC=C(function*(n,e){const t=H(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ru(t.remoteStore,r.targetId))})).apply(this,arguments)}function dC(){return(dC=C(function*(n,e,t){const r=function PC(n){const e=H(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ene.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wne.bind(null,e),e}(n);try{const i=yield function(s,a){const u=H(s),c=ot.now(),d=a.reduce((m,y)=>m.add(y.key),me());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Rn(),I=me();return u.os.getEntries(m,d).next(E=>{y=E,y.forEach((M,A)=>{A.isValidDocument()||(I=I.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,y)).next(E=>{h=E;const M=[];for(const A of a){const k=zee(A,h.get(A.key).overlayedDocument);null!=k&&M.push(new vi(A.key,k,aV(k.value.mapValue),rt.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,M,a)}).next(E=>{p=E;const M=E.applyToLocalDocumentSet(h,I);return u.documentOverlayCache.saveOverlays(m,E.batchId,M)})}).then(()=>({batchId:p.batchId,changes:bV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.xa[s.currentUser.toKey()];c||(c=new We(le)),c=c.insert(a,u),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,t),yield Ei(r,i.changes),yield iu(r.remoteStore)}catch(i){const o=su(i,"Failed to persist write");t.reject(o)}})).apply(this,arguments)}function gL(n,e){return hC.apply(this,arguments)}function hC(){return(hC=C(function*(n,e){const t=H(n);try{const r=yield function Fte(n,e){const t=H(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(t.Qr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>t.Qr.addMatchingKeys(o,d.addedDocuments,h)));let m=p.withSequenceNumber(o.currentSequenceNumber);var I,E,M;null!==e.targetMismatches.get(h)?m=m.withResumeToken(Pt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),E=m,M=d,(0===(I=p).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(o,m))});let u=Rn(),c=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function qF(n,e,t){let r=me(),i=me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Rn();return t.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}(o,s,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(Z.min())){const d=t.Qr.getLastRemoteSnapshotVersion(o).next(h=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(t.ns=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Fa.get(o);s&&(J(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?J(s.wa):i.removedDocuments.size>0&&(J(s.wa),s.wa=!1))}),yield Ei(t,r,e)}catch(r){yield Ji(r)}})).apply(this,arguments)}function mL(n,e,t){const r=H(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=H(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.U_)p.j_(a)&&(c=!0)}),c&&tC(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ine(n,e,t){return fC.apply(this,arguments)}function fC(){return(fC=C(function*(n,e,t){const r=H(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new We(q.comparator);s=s.insert(o,Ye.newNoDocument(o,Z.min()));const a=me().add(o),u=new Ul(Z.min(),new Map,new We(le),s,a);yield gL(r,u),r.va=r.va.remove(o),r.Fa.delete(e),IC(r)}else yield tu(r.localStore,e,!1).then(()=>cu(r,e,t)).catch(Ji)})).apply(this,arguments)}function Ene(n,e){return pC.apply(this,arguments)}function pC(){return(pC=C(function*(n,e){const t=H(n),r=e.batch.batchId;try{const i=yield function Vte(n,e){const t=H(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let m=P.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(u,y)).next(I=>{const E=c.docVersions.get(y);J(null!==E),I.version.compareTo(E)<0&&(h.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);yC(t,r,null),_C(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ei(t,i)}catch(i){yield Ji(i)}})).apply(this,arguments)}function wne(n,e,t){return gC.apply(this,arguments)}function gC(){return(gC=C(function*(n,e,t){const r=H(n);try{const i=yield function(s,a){const u=H(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(J(null!==h),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);yC(r,e,t),_C(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ei(r,i)}catch(i){yield Ji(i)}})).apply(this,arguments)}function _C(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function yC(n,e,t){const r=H(n);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function cu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||_L(n,r)})}function _L(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(ru(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),IC(n))}function vC(n,e,t){for(const r of t)r instanceof dL?(n.Ma.addReference(r.key,e),Cne(n,r)):r instanceof hL?(L("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||_L(n,r.key)):Q()}function Cne(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(L("SyncEngine","New document in limbo: "+t),n.Ca.add(r),IC(n))}function IC(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new q(Ie.fromString(e)),r=n.Na.next();n.Fa.set(r,new fne(t)),n.va=n.va.insert(t,r),ng(n.remoteStore,new Ii(Xt(ja(t.path)),r,"TargetPurposeLimboResolution",$n.oe))}}function Ei(n,e,t){return EC.apply(this,arguments)}function EC(){return EC=C(function*(n,e,t){const r=H(n),i=[],o=[],s=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=t?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=ET.Ki(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.Sa.h_(i),yield(a=C(function*(c,d){const h=H(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(d,m=>P.forEach(m.qi,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.Qi,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Zi(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const m=p.targetId;if(!p.fromCache){const y=h.ns.get(m),E=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);h.ns=h.ns.insert(m,E)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),EC.apply(this,arguments)}function Dne(n,e){return wC.apply(this,arguments)}function wC(){return(wC=C(function*(n,e){const t=H(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=yield HF(t.localStore,e);t.currentUser=e,(o=t).Oa.forEach(a=>{a.forEach(u=>{u.reject(new U(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ei(t,r.us)}var o})).apply(this,arguments)}function Ane(n,e){const t=H(n),r=t.Fa.get(e);if(r&&r.wa)return me().add(r.key);{let i=me();const o=t.Da.get(e);if(!o)return i;for(const s of o){const a=t.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function ig(n){const e=H(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ane.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ine.bind(null,e),e.Sa.h_=une.bind(null,e.eventManager),e.Sa.ka=cne.bind(null,e.eventManager),e}class og{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return C(function*(){t.serializer=Yl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function $F(n,e,t,r){return new kte(n,e,t,r)}(this.persistence,new jF,e.initialUser,this.serializer)}createPersistence(e){return new _T(Kp.Hr,this.serializer)}createSharedClientState(e){return new JF}terminate(){var e=this;return C(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lu{initialize(e,t){var r=this;return C(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Dne.bind(null,r.syncEngine),yield KT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ane}createDatastore(e){const t=Yl(e.databaseInfo.databaseId),r=new Gte(e.databaseInfo);return new Wte(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>mL(this.syncEngine,t,0),a=ZF.D()?new ZF:new jte,new Qte(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,c,d){const h=new pne(i,o,s,a,u,c);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return C(function*(){var t,r;yield(r=C(function*(o){const s=H(o);L("RemoteStore","RemoteStore shutting down."),s.M_.add(5),yield nu(s),s.O_.shutdown(),s.N_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}class sg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):mt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Une{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=Vk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=C(function*(a){L("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(C(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=su(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ag(n,e){return MC.apply(this,arguments)}function MC(){return MC=C(function*(n,e){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=C(function*(o){r.isEqual(o)||(yield HF(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),MC.apply(this,arguments)}function xC(n,e){return NC.apply(this,arguments)}function NC(){return(NC=C(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function OC(n){return kC.apply(this,arguments)}(n);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>sL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>sL(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function kC(){return(kC=C(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ag(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function TL(n){return"FirebaseError"===n.name?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Bn("Error using user provided cache. Falling back to memory cache: "+t),yield ag(n,new og)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield ag(n,new og);return n._offlineComponents})).apply(this,arguments)}function ug(n){return VC.apply(this,arguments)}function VC(){return(VC=C(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield xC(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield xC(n,new lu))),n._onlineComponents})).apply(this,arguments)}function hu(n){return LC.apply(this,arguments)}function LC(){return(LC=C(function*(n){const e=yield ug(n),t=e.eventManager;return t.onListen=gne.bind(null,e.syncEngine),t.onUnlisten=_ne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yne.bind(null,e.syncEngine),t})).apply(this,arguments)}function RL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const PL=new Map;function UC(n,e,t){if(!t)throw new U(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ML(n){if(!q.isDocumentKey(n))throw new U(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xL(n){if(q.isDocumentKey(n))throw new U(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Q()}function _e(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cg(n);throw new U(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class OL{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new U(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new U(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Jne(n,e,t,r){if(!0===e&&!0===r)throw new U(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=RL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zl{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new U(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new GX;switch(r.type){case"firstParty":return new KX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=PL.get(t);r&&(L("ComponentProvider","Removing Datastore"),PL.delete(t),r.terminate())}(this),Promise.resolve()}}class qt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}}class $r extends qt{constructor(e,t,r){super(e,t,ja(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new q(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function kL(n,e,...t){if(n=An(n),UC("collection","path",e),n instanceof Zl){const r=Ie.fromString(e,...t);return xL(r),new $r(n,null,r)}{if(!(n instanceof yt||n instanceof $r))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ie.fromString(e,...t));return xL(r),new $r(n.firestore,null,r)}}function VL(n,e,...t){if(n=An(n),1===arguments.length&&(e=Vk.newId()),UC("doc","path",e),n instanceof Zl){const r=Ie.fromString(e,...t);return ML(r),new yt(n,null,new q(r))}{if(!(n instanceof yt||n instanceof $r))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ie.fromString(e,...t));return ML(r),new yt(n.firestore,n instanceof $r?n.converter:null,new q(r))}}class Xne{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new MT(this,"async_queue_retry"),this.hu=()=>{const t=tg();t&&L("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=tg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=tg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new Rt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return C(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(t){if(!Zi(t))throw t;L("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,mt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=YT.createAndSchedule(this,e,t,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Q()}verifyOperationInProgress(){}du(){var e=this;return C(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class Fe extends Zl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xne,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LL(this),this._firestoreClient.terminate()}}function tre(n,e){const r="string"==typeof n?n:e||"(default)",i=ip("object"==typeof n?n:d1(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=JO("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();o&&function Zne(n,e,t,r={}){var i;const o=(n=_e(n,Zl))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Bn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ot.MOCK_USER;else{a=function pQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yf(JSON.stringify({alg:"none",type:"JWT"})),Yf(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new U(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ot(c)}n._authCredentials=new qX(new Ok(a,u))}}(i,...o)}return i}function st(n){return n._firestoreClient||LL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LL(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Dee(n._databaseId,u,n._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RL(d.experimentalLongPollingOptions),d.useFetchStreams));var u,d;n._firestoreClient=new Une(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cs(Pt.fromBase64String(e))}catch(t){throw new U(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cs(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new U(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jL{constructor(e){this._methodName=e}}class jC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}const rre=/^__.*__$/;class ire{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vi(e,this.data,this.fieldMask,t,this.fieldTransforms):new za(e,this.data,t,this.fieldTransforms)}}function HL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class lg{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return hg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(HL(this.fu)&&rre.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ore{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Yl(e)}Fu(e,t,r,i=!1){return new lg({fu:e,methodName:t,vu:r,path:nt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pu(n){const e=n._freezeSettings(),t=Yl(n._databaseId);return new ore(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $C(n,e,t,r,i,o={}){const s=n.Fu(o.merge||o.mergeFields?2:0,e,t,i);WC("Data must be an object, but it was:",s,r);const a=KL(r,s);let u,c;if(o.merge)u=new Sn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=td(e,h,t);if(!s.contains(p))throw new U(N.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);YL(d,p)||d.push(p)}u=new Sn(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new ire(new Gt(a),u,c)}function ls(n,e){if(QL(n=An(n)))return WC("Unsupported field value:",e,n),KL(n,e);if(n instanceof jL)return function(r,i){if(!HL(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=ls(a,i.bu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=An(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return MV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ot.fromDate(r);return{timestampValue:Ka(i.serializer,o)}}if(r instanceof ot){const o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ka(i.serializer,o)}}if(r instanceof jC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cs)return{bytesValue:XV(i.serializer,r._byteString)};if(r instanceof yt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:oT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${cg(r)}`)}(n,e)}function KL(n,e){const t={};return Zk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(n,(r,i)=>{const o=ls(i,e.pu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function QL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ot||n instanceof jC||n instanceof cs||n instanceof yt||n instanceof jL)}function WC(n,e,t){if(!QL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=cg(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function td(n,e,t){if((e=An(e))instanceof fu)return e._internalPath;if("string"==typeof e)return dg(n,e);throw hg("Field path arguments must be of type string or ",n,!1,void 0,t)}const sre=new RegExp("[~\\*/\\[\\]]");function dg(n,e,t){if(e.search(sre)>=0)throw hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fu(...e.split("."))._internalPath}catch{throw hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hg(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(N.INVALID_ARGUMENT,a+n+u)}function YL(n,e){return n.some(t=>t.isEqual(e))}class KC{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new are(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class are extends KC{data(){return super.data()}}function fg(n,e){return"string"==typeof e?dg(n,e):e instanceof fu?e._internalPath:e._delegate._internalPath}class cre{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new jC(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const t=gi(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ie.fromString(e);J(dF(r));const i=new Jo(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||mt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class ds{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mu extends KC{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _g extends mu{data(e={}){return super.data(e)}}class _u{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ds(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _g(this._firestore,this._userDataWriter,r.key,r,new ds(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new _g(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new _g(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:dre(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class lo extends cre{constructor(e){super(),this.firestore=e}convertBytes(e){return new cs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function rd(n,e){return function(r,i){const o=new Rt;return r.asyncQueue.enqueueAndForget(C(function*(){return function vne(n,e,t){return dC.apply(this,arguments)}(yield function FC(n){return ug(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(st(n),e)}!function(e,t=!0){Na=Sa,ba(new jo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Fe(new zX(r.getProvider("auth-internal")),new QX(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new U(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ui(Nk,"4.6.4",e),ui(Nk,"4.6.4","esm2017")}();let XC=(()=>{class n{constructor(t){this.authService=t,this.db=tre()}createSnippet(t){var r=this;return C(function*(){try{const i=yield function pre(n,e){const t=_e(n.firestore,Fe),r=VL(n),i=function YC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return rd(t,[$C(pu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,rt.exists(!1))]).then(()=>r)}(kL(r.db,"snippets"),{...t,by:r.authService.getUserId()});console.log("Document written with ID: ",i.id)}catch(i){console.error("Error adding document: ",i)}})()}readAllSnippets(){var t=this;return C(function*(){let r=[];try{(yield function fre(n){n=_e(n,qt);const e=_e(n.firestore,Fe),t=st(e),r=new lo(e);return function JL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new U(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function SL(n,e,t={}){const r=new Rt;return n.asyncQueue.enqueueAndForget(C(function*(){return function(o,s,a,u,c){const d=new sg({next:p=>{s.enqueueAndForget(()=>XT(o,h)),p.fromCache&&"server"===u.source?c.reject(new U(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new rC(a,d,{includeMetadataChanges:!0,ra:!0});return JT(o,h)}(yield hu(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new _u(e,r,n,i))}(kL(t.db,"snippets"))).forEach(o=>{r.push({id:o.id,...o.data()})})}catch(i){console.error("Error Reading Snippets : ",i)}return r})()}getSingleSnippet(t){var r=this;return C(function*(){const i=VL(r.db,"snippets",t),o=yield function hre(n){n=_e(n,yt);const e=_e(n.firestore,Fe);return function bL(n,e,t={}){const r=new Rt;return n.asyncQueue.enqueueAndForget(C(function*(){return function(o,s,a,u,c){const d=new sg({next:p=>{s.enqueueAndForget(()=>XT(o,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new U(N.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&u&&"server"===u.source?c.reject(new U(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new rC(ja(a.path),d,{includeMetadataChanges:!0,ra:!0});return JT(o,h)}(yield hu(n),n.asyncQueue,e,t,r)})),r.promise}(st(e),n._key).then(t=>function JC(n,e,t){const r=t.docs.get(e._key),i=new lo(n);return new mu(n,i,e._key,r,new ds(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}(i);return o.exists()||console.log("getSingleSnippet No such document!"),o.data()})()}static#e=this.\u0275fac=function(r){return new(r||n)(re(xa))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bre=(()=>{class n{constructor(t){this.dbService=t,this.title=new Aa("",[Gi.required,Gi.minLength(5)]),this.code=new Aa("",[Gi.required,Gi.minLength(5)]),this.snippetForm=new Yc({title:this.title,code:this.code})}saveSnippet(){var t=this;return C(function*(){console.warn("Snippet : ",t.snippetForm.value),yield t.dbService.createSnippet(t.snippetForm.value),t.snippetForm.reset()})()}readSnippets(){this.dbService.readAllSnippets().then(t=>{console.log(t)}).catch(t=>{console.log("Cannot Read the data of snippets.",t)})}static#e=this.\u0275fac=function(r){return new(r||n)(F(XC))};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-create-bin"]],decls:15,vars:6,consts:[[1,"login-form","d-flex","flex-column","w-100","border","border-5","rounded","p-4",3,"formGroup"],[1,"heading","fs-2","bold"],["type","text","placeholder","title ...",1,"mb-4","px-2","py-1",3,"formControl"],[1,"text-danger",3,"hidden"],["type","code","placeholder","// Write code here ...",1,"mb-5","px-2","py-1",3,"formControl"],[1,"btn","btn-success","d-block","mb-2",3,"disabled","keydown.enter","click"]],template:function(r,i){1&r&&(te(0,"form",0)(1,"p",1),ie(2,"Create Snippet "),ee(),te(3,"p"),ie(4,"Enter title : "),ee(),Xn(5,"input",2),te(6,"p",3),ie(7,"Please Enter valid title "),ee(),te(8,"p"),ie(9,"Enter Code"),ee(),Xn(10,"textarea",4),te(11,"p",3),ie(12,"Please Enter valid code "),ee(),te(13,"button",5),xt("keydown.enter",function(){return i.saveSnippet()})("click",function(){return i.saveSnippet()}),ie(14,"Save Snippet"),ee()()),2&r&&(et("formGroup",i.snippetForm),Xe(5),et("formControl",i.title),Xe(1),et("hidden",i.title.valid||i.title.untouched),Xe(4),et("formControl",i.code),Xe(1),et("hidden",i.code.valid||i.code.untouched),Xe(2),et("disabled",!i.snippetForm.valid))},dependencies:[Wf,Ca,Ff,Lf,Kf,el],styles:[".login-form[_ngcontent-%COMP%]{width:95vw!important;min-height:65vh!important}input[_ngcontent-%COMP%]{background-color:#202056;color:#fff;font-weight:500}button[_ngcontent-%COMP%]{text-align:center;width:20%;margin-left:40%;padding:1rem 2rem;background-color:#61c761;font-size:x-large}textarea[_ngcontent-%COMP%]{height:20vh;background-color:#202056;color:#fff;font-weight:500}.heading[_ngcontent-%COMP%]{color:#61c761}"]})}return n})(),Sre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-about"]],decls:32,vars:0,consts:[[1,"about-container"],[1,"introduction"],[1,"features"],[1,"future-plans"]],template:function(r,i){1&r&&(te(0,"div",0)(1,"header")(2,"h1"),ie(3,"About Codebin"),ee()(),te(4,"main")(5,"section",1)(6,"p"),ie(7," Welcome to Codebin, your go-to platform for managing code snippets. Our services make it easy to create, save, and manage your code, helping you keep your work organized and accessible. "),ee()(),te(8,"section",2)(9,"h2"),ie(10,"Our Services"),ee(),te(11,"ul")(12,"li"),ie(13,"Create User: Register a new account with us."),ee(),te(14,"li"),ie(15,"Login & Authenticated Login: Secure login process for registered users."),ee(),te(16,"li"),ie(17,"Logout: Easily log out of your account."),ee(),te(18,"li"),ie(19,"Create Snippet: Add new code snippets to your collection."),ee(),te(20,"li"),ie(21,"View Snippets: Browse all the snippets you have created."),ee(),te(22,"li"),ie(23,"View Individual Snippet: Get detailed information about a specific snippet."),ee()()(),te(24,"section",3)(25,"h2"),ie(26,"Future Plans"),ee(),te(27,"p"),ie(28," We are continually working to improve Codebin. In the future, we plan to add the ability to update and delete snippets, giving you more control over your code library. "),ee()()(),te(29,"footer")(30,"p"),ie(31,"\xa9 2024 Codebin. All rights reserved."),ee()()())},styles:[".about-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif;background-color:#f9f9f9;color:#333}.about-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{width:100%;max-width:800px;text-align:center;margin-bottom:20px}.about-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#61c761;margin:0}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{width:100%;max-width:800px;background-color:#fff;border-radius:8px;box-shadow:0 4px 10px #0000001a;padding:20px}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]{margin-bottom:20px}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;color:#333}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]{margin-bottom:20px}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#007bff;margin-bottom:10px}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;margin-bottom:5px;color:#333}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{color:#61c761}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .future-plans[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#007bff;margin-bottom:10px}.about-container[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .future-plans[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;color:#333}.about-container[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{margin-top:20px;text-align:center;font-size:.9rem;color:#333}"]})}return n})();const s2=(n,e)=>{let t=K(xa),r=K(Dn);return!!t.isAuthenticated()||(r.navigate(["/"]),!1)};let Rre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-home"]],decls:13,vars:0,consts:[[1,"main"],[1,"left"],[1,"heading"],[1,"sec-heading"],[1,"desc"],["routerLink","create-snippet",1,"button"],[1,"right"]],template:function(r,i){1&r&&(te(0,"div",0)(1,"div",1)(2,"p",2),ie(3,"Welcome to the "),te(4,"b"),ie(5,"CodeBin"),ee()(),te(6,"p",3),ie(7,"Our repository is the best code repository in the Mandki."),ee(),te(8,"p",4),ie(9,"We provide the services to create user , login , authinticated login and logout ... then user can create the snippet , view snipets , view individual snippet information ... later we are gonna add the functionality to Update and delete the snippets from the Codebin. "),ee(),te(10,"button",5),ie(11,"Let's Create Snippets"),ee()(),Xn(12,"div",6),ee())},dependencies:[Ta],styles:[".main[_ngcontent-%COMP%]{height:150vh;width:100%;display:flex}.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{padding:3rem;height:50%;width:50%;border-right:3px solid rgb(219,215,215)}.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:3em;font-weight:700}.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#61c761;font-style:italic}.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .sec-heading[_ngcontent-%COMP%]{font-size:x-large;font-weight:500}.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem;padding-right:8rem;font-size:1.1rem;text-align:left}.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:.5rem 2rem;background-color:#69cb69;border-radius:.7rem;color:#000;font-weight:500;font-size:1.5rem}.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#62d662;border-radius:.7rem;border:2px rgb(54,53,53) solid;box-shadow:#0006 0 2px 4px,#0000004d 0 7px 13px -3px,#0003 0 -3px inset;color:#000;font-weight:600}.main[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{height:50%;width:50%;background-image:url(codingImg.89d278224568b6b4.jpg);background-repeat:no-repeat;background-size:100% 100%}"]})}return n})(),Pre=(()=>{class n{constructor(t,r){this.dbService=t,this.route=r,this.codeSnippet={title:"",code:""}}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");this.dbService.getSingleSnippet(t).then(r=>{this.codeSnippet=r,console.log("codeSnippet",this.codeSnippet)})}static#e=this.\u0275fac=function(r){return new(r||n)(F(XC),F(Fo))};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-view-snippet"]],decls:6,vars:4,consts:[[1,"snippet-container"],[1,"snippet-title"],[1,"code-block"]],template:function(r,i){1&r&&(te(0,"div",0)(1,"p",1),ie(2),py(3,"titlecase"),ee(),te(4,"pre",2),ie(5),ee()()),2&r&&(Xe(2),mc(gy(3,2,i.codeSnippet.title)),Xe(3),mc(i.codeSnippet.code))},dependencies:[sv],styles:[".snippet-container[_ngcontent-%COMP%]{width:90vw;background-color:#f9f9f9;border:1px solid #ddd;border-radius:5px;padding:20px}.snippet-title[_ngcontent-%COMP%]{font-size:1.5em;color:#333;margin-bottom:10px}.code-block[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#f8f8f2;border:1px solid #272822;border-radius:5px;padding:10px;font-family:Courier New,monospace;font-size:14px;white-space:pre-wrap;overflow-x:auto}"]})}return n})();function Mre(n,e){1&n&&(te(0,"div")(1,"ul")(2,"li"),ie(3,"No Snippets to display."),ee()()())}function xre(n,e){1&n&&(te(0,"div")(1,"ul")(2,"li"),ie(3,"Please Login to see the Data"),ee()()())}const Nre=function(n){return["/snippet",n]};function Ore(n,e){if(1&n&&(te(0,"ul")(1,"li")(2,"a",4),ie(3),py(4,"titlecase"),ee()()()),2&n){const t=e.$implicit;Xe(2),et("routerLink",function SP(n,e,t,r){return RP(V(),cn(),n,e,t,r)}(4,Nre,t.id)),Xe(1),mc(gy(4,2,t.title))}}const kre=[{path:"login",component:jX},{path:"signup",component:$X},{path:"create-snippet",component:bre,canActivate:[s2]},{path:"view-snippets",component:(()=>{class n{constructor(t,r){this.dbService=t,this.authService=r,this.allSnippets=[],this.currentUserData=[]}ngOnInit(){this.dbService.readAllSnippets().then(t=>{this.allSnippets=t,this.currentUserData=this.allSnippets.filter(r=>r.by==this.authService.getUserId())})}static#e=this.\u0275fac=function(r){return new(r||n)(F(XC),F(xa))};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-view-snippets"]],decls:7,vars:3,consts:[[1,"heading"],[1,"snippets"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(r,i){1&r&&(te(0,"div",0)(1,"p"),ie(2,"All Snippets"),ee()(),te(3,"div",1),Ao(4,Mre,4,0,"div",2),Ao(5,xre,4,0,"div",2),Ao(6,Ore,5,6,"ul",3),ee()),2&r&&(Xe(4),et("ngIf",i.authService.getUserId()&&0==i.currentUserData.length),Xe(1),et("ngIf",!i.authService.getUserId()),Xe(1),et("ngForOf",i.currentUserData))},dependencies:[lx,rv,Ta,sv],styles:[".heading[_ngcontent-%COMP%]{color:#1e84f8;font-size:2rem;font-weight:700;border-bottom:2 px solid rgb(30,132,248);padding-bottom:10px;text-align:center;margin-bottom:20px}.snippets[_ngcontent-%COMP%]{width:90vw;padding:20px;background-color:#d8d5d5;border-radius:8px;box-shadow:0 4px 8px #0000001a;font-family:Roboto,sans-serif}.snippets[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.snippets[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;margin:10px 0;background-color:#fff;border-radius:4px;box-shadow:0 2px 4px #0000001a;transition:transform .3s,box-shadow .3s}.snippets[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0003}.snippets[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:1.2rem;color:#000;font-weight:700;transition:color .3s}.snippets[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f34c3a}.snippets[_ngcontent-%COMP%]   ul.no-snippets[_ngcontent-%COMP%]{text-align:center;color:#777;font-style:italic}.snippets[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{text-align:center;font-size:1.1rem;color:#666;margin:20px 0}"]})}return n})(),canActivate:[s2]},{path:"about",component:Sre},{path:"",component:Rre},{path:"snippet/:id",component:Pre},{path:"**",component:HX}];let Vre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=cr({type:n});static#n=this.\u0275inj=zn({imports:[zN.forRoot(kre),zN]})}return n})();const Fre={apiKey:"AIzaSyDw47kV99qAt5pTTDV004LFY4CjfHAjpgk",authDomain:"codebin-bf9ad.firebaseapp.com",projectId:"codebin-bf9ad",storageBucket:"codebin-bf9ad.appspot.com",messagingSenderId:"798410748678",appId:"1:798410748678:web:f948b56e17c4730248a487",measurementId:"G-G44M8FWSNM"};function Bre(n,e){1&n&&(te(0,"p",10),ie(1,"Login"),ee())}function jre(n,e){1&n&&(te(0,"p",11),ie(1,"SignUp"),ee())}function $re(n,e){if(1&n){const t=J_();te(0,"p",12),xt("click",function(){return Lu(t),Uu(tR().authService.logout())}),ie(1,"Logout"),ee()}}ui("firebase","10.12.4","app");let Hre=(()=>{class n{constructor(t){this.authService=t}static#e=this.\u0275fac=function(r){return new(r||n)(F(xa))};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-navbar"]],decls:14,vars:3,consts:[[1,"bg-dark","w-100","text-light","d-flex","justify-content-between","pt-2","px-5",2,"padding-top","1rem !important"],[1,"logo","fs-2"],["routerLink","",1,"cursor-pointer","bold",2,"padding-left","3rem"],[1,"menubar","d-flex","align-items-center","gap-3"],["routerLink","view-snippets","routerLinkActive","active",1,"cursor-pointer","menu","pt-2","p-3"],["routerLink","create-snippet","routerLinkActive","active",1,"cursor-pointer","menu","pt-2","p-3"],["class","cursor-pointer menu pt-2 p-3","routerLink","login","routerLinkActive","active",4,"ngIf"],["class","cursor-pointer menu  pt-2 p-3","routerLink","signup","routerLinkActive","active",4,"ngIf"],["routerLink","about","routerLinkActive","active",1,"cursor-pointer","menu","pt-2","p-3"],["class","cursor-pointer menu pt-2 p-3",3,"click",4,"ngIf"],["routerLink","login","routerLinkActive","active",1,"cursor-pointer","menu","pt-2","p-3"],["routerLink","signup","routerLinkActive","active",1,"cursor-pointer","menu","pt-2","p-3"],[1,"cursor-pointer","menu","pt-2","p-3",3,"click"]],template:function(r,i){1&r&&(te(0,"div",0)(1,"div",1)(2,"p",2),ie(3,"CodeBin"),ee()(),te(4,"div",3)(5,"p",4),ie(6,"View Snippets"),ee(),te(7,"p",5),ie(8,"Create Bin"),ee(),Ao(9,Bre,2,0,"p",6),Ao(10,jre,2,0,"p",7),te(11,"p",8),ie(12,"About"),ee(),Ao(13,$re,2,0,"p",9),ee()()),2&r&&(Xe(9),et("ngIf",!i.authService.isAuthenticated()),Xe(1),et("ngIf",!i.authService.isAuthenticated()),Xe(3),et("ngIf",i.authService.isAuthenticated()))},dependencies:[rv,Ta,LN],styles:[".menubar[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]:hover{background-color:#323232}"]})}return n})(),Gre=(()=>{class n{constructor(){l1(Fre)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Wn({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"p-5","d-flex","align-items-center","justify-content-center"]],template:function(r,i){1&r&&(Xn(0,"app-navbar"),te(1,"div",0),Xn(2,"router-outlet"),ee())},dependencies:[Vv,Hre]})}return n})(),qre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=cr({type:n,bootstrap:[Gre]});static#n=this.\u0275inj=zn({imports:[w8,Vre,nQ,tQ]})}return n})();I8().bootstrapModule(qre).catch(n=>console.error(n))}},ke=>{ke(ke.s=710)}]);